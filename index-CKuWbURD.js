var rE=Object.defineProperty;var iS=c=>{throw TypeError(c)};var oE=(c,t,e)=>t in c?rE(c,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):c[t]=e;var Wt=(c,t,e)=>oE(c,typeof t!="symbol"?t+"":t,e),Oy=(c,t,e)=>t.has(c)||iS("Cannot "+e);var d=(c,t,e)=>(Oy(c,t,"read from private field"),e?e.call(c):t.get(c)),I=(c,t,e)=>t.has(c)?iS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(c):t.set(c,e),T=(c,t,e,i)=>(Oy(c,t,"write to private field"),i?i.call(c,e):t.set(c,e),e),U=(c,t,e)=>(Oy(c,t,"access private method"),e);var wa=(c,t,e,i)=>({set _(a){T(c,t,a,e)},get _(){return d(c,t,i)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=e(a);fetch(a.href,r)}})();var jy={exports:{}},R1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS;function lE(){if(nS)return R1;nS=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,r){var o=null;if(r!==void 0&&(o=""+r),a.key!==void 0&&(o=""+a.key),"key"in a){r={};for(var u in a)u!=="key"&&(r[u]=a[u])}else r=a;return a=r.ref,{$$typeof:c,type:i,key:o,ref:a!==void 0?a:null,props:r}}return R1.Fragment=t,R1.jsx=e,R1.jsxs=e,R1}var sS;function cE(){return sS||(sS=1,jy.exports=lE()),jy.exports}var Y=cE(),Fy={exports:{}},Xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS;function uE(){if(aS)return Xe;aS=1;var c=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,N={};function M(O,ft,k){this.props=O,this.context=ft,this.refs=N,this.updater=k||w}M.prototype.isReactComponent={},M.prototype.setState=function(O,ft){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ft,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=M.prototype;function R(O,ft,k){this.props=O,this.context=ft,this.refs=N,this.updater=k||w}var P=R.prototype=new E;P.constructor=R,L(P,M.prototype),P.isPureReactComponent=!0;var K=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},st=Object.prototype.hasOwnProperty;function it(O,ft,k,q,et,at){return k=at.ref,{$$typeof:c,type:O,key:ft,ref:k!==void 0?k:null,props:at}}function W(O,ft){return it(O.type,ft,void 0,void 0,void 0,O.props)}function lt(O){return typeof O=="object"&&O!==null&&O.$$typeof===c}function yt(O){var ft={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(k){return ft[k]})}var H=/\/+/g;function J(O,ft){return typeof O=="object"&&O!==null&&O.key!=null?yt(""+O.key):ft.toString(36)}function ut(){}function rt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ut,ut):(O.status="pending",O.then(function(ft){O.status==="pending"&&(O.status="fulfilled",O.value=ft)},function(ft){O.status==="pending"&&(O.status="rejected",O.reason=ft)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function _t(O,ft,k,q,et){var at=typeof O;(at==="undefined"||at==="boolean")&&(O=null);var ct=!1;if(O===null)ct=!0;else switch(at){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(O.$$typeof){case c:case t:ct=!0;break;case m:return ct=O._init,_t(ct(O._payload),ft,k,q,et)}}if(ct)return et=et(O),ct=q===""?"."+J(O,0):q,K(et)?(k="",ct!=null&&(k=ct.replace(H,"$&/")+"/"),_t(et,ft,k,"",function(Tt){return Tt})):et!=null&&(lt(et)&&(et=W(et,k+(et.key==null||O&&O.key===et.key?"":(""+et.key).replace(H,"$&/")+"/")+ct)),ft.push(et)),1;ct=0;var gt=q===""?".":q+":";if(K(O))for(var St=0;St<O.length;St++)q=O[St],at=gt+J(q,St),ct+=_t(q,ft,k,at,et);else if(St=A(O),typeof St=="function")for(O=St.call(O),St=0;!(q=O.next()).done;)q=q.value,at=gt+J(q,St++),ct+=_t(q,ft,k,at,et);else if(at==="object"){if(typeof O.then=="function")return _t(rt(O),ft,k,q,et);throw ft=String(O),Error("Objects are not valid as a React child (found: "+(ft==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ft)+"). If you meant to render a collection of children, use an array instead.")}return ct}function B(O,ft,k){if(O==null)return O;var q=[],et=0;return _t(O,q,"","",function(at){return ft.call(k,at,et++)}),q}function z(O){if(O._status===-1){var ft=O._result;ft=ft(),ft.then(function(k){(O._status===0||O._status===-1)&&(O._status=1,O._result=k)},function(k){(O._status===0||O._status===-1)&&(O._status=2,O._result=k)}),O._status===-1&&(O._status=0,O._result=ft)}if(O._status===1)return O._result.default;throw O._result}var Q=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ft=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ft))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function pt(){}return Xe.Children={map:B,forEach:function(O,ft,k){B(O,function(){ft.apply(this,arguments)},k)},count:function(O){var ft=0;return B(O,function(){ft++}),ft},toArray:function(O){return B(O,function(ft){return ft})||[]},only:function(O){if(!lt(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Xe.Component=M,Xe.Fragment=e,Xe.Profiler=a,Xe.PureComponent=R,Xe.StrictMode=i,Xe.Suspense=h,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return X.H.useMemoCache(O)}},Xe.cache=function(O){return function(){return O.apply(null,arguments)}},Xe.cloneElement=function(O,ft,k){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var q=L({},O.props),et=O.key,at=void 0;if(ft!=null)for(ct in ft.ref!==void 0&&(at=void 0),ft.key!==void 0&&(et=""+ft.key),ft)!st.call(ft,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&ft.ref===void 0||(q[ct]=ft[ct]);var ct=arguments.length-2;if(ct===1)q.children=k;else if(1<ct){for(var gt=Array(ct),St=0;St<ct;St++)gt[St]=arguments[St+2];q.children=gt}return it(O.type,et,void 0,void 0,at,q)},Xe.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:r,_context:O},O},Xe.createElement=function(O,ft,k){var q,et={},at=null;if(ft!=null)for(q in ft.key!==void 0&&(at=""+ft.key),ft)st.call(ft,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(et[q]=ft[q]);var ct=arguments.length-2;if(ct===1)et.children=k;else if(1<ct){for(var gt=Array(ct),St=0;St<ct;St++)gt[St]=arguments[St+2];et.children=gt}if(O&&O.defaultProps)for(q in ct=O.defaultProps,ct)et[q]===void 0&&(et[q]=ct[q]);return it(O,at,void 0,void 0,null,et)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(O){return{$$typeof:u,render:O}},Xe.isValidElement=lt,Xe.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:z}},Xe.memo=function(O,ft){return{$$typeof:p,type:O,compare:ft===void 0?null:ft}},Xe.startTransition=function(O){var ft=X.T,k={};X.T=k;try{var q=O(),et=X.S;et!==null&&et(k,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(pt,Q)}catch(at){Q(at)}finally{X.T=ft}},Xe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Xe.use=function(O){return X.H.use(O)},Xe.useActionState=function(O,ft,k){return X.H.useActionState(O,ft,k)},Xe.useCallback=function(O,ft){return X.H.useCallback(O,ft)},Xe.useContext=function(O){return X.H.useContext(O)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(O,ft){return X.H.useDeferredValue(O,ft)},Xe.useEffect=function(O,ft,k){var q=X.H;if(typeof k=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(O,ft)},Xe.useId=function(){return X.H.useId()},Xe.useImperativeHandle=function(O,ft,k){return X.H.useImperativeHandle(O,ft,k)},Xe.useInsertionEffect=function(O,ft){return X.H.useInsertionEffect(O,ft)},Xe.useLayoutEffect=function(O,ft){return X.H.useLayoutEffect(O,ft)},Xe.useMemo=function(O,ft){return X.H.useMemo(O,ft)},Xe.useOptimistic=function(O,ft){return X.H.useOptimistic(O,ft)},Xe.useReducer=function(O,ft,k){return X.H.useReducer(O,ft,k)},Xe.useRef=function(O){return X.H.useRef(O)},Xe.useState=function(O){return X.H.useState(O)},Xe.useSyncExternalStore=function(O,ft,k){return X.H.useSyncExternalStore(O,ft,k)},Xe.useTransition=function(){return X.H.useTransition()},Xe.version="19.1.0",Xe}var rS;function zA(){return rS||(rS=1,Fy.exports=uE()),Fy.exports}var De=zA(),Iy={exports:{}},D1={},By={exports:{}},zy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oS;function hE(){return oS||(oS=1,function(c){function t(B,z){var Q=B.length;B.push(z);t:for(;0<Q;){var pt=Q-1>>>1,O=B[pt];if(0<a(O,z))B[pt]=z,B[Q]=O,Q=pt;else break t}}function e(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var z=B[0],Q=B.pop();if(Q!==z){B[0]=Q;t:for(var pt=0,O=B.length,ft=O>>>1;pt<ft;){var k=2*(pt+1)-1,q=B[k],et=k+1,at=B[et];if(0>a(q,Q))et<O&&0>a(at,q)?(B[pt]=at,B[et]=Q,pt=et):(B[pt]=q,B[k]=Q,pt=k);else if(et<O&&0>a(at,Q))B[pt]=at,B[et]=Q,pt=et;else break t}}return z}function a(B,z){var Q=B.sortIndex-z.sortIndex;return Q!==0?Q:B.id-z.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;c.unstable_now=function(){return r.now()}}else{var o=Date,u=o.now();c.unstable_now=function(){return o.now()-u}}var h=[],p=[],m=1,y=null,A=3,w=!1,L=!1,N=!1,M=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function K(B){for(var z=e(p);z!==null;){if(z.callback===null)i(p);else if(z.startTime<=B)i(p),z.sortIndex=z.expirationTime,t(h,z);else break;z=e(p)}}function X(B){if(N=!1,K(B),!L)if(e(h)!==null)L=!0,st||(st=!0,J());else{var z=e(p);z!==null&&_t(X,z.startTime-B)}}var st=!1,it=-1,W=5,lt=-1;function yt(){return M?!0:!(c.unstable_now()-lt<W)}function H(){if(M=!1,st){var B=c.unstable_now();lt=B;var z=!0;try{t:{L=!1,N&&(N=!1,R(it),it=-1),w=!0;var Q=A;try{e:{for(K(B),y=e(h);y!==null&&!(y.expirationTime>B&&yt());){var pt=y.callback;if(typeof pt=="function"){y.callback=null,A=y.priorityLevel;var O=pt(y.expirationTime<=B);if(B=c.unstable_now(),typeof O=="function"){y.callback=O,K(B),z=!0;break e}y===e(h)&&i(h),K(B)}else i(h);y=e(h)}if(y!==null)z=!0;else{var ft=e(p);ft!==null&&_t(X,ft.startTime-B),z=!1}}break t}finally{y=null,A=Q,w=!1}z=void 0}}finally{z?J():st=!1}}}var J;if(typeof P=="function")J=function(){P(H)};else if(typeof MessageChannel<"u"){var ut=new MessageChannel,rt=ut.port2;ut.port1.onmessage=H,J=function(){rt.postMessage(null)}}else J=function(){E(H,0)};function _t(B,z){it=E(function(){B(c.unstable_now())},z)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(B){B.callback=null},c.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<B?Math.floor(1e3/B):5},c.unstable_getCurrentPriorityLevel=function(){return A},c.unstable_next=function(B){switch(A){case 1:case 2:case 3:var z=3;break;default:z=A}var Q=A;A=z;try{return B()}finally{A=Q}},c.unstable_requestPaint=function(){M=!0},c.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Q=A;A=B;try{return z()}finally{A=Q}},c.unstable_scheduleCallback=function(B,z,Q){var pt=c.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?pt+Q:pt):Q=pt,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Q+O,B={id:m++,callback:z,priorityLevel:B,startTime:Q,expirationTime:O,sortIndex:-1},Q>pt?(B.sortIndex=Q,t(p,B),e(h)===null&&B===e(p)&&(N?(R(it),it=-1):N=!0,_t(X,Q-pt))):(B.sortIndex=O,t(h,B),L||w||(L=!0,st||(st=!0,J()))),B},c.unstable_shouldYield=yt,c.unstable_wrapCallback=function(B){var z=A;return function(){var Q=A;A=z;try{return B.apply(this,arguments)}finally{A=Q}}}}(zy)),zy}var lS;function dE(){return lS||(lS=1,By.exports=hE()),By.exports}var qy={exports:{}},Zs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS;function fE(){if(cS)return Zs;cS=1;var c=zA();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(h,p,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:p,implementation:m}}var o=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Zs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Zs.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return r(h,p,null,m)},Zs.flushSync=function(h){var p=o.T,m=i.p;try{if(o.T=null,i.p=2,h)return h()}finally{o.T=p,i.p=m,i.d.f()}},Zs.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},Zs.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Zs.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,y=u(m,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:A,fetchPriority:w}):m==="script"&&i.d.X(h,{crossOrigin:y,integrity:A,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Zs.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},Zs.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,y=u(m,p.crossOrigin);i.d.L(h,m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Zs.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=u(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},Zs.requestFormReset=function(h){i.d.r(h)},Zs.unstable_batchedUpdates=function(h,p){return h(p)},Zs.useFormState=function(h,p,m){return o.H.useFormState(h,p,m)},Zs.useFormStatus=function(){return o.H.useHostTransitionStatus()},Zs.version="19.1.0",Zs}var uS;function pE(){if(uS)return qy.exports;uS=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),qy.exports=fE(),qy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function gE(){if(hS)return D1;hS=1;var c=dE(),t=zA(),e=pE();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function r(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function o(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function u(n){if(r(n)!==n)throw Error(i(188))}function h(n){var s=n.alternate;if(!s){if(s=r(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,f=s;;){var b=l.return;if(b===null)break;var x=b.alternate;if(x===null){if(f=b.return,f!==null){l=f;continue}break}if(b.child===x.child){for(x=b.child;x;){if(x===l)return u(b),n;if(x===f)return u(b),s;x=x.sibling}throw Error(i(188))}if(l.return!==f.return)l=b,f=x;else{for(var D=!1,Z=b.child;Z;){if(Z===l){D=!0,l=b,f=x;break}if(Z===f){D=!0,f=b,l=x;break}Z=Z.sibling}if(!D){for(Z=x.child;Z;){if(Z===l){D=!0,l=x,f=b;break}if(Z===f){D=!0,f=x,l=b;break}Z=Z.sibling}if(!D)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function p(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=p(n),s!==null)return s;n=n.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),lt=Symbol.for("react.activity"),yt=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function J(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var ut=Symbol.for("react.client.reference");function rt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ut?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case X:return"Suspense";case st:return"SuspenseList";case lt:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case P:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case K:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case it:return s=n.displayName||null,s!==null?s:rt(n.type)||"Memo";case W:s=n._payload,n=n._init;try{return rt(n(s))}catch{}}return null}var _t=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},pt=[],O=-1;function ft(n){return{current:n}}function k(n){0>O||(n.current=pt[O],pt[O]=null,O--)}function q(n,s){O++,pt[O]=n.current,n.current=s}var et=ft(null),at=ft(null),ct=ft(null),gt=ft(null);function St(n,s){switch(q(ct,s),q(at,n),q(et,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?M3(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=M3(s),n=k3(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}k(et),q(et,n)}function Tt(){k(et),k(at),k(ct)}function Yt(n){n.memoizedState!==null&&q(gt,n);var s=et.current,l=k3(s,n.type);s!==l&&(q(at,n),q(et,l))}function Gt(n){at.current===n&&(k(et),k(at)),gt.current===n&&(k(gt),L1._currentValue=Q)}var $t=Object.prototype.hasOwnProperty,Kt=c.unstable_scheduleCallback,xe=c.unstable_cancelCallback,jt=c.unstable_shouldYield,ht=c.unstable_requestPaint,Se=c.unstable_now,fe=c.unstable_getCurrentPriorityLevel,Xt=c.unstable_ImmediatePriority,Zt=c.unstable_UserBlockingPriority,te=c.unstable_NormalPriority,ee=c.unstable_LowPriority,ve=c.unstable_IdlePriority,Fe=c.log,Ge=c.unstable_setDisableYieldValue,ze=null,Pe=null;function ni(n){if(typeof Fe=="function"&&Ge(n),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(ze,n)}catch{}}var pe=Math.clz32?Math.clz32:cs,Ke=Math.log,se=Math.LN2;function cs(n){return n>>>=0,n===0?32:31-(Ke(n)/se|0)|0}var si=256,Us=4194304;function li(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Li(n,s,l){var f=n.pendingLanes;if(f===0)return 0;var b=0,x=n.suspendedLanes,D=n.pingedLanes;n=n.warmLanes;var Z=f&134217727;return Z!==0?(f=Z&~x,f!==0?b=li(f):(D&=Z,D!==0?b=li(D):l||(l=Z&~n,l!==0&&(b=li(l))))):(Z=f&~x,Z!==0?b=li(Z):D!==0?b=li(D):l||(l=f&~n,l!==0&&(b=li(l)))),b===0?0:s!==0&&s!==b&&(s&x)===0&&(x=b&-b,l=s&-s,x>=l||x===32&&(l&4194048)!==0)?s:b}function Hs(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function vi(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ko(){var n=si;return si<<=1,(si&4194048)===0&&(si=256),n}function Ki(){var n=Us;return Us<<=1,(Us&62914560)===0&&(Us=4194304),n}function ca(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ua(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function en(n,s,l,f,b,x){var D=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var Z=n.entanglements,dt=n.expirationTimes,kt=n.hiddenUpdates;for(l=D&~l;0<l;){var It=31-pe(l),Ht=1<<It;Z[It]=0,dt[It]=-1;var Rt=kt[It];if(Rt!==null)for(kt[It]=null,It=0;It<Rt.length;It++){var Dt=Rt[It];Dt!==null&&(Dt.lane&=-536870913)}l&=~Ht}f!==0&&Oe(n,f,0),x!==0&&b===0&&n.tag!==0&&(n.suspendedLanes|=x&~(D&~s))}function Oe(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var f=31-pe(s);n.entangledLanes|=s,n.entanglements[f]=n.entanglements[f]|1073741824|l&4194090}function pi(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var f=31-pe(l),b=1<<f;b&s|n[f]&s&&(n[f]|=s),l&=~b}}function so(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Cn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xa(){var n=z.p;return n!==0?n:(n=window.event,n===void 0?32:K3(n.type))}function Mr(n,s){var l=z.p;try{return z.p=n,s()}finally{z.p=l}}var me=Math.random().toString(36).slice(2),Oi="__reactFiber$"+me,Qi="__reactProps$"+me,Tn="__reactContainer$"+me,dn="__reactEvents$"+me,An="__reactListeners$"+me,ha="__reactHandles$"+me,rc="__reactResources$"+me,da="__reactMarker$"+me;function fa(n){delete n[Oi],delete n[Qi],delete n[dn],delete n[An],delete n[ha]}function us(n){var s=n[Oi];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Tn]||l[Oi]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=O3(n);n!==null;){if(l=n[Oi])return l;n=O3(n)}return s}n=l,l=n.parentNode}return null}function hs(n){if(n=n[Oi]||n[Tn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Gs(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Jn(n){var s=n[rc];return s||(s=n[rc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ci(n){n[da]=!0}var Qo=new Set,oc={};function Ma(n,s){Wa(n,s),Wa(n+"Capture",s)}function Wa(n,s){for(oc[n]=s,n=0;n<s.length;n++)Qo.add(s[n])}var Eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vd={},Sp={};function Um(n){return $t.call(Sp,n)?!0:$t.call(vd,n)?!1:Eu.test(n)?Sp[n]=!0:(vd[n]=!0,!1)}function ao(n,s,l){if(Um(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function lc(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function $a(n,s,l,f){if(f===null)n.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+f)}}var cc,_p;function ro(n){if(cc===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);cc=s&&s[1]||"",_p=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cc+n+_p}var yd=!1;function Zo(n,s){if(!n||yd)return"";yd=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(Dt){var Rt=Dt}Reflect.construct(n,[],Ht)}else{try{Ht.call()}catch(Dt){Rt=Dt}n.call(Ht.prototype)}}else{try{throw Error()}catch(Dt){Rt=Dt}(Ht=n())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(Dt){if(Dt&&Rt&&typeof Dt.stack=="string")return[Dt.stack,Rt.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),D=x[0],Z=x[1];if(D&&Z){var dt=D.split(`
`),kt=Z.split(`
`);for(b=f=0;f<dt.length&&!dt[f].includes("DetermineComponentFrameRoot");)f++;for(;b<kt.length&&!kt[b].includes("DetermineComponentFrameRoot");)b++;if(f===dt.length||b===kt.length)for(f=dt.length-1,b=kt.length-1;1<=f&&0<=b&&dt[f]!==kt[b];)b--;for(;1<=f&&0<=b;f--,b--)if(dt[f]!==kt[b]){if(f!==1||b!==1)do if(f--,b--,0>b||dt[f]!==kt[b]){var It=`
`+dt[f].replace(" at new "," at ");return n.displayName&&It.includes("<anonymous>")&&(It=It.replace("<anonymous>",n.displayName)),It}while(1<=f&&0<=b);break}}}finally{yd=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ro(l):""}function Hm(n){switch(n.tag){case 26:case 27:case 5:return ro(n.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 15:return Zo(n.type,!1);case 11:return Zo(n.type.render,!1);case 1:return Zo(n.type,!0);case 31:return ro("Activity");default:return""}}function nn(n){try{var s="";do s+=Hm(n),n=n.return;while(n);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ns(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wd(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Np(n){var s=wd(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),f=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var b=l.get,x=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return b.call(this)},set:function(D){f=""+D,x.call(this,D)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Jo(n){n._valueTracker||(n._valueTracker=Np(n))}function Ep(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return n&&(f=wd(n)?n.checked?"true":"false":n.value),n=f,n!==l?(s.setValue(n),!0):!1}function Vs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Lu=/[\n"\\]/g;function Ui(n){return n.replace(Lu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function uc(n,s,l,f,b,x,D,Z){n.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?n.type=D:n.removeAttribute("type"),s!=null?D==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Ns(s)):n.value!==""+Ns(s)&&(n.value=""+Ns(s)):D!=="submit"&&D!=="reset"||n.removeAttribute("value"),s!=null?xd(n,D,Ns(s)):l!=null?xd(n,D,Ns(l)):f!=null&&n.removeAttribute("value"),b==null&&x!=null&&(n.defaultChecked=!!x),b!=null&&(n.checked=b&&typeof b!="function"&&typeof b!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?n.name=""+Ns(Z):n.removeAttribute("name")}function Ad(n,s,l,f,b,x,D,Z){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),s!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||s!=null))return;l=l!=null?""+Ns(l):"",s=s!=null?""+Ns(s):l,Z||s===n.value||(n.value=s),n.defaultValue=s}f=f??b,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=Z?n.checked:!!f,n.defaultChecked=!!f,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(n.name=D)}function xd(n,s,l){s==="number"&&Vs(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function oo(n,s,l,f){if(n=n.options,s){s={};for(var b=0;b<l.length;b++)s["$"+l[b]]=!0;for(l=0;l<n.length;l++)b=s.hasOwnProperty("$"+n[l].value),n[l].selected!==b&&(n[l].selected=b),b&&f&&(n[l].defaultSelected=!0)}else{for(l=""+Ns(l),s=null,b=0;b<n.length;b++){if(n[b].value===l){n[b].selected=!0,f&&(n[b].defaultSelected=!0);return}s!==null||n[b].disabled||(s=n[b])}s!==null&&(s.selected=!0)}}function Lp(n,s,l){if(s!=null&&(s=""+Ns(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Ns(l):""}function Sd(n,s,l,f){if(s==null){if(f!=null){if(l!=null)throw Error(i(92));if(_t(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),s=l}l=Ns(s),n.defaultValue=l,f=n.textContent,f===l&&f!==""&&f!==null&&(n.value=f)}function tl(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var _d=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cp(n,s,l){var f=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":f?n.setProperty(s,l):typeof l!="number"||l===0||_d.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function Tp(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var b in s)f=s[b],s.hasOwnProperty(b)&&l[b]!==f&&Cp(n,b,f)}else for(var x in s)s.hasOwnProperty(x)&&Cp(n,x,s[x])}function Nd(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function co(n){return Cu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Tu=null;function Un(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var el=null,uo=null;function ke(n){var s=hs(n);if(s&&(n=s.stateNode)){var l=n[Qi]||null;t:switch(n=s.stateNode,s.type){case"input":if(uc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ui(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==n&&f.form===n.form){var b=f[Qi]||null;if(!b)throw Error(i(90));uc(f,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<l.length;s++)f=l[s],f.form===n.form&&Ep(f)}break t;case"textarea":Lp(n,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&oo(n,!!l.multiple,s,!1)}}}var Ed=!1;function Mp(n,s,l){if(Ed)return n(s,l);Ed=!0;try{var f=n(s);return f}finally{if(Ed=!1,(el!==null||uo!==null)&&(S5(),el&&(s=el,n=uo,uo=el=null,ke(s),n)))for(s=0;s<n.length;s++)ke(n[s])}}function Ys(n,s){var l=n.stateNode;if(l===null)return null;var f=l[Qi]||null;if(f===null)return null;l=f[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mu=!1;if(ka)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Mu=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Mu=!1}var Ra=null,Ld=null,ku=null;function kp(){if(ku)return ku;var n,s=Ld,l=s.length,f,b="value"in Ra?Ra.value:Ra.textContent,x=b.length;for(n=0;n<l&&s[n]===b[n];n++);var D=l-n;for(f=1;f<=D&&s[l-f]===b[x-f];f++);return ku=b.slice(n,1<f?1-f:void 0)}function il(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Rr(){return!0}function ho(){return!1}function ds(n){function s(l,f,b,x,D){this._reactName=l,this._targetInst=b,this.type=f,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var Z in n)n.hasOwnProperty(Z)&&(l=n[Z],this[Z]=l?l(x):x[Z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Rr:ho,this.isPropagationStopped=ho,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Rr)},persist:function(){},isPersistent:Rr}),s}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=ds(pa),Dr=m({},pa,{view:0,detail:0}),Rp=ds(Dr),Ru,Du,sl,ga=m({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==sl&&(sl&&n.type==="mousemove"?(Ru=n.screenX-sl.screenX,Du=n.screenY-sl.screenY):Du=Ru=0,sl=n),Ru)},movementY:function(n){return"movementY"in n?n.movementY:Du}}),Pr=ds(ga),Gm=m({},ga,{dataTransfer:0}),al=ds(Gm),Ka=m({},Dr,{relatedTarget:0}),hc=ds(Ka),dc=m({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Vm=ds(dc),Pu=m({},pa,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ym=ds(Pu),Cd=m({},pa,{data:0}),Ou=ds(Cd),Dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Md(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Td[n])?!!s[n]:!1}function Fu(){return Md}var Xm=m({},Dr,{key:function(n){if(n.key){var s=Dp[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=il(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ju[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fu,charCode:function(n){return n.type==="keypress"?il(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?il(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Iu=ds(Xm),fc=m({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bu=ds(fc),rl=m({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fu}),kd=ds(rl),S=m({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),F=ds(S),ot=m({},ga,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),mt=ds(ot),Et=m({},pa,{newState:0,oldState:0}),Ot=ds(Et),Vt=[9,13,27,32],ne=ka&&"CompositionEvent"in window,ge=null;ka&&"documentMode"in document&&(ge=document.documentMode);var Be=ka&&"TextEvent"in window&&!ge,je=ka&&(!ne||ge&&8<ge&&11>=ge),ai=" ",Vi=!1;function Zi(n,s){switch(n){case"keyup":return Vt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fn(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var pn=!1;function Hn(n,s){switch(n){case"compositionend":return fn(s);case"keypress":return s.which!==32?null:(Vi=!0,ai);case"textInput":return n=s.data,n===ai&&Vi?null:n;default:return null}}function Qa(n,s){if(pn)return n==="compositionend"||!ne&&Zi(n,s)?(n=kp(),ku=Ld=Ra=null,pn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return je&&s.locale!=="ko"?null:s.data;default:return null}}var ma={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Za(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ma[n.type]:s==="textarea"}function Rd(n,s,l,f){el?uo?uo.push(f):uo=[f]:el=f,s=T5(s,"onChange"),0<s.length&&(l=new nl("onChange","change",null,l,f),n.push({event:l,listeners:s}))}var fo=null,po=null;function zu(n){N3(n,0)}function ol(n){var s=Gs(n);if(Ep(s))return n}function qu(n,s){if(n==="change")return s}var pc=!1;if(ka){var Mn;if(ka){var ll="oninput"in document;if(!ll){var gc=document.createElement("div");gc.setAttribute("oninput","return;"),ll=typeof gc.oninput=="function"}Mn=ll}else Mn=!1;pc=Mn&&(!document.documentMode||9<document.documentMode)}function mc(){fo&&(fo.detachEvent("onpropertychange",Uu),po=fo=null)}function Uu(n){if(n.propertyName==="value"&&ol(po)){var s=[];Rd(s,po,n,Un(n)),Mp(zu,s)}}function Xs(n,s,l){n==="focusin"?(mc(),fo=s,po=l,fo.attachEvent("onpropertychange",Uu)):n==="focusout"&&mc()}function Wm(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ol(po)}function Dd(n,s){if(n==="click")return ol(s)}function Pp(n,s){if(n==="input"||n==="change")return ol(s)}function Da(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Gn=typeof Object.is=="function"?Object.is:Da;function cl(n,s){if(Gn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var b=l[f];if(!$t.call(s,b)||!Gn(n[b],s[b]))return!1}return!0}function Pd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function go(n,s){var l=Pd(n);n=0;for(var f;l;){if(l.nodeType===3){if(f=n+l.textContent.length,n<=s&&f>=s)return{node:l,offset:s-n};n=f}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Pd(l)}}function ul(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?ul(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Es(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Vs(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Vs(n.document)}return s}function ts(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var hl=ka&&"documentMode"in document&&11>=document.documentMode,Ws=null,Ja=null,Or=null,tr=!1;function sn(n,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;tr||Ws==null||Ws!==Vs(f)||(f=Ws,"selectionStart"in f&&ts(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Or&&cl(Or,f)||(Or=f,f=T5(Ja,"onSelect"),0<f.length&&(s=new nl("onSelect","select",null,s,l),n.push({event:s,listeners:f}),s.target=Ws)))}function er(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var xn={animationend:er("Animation","AnimationEnd"),animationiteration:er("Animation","AnimationIteration"),animationstart:er("Animation","AnimationStart"),transitionrun:er("Transition","TransitionRun"),transitionstart:er("Transition","TransitionStart"),transitioncancel:er("Transition","TransitionCancel"),transitionend:er("Transition","TransitionEnd")},$s={},bc={};ka&&(bc=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);function jr(n){if($s[n])return $s[n];if(!xn[n])return n;var s=xn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in bc)return $s[n]=s[l];return n}var Hu=jr("animationend"),dl=jr("animationiteration"),fl=jr("animationstart"),pl=jr("transitionrun"),vc=jr("transitionstart"),Gu=jr("transitioncancel"),gl=jr("transitionend"),mo=new Map,yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yc.push("scrollEnd");function an(n,s){mo.set(n,s),Ma(s,[n])}var ba=new WeakMap;function Qe(n,s){if(typeof n=="object"&&n!==null){var l=ba.get(n);return l!==void 0?l:(s={value:n,source:s,stack:nn(s)},ba.set(n,s),s)}return{value:n,source:s,stack:nn(s)}}var Ze=[],ji=0,gn=0;function Pa(){for(var n=ji,s=gn=ji=0;s<n;){var l=Ze[s];Ze[s++]=null;var f=Ze[s];Ze[s++]=null;var b=Ze[s];Ze[s++]=null;var x=Ze[s];if(Ze[s++]=null,f!==null&&b!==null){var D=f.pending;D===null?b.next=b:(b.next=D.next,D.next=b),f.pending=b}x!==0&&Op(l,b,x)}}function ml(n,s,l,f){Ze[ji++]=n,Ze[ji++]=s,Ze[ji++]=l,Ze[ji++]=f,gn|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function bl(n,s,l,f){return ml(n,s,l,f),wc(n)}function bo(n,s){return ml(n,null,null,s),wc(n)}function Op(n,s,l){n.lanes|=l;var f=n.alternate;f!==null&&(f.lanes|=l);for(var b=!1,x=n.return;x!==null;)x.childLanes|=l,f=x.alternate,f!==null&&(f.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(b=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,b&&s!==null&&(b=31-pe(l),n=x.hiddenUpdates,f=n[b],f===null?n[b]=[s]:f.push(s),s.lane=l|536870912),x):null}function wc(n){if(50<y1)throw y1=0,ay=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Vn={};function Oa(n,s,l,f){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(n,s,l,f){return new Oa(n,s,l,f)}function Vu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fr(n,s){var l=n.alternate;return l===null?(l=fs(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Od(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ac(n,s,l,f,b,x){var D=0;if(f=n,typeof n=="function")Vu(n)&&(D=1);else if(typeof n=="string")D=XN(n,l,et.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case lt:return n=fs(31,l,s,b),n.elementType=lt,n.lanes=x,n;case L:return vo(l.children,b,x,s);case N:D=8,b|=24;break;case M:return n=fs(12,l,s,b|2),n.elementType=M,n.lanes=x,n;case X:return n=fs(13,l,s,b),n.elementType=X,n.lanes=x,n;case st:return n=fs(19,l,s,b),n.elementType=st,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case E:case P:D=10;break t;case R:D=9;break t;case K:D=11;break t;case it:D=14;break t;case W:D=16,f=null;break t}D=29,l=Error(i(130,n===null?"null":typeof n,"")),f=null}return s=fs(D,l,s,b),s.elementType=n,s.type=f,s.lanes=x,s}function vo(n,s,l,f){return n=fs(7,n,f,s),n.lanes=l,n}function jp(n,s,l){return n=fs(6,n,null,s),n.lanes=l,n}function jd(n,s,l){return s=fs(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var vl=[],yo=0,Yu=null,Fp=0,ja=[],va=0,xc=null,wo=1,Ao="";function Sc(n,s){vl[yo++]=Fp,vl[yo++]=Yu,Yu=n,Fp=s}function X2(n,s,l){ja[va++]=wo,ja[va++]=Ao,ja[va++]=xc,xc=n;var f=wo;n=Ao;var b=32-pe(f)-1;f&=~(1<<b),l+=1;var x=32-pe(s)+b;if(30<x){var D=b-b%5;x=(f&(1<<D)-1).toString(32),f>>=D,b-=D,wo=1<<32-pe(s)+b|l<<b|f,Ao=x+n}else wo=1<<x|l<<b|f,Ao=n}function Fd(n){n.return!==null&&(Sc(n,1),X2(n,1,0))}function Id(n){for(;n===Yu;)Yu=vl[--yo],vl[yo]=null,Fp=vl[--yo],vl[yo]=null;for(;n===xc;)xc=ja[--va],ja[va]=null,Ao=ja[--va],ja[va]=null,wo=ja[--va],ja[va]=null}var kn=null,rn=null,gi=!1,yl=null,Ir=!1,$m=Error(i(519));function _c(n){var s=Error(i(418,""));throw Xu(Qe(s,n)),$m}function W2(n){var s=n.stateNode,l=n.type,f=n.memoizedProps;switch(s[Oi]=n,s[Qi]=f,l){case"dialog":oi("cancel",s),oi("close",s);break;case"iframe":case"object":case"embed":oi("load",s);break;case"video":case"audio":for(l=0;l<A1.length;l++)oi(A1[l],s);break;case"source":oi("error",s);break;case"img":case"image":case"link":oi("error",s),oi("load",s);break;case"details":oi("toggle",s);break;case"input":oi("invalid",s),Ad(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Jo(s);break;case"select":oi("invalid",s);break;case"textarea":oi("invalid",s),Sd(s,f.value,f.defaultValue,f.children),Jo(s)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||f.suppressHydrationWarning===!0||T3(s.textContent,l)?(f.popover!=null&&(oi("beforetoggle",s),oi("toggle",s)),f.onScroll!=null&&oi("scroll",s),f.onScrollEnd!=null&&oi("scrollend",s),f.onClick!=null&&(s.onclick=M5),s=!0):s=!1,s||_c(n)}function xo(n){for(kn=n.return;kn;)switch(kn.tag){case 5:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:kn=kn.return}}function Ls(n){if(n!==kn)return!1;if(!gi)return xo(n),gi=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Ay(n.type,n.memoizedProps)),l=!l),l&&rn&&_c(n),xo(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){rn=Mo(n.nextSibling);break t}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;n=n.nextSibling}rn=null}}else s===27?(s=rn,uh(n.type)?(n=Ny,Ny=null,rn=n):rn=s):rn=kn?Mo(n.stateNode.nextSibling):null;return!0}function ya(){rn=kn=null,gi=!1}function $2(){var n=yl;return n!==null&&(Ba===null?Ba=n:Ba.push.apply(Ba,n),yl=null),n}function Xu(n){yl===null?yl=[n]:yl.push(n)}var Br=ft(null),Yn=null,So=null;function wl(n,s,l){q(Br,s._currentValue),s._currentValue=l}function zr(n){n._currentValue=Br.current,k(Br)}function Ip(n,s,l){for(;n!==null;){var f=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),n===l)break;n=n.return}}function Bp(n,s,l,f){var b=n.child;for(b!==null&&(b.return=n);b!==null;){var x=b.dependencies;if(x!==null){var D=b.child;x=x.firstContext;t:for(;x!==null;){var Z=x;x=b;for(var dt=0;dt<s.length;dt++)if(Z.context===s[dt]){x.lanes|=l,Z=x.alternate,Z!==null&&(Z.lanes|=l),Ip(x.return,l,n),f||(D=null);break t}x=Z.next}}else if(b.tag===18){if(D=b.return,D===null)throw Error(i(341));D.lanes|=l,x=D.alternate,x!==null&&(x.lanes|=l),Ip(D,l,n),D=null}else D=b.child;if(D!==null)D.return=b;else for(D=b;D!==null;){if(D===n){D=null;break}if(b=D.sibling,b!==null){b.return=D.return,D=b;break}D=D.return}b=D}}function Wu(n,s,l,f){n=null;for(var b=s,x=!1;b!==null;){if(!x){if((b.flags&524288)!==0)x=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var D=b.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var Z=b.type;Gn(b.pendingProps.value,D.value)||(n!==null?n.push(Z):n=[Z])}}else if(b===gt.current){if(D=b.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(n!==null?n.push(L1):n=[L1])}b=b.return}n!==null&&Bp(s,n,l,f),s.flags|=262144}function zp(n){for(n=n.firstContext;n!==null;){if(!Gn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function qr(n){Yn=n,So=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Rn(n){return qp(Yn,n)}function Al(n,s){return Yn===null&&qr(n),qp(n,s)}function qp(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},So===null){if(n===null)throw Error(i(308));So=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else So=So.next=s;return l}var Mv=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,f){n.push(f)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},K2=c.unstable_scheduleCallback,kv=c.unstable_NormalPriority,Dn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new Mv,data:new Map,refCount:0}}function Bd(n){n.refCount--,n.refCount===0&&K2(kv,function(){n.controller.abort()})}var zd=null,Qm=0,Nc=0,_o=null;function Rv(n,s){if(zd===null){var l=zd=[];Qm=0,Nc=dy(),_o={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Qm++,s.then(Q2,Q2),s}function Q2(){if(--Qm===0&&zd!==null){_o!==null&&(_o.status="fulfilled");var n=zd;zd=null,Nc=0,_o=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Z2(n,s){var l=[],f={status:"pending",value:null,reason:null,then:function(b){l.push(b)}};return n.then(function(){f.status="fulfilled",f.value=s;for(var b=0;b<l.length;b++)(0,l[b])(s)},function(b){for(f.status="rejected",f.reason=b,b=0;b<l.length;b++)(0,l[b])(void 0)}),f}var g=B.S;B.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Rv(n,s),g!==null&&g(n,s)};var v=ft(null);function _(){var n=v.current;return n!==null?n:Xi.pooledCache}function C(n,s){s===null?q(v,v.current):q(v,s.pool)}function j(){var n=_();return n===null?null:{parent:Dn._currentValue,pool:n}}var G=Error(i(460)),V=Error(i(474)),$=Error(i(542)),tt={then:function(){}};function nt(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bt(){}function Mt(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(bt,bt),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,qt(n),n;default:if(typeof s.status=="string")s.then(bt,bt);else{if(n=Xi,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(f){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=f}},function(f){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,qt(n),n}throw Lt=s,G}}var Lt=null;function xt(){if(Lt===null)throw Error(i(459));var n=Lt;return Lt=null,n}function qt(n){if(n===G||n===$)throw Error(i(483))}var Pt=!1;function vt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function At(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ft(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ut(n,s,l){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(Mi&2)!==0){var b=f.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),f.pending=s,s=wc(n),Op(n,null,l),s}return ml(n,f,s,l),wc(n)}function Bt(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var f=s.lanes;f&=n.pendingLanes,l|=f,s.lanes=l,pi(n,l)}}function ae(n,s){var l=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var b=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var D={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?b=x=D:x=x.next=D,l=l.next}while(l!==null);x===null?b=x=s:x=x.next=s}else b=x=s;l={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var Qt=!1;function ye(){if(Qt){var n=_o;if(n!==null)throw n}}function Jt(n,s,l,f){Qt=!1;var b=n.updateQueue;Pt=!1;var x=b.firstBaseUpdate,D=b.lastBaseUpdate,Z=b.shared.pending;if(Z!==null){b.shared.pending=null;var dt=Z,kt=dt.next;dt.next=null,D===null?x=kt:D.next=kt,D=dt;var It=n.alternate;It!==null&&(It=It.updateQueue,Z=It.lastBaseUpdate,Z!==D&&(Z===null?It.firstBaseUpdate=kt:Z.next=kt,It.lastBaseUpdate=dt))}if(x!==null){var Ht=b.baseState;D=0,It=kt=dt=null,Z=x;do{var Rt=Z.lane&-536870913,Dt=Rt!==Z.lane;if(Dt?(fi&Rt)===Rt:(f&Rt)===Rt){Rt!==0&&Rt===Nc&&(Qt=!0),It!==null&&(It=It.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});t:{var Re=n,Ne=Z;Rt=s;var Ii=l;switch(Ne.tag){case 1:if(Re=Ne.payload,typeof Re=="function"){Ht=Re.call(Ii,Ht,Rt);break t}Ht=Re;break t;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ne.payload,Rt=typeof Re=="function"?Re.call(Ii,Ht,Rt):Re,Rt==null)break t;Ht=m({},Ht,Rt);break t;case 2:Pt=!0}}Rt=Z.callback,Rt!==null&&(n.flags|=64,Dt&&(n.flags|=8192),Dt=b.callbacks,Dt===null?b.callbacks=[Rt]:Dt.push(Rt))}else Dt={lane:Rt,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},It===null?(kt=It=Dt,dt=Ht):It=It.next=Dt,D|=Rt;if(Z=Z.next,Z===null){if(Z=b.shared.pending,Z===null)break;Dt=Z,Z=Dt.next,Dt.next=null,b.lastBaseUpdate=Dt,b.shared.pending=null}}while(!0);It===null&&(dt=Ht),b.baseState=dt,b.firstBaseUpdate=kt,b.lastBaseUpdate=It,x===null&&(b.shared.lanes=0),rh|=D,n.lanes=D,n.memoizedState=Ht}}function hi(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function yi(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)hi(l[n],s)}var We=ft(null),Ye=ft(0);function Ni(n,s){n=Oc,q(Ye,n),q(We,s),Oc=n|s.baseLanes}function wi(){q(Ye,Oc),q(We,We.current)}function Ie(){Oc=Ye.current,k(We),k(Ye)}var Ti=0,_e=null,Te=null,ci=null,di=!1,Xn=!1,Pn=!1,mn=0,bn=0,Sn=null,Fa=0;function Ai(){throw Error(i(321))}function _n(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Gn(n[l],s[l]))return!1;return!0}function ir(n,s,l,f,b,x){return Ti=x,_e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?cx:ux,Pn=!1,x=l(f,b),Pn=!1,Xn&&(x=Ec(s,l,f,b)),xl(n),x}function xl(n){B.H=u5;var s=Te!==null&&Te.next!==null;if(Ti=0,ci=Te=_e=null,di=!1,bn=0,Sn=null,s)throw Error(i(300));n===null||ps||(n=n.dependencies,n!==null&&zp(n)&&(ps=!0))}function Ec(n,s,l,f){_e=n;var b=0;do{if(Xn&&(Sn=null),bn=0,Xn=!1,25<=b)throw Error(i(301));if(b+=1,ci=Te=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=sN,x=s(l,f)}while(Xn);return x}function Sl(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?_l(s):s,n=n.useState()[0],(Te!==null?Te.memoizedState:null)!==n&&(_e.flags|=1024),s}function Yi(){var n=mn!==0;return mn=0,n}function qd(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Up(n){if(di){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}di=!1}Ti=0,ci=Te=_e=null,Xn=!1,bn=mn=0,Sn=null}function Cs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?_e.memoizedState=ci=n:ci=ci.next=n,ci}function Ji(){if(Te===null){var n=_e.alternate;n=n!==null?n.memoizedState:null}else n=Te.next;var s=ci===null?_e.memoizedState:ci.next;if(s!==null)ci=s,Te=n;else{if(n===null)throw _e.alternate===null?Error(i(467)):Error(i(310));Te=n,n={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},ci===null?_e.memoizedState=ci=n:ci=ci.next=n}return ci}function Lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(n){var s=bn;return bn+=1,Sn===null&&(Sn=[]),n=Mt(Sn,n,s),s=_e,(ci===null?s.memoizedState:ci.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?cx:ux),n}function Ks(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return _l(n);if(n.$$typeof===P)return Rn(n)}throw Error(i(438,String(n)))}function Nl(n){var s=null,l=_e.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var f=_e.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Lc(),_e.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),f=0;f<n;f++)l[f]=yt;return s.index++,l}function Qs(n,s){return typeof s=="function"?s(n):s}function Ud(n){var s=Ji();return $u(s,Te,n)}function $u(n,s,l){var f=n.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var b=n.baseQueue,x=f.pending;if(x!==null){if(b!==null){var D=b.next;b.next=x.next,x.next=D}s.baseQueue=b=x,f.pending=null}if(x=n.baseState,b===null)n.memoizedState=x;else{s=b.next;var Z=D=null,dt=null,kt=s,It=!1;do{var Ht=kt.lane&-536870913;if(Ht!==kt.lane?(fi&Ht)===Ht:(Ti&Ht)===Ht){var Rt=kt.revertLane;if(Rt===0)dt!==null&&(dt=dt.next={lane:0,revertLane:0,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null}),Ht===Nc&&(It=!0);else if((Ti&Rt)===Rt){kt=kt.next,Rt===Nc&&(It=!0);continue}else Ht={lane:0,revertLane:kt.revertLane,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},dt===null?(Z=dt=Ht,D=x):dt=dt.next=Ht,_e.lanes|=Rt,rh|=Rt;Ht=kt.action,Pn&&l(x,Ht),x=kt.hasEagerState?kt.eagerState:l(x,Ht)}else Rt={lane:Ht,revertLane:kt.revertLane,action:kt.action,hasEagerState:kt.hasEagerState,eagerState:kt.eagerState,next:null},dt===null?(Z=dt=Rt,D=x):dt=dt.next=Rt,_e.lanes|=Ht,rh|=Ht;kt=kt.next}while(kt!==null&&kt!==s);if(dt===null?D=x:dt.next=Z,!Gn(x,n.memoizedState)&&(ps=!0,It&&(l=_o,l!==null)))throw l;n.memoizedState=x,n.baseState=D,n.baseQueue=dt,f.lastRenderedState=x}return b===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function Hp(n){var s=Ji(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var f=l.dispatch,b=l.pending,x=s.memoizedState;if(b!==null){l.pending=null;var D=b=b.next;do x=n(x,D.action),D=D.next;while(D!==b);Gn(x,s.memoizedState)||(ps=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,f]}function Hd(n,s,l){var f=_e,b=Ji(),x=gi;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=s();var D=!Gn((Te||b).memoizedState,l);D&&(b.memoizedState=l,ps=!0),b=b.queue;var Z=Ku.bind(null,f,b,n);if(Ju(2048,8,Z,[n]),b.getSnapshot!==s||D||ci!==null&&ci.memoizedState.tag&1){if(f.flags|=2048,Eo(9,Xd(),Gd.bind(null,f,b,l,s),null),Xi===null)throw Error(i(349));x||(Ti&124)!==0||Gp(f,s,l)}return l}function Gp(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=_e.updateQueue,s===null?(s=Lc(),_e.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Gd(n,s,l,f){s.value=l,s.getSnapshot=f,J2(s)&&t5(n)}function Ku(n,s,l){return l(function(){J2(s)&&t5(n)})}function J2(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Gn(n,l)}catch{return!0}}function t5(n){var s=bo(n,2);s!==null&&lr(s,n,2)}function Vd(n){var s=Cs();if(typeof n=="function"){var l=n;if(n=l(),Pn){ni(!0);try{l()}finally{ni(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:n},s}function No(n,s,l,f){return n.baseState=l,$u(n,Te,typeof f=="function"?f:Qs)}function Dv(n,s,l,f,b){if(c5(n))throw Error(i(485));if(n=s.action,n!==null){var x={payload:b,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};B.T!==null?l(!0):x.isTransition=!1,f(x),l=s.pending,l===null?(x.next=s.pending=x,e5(s,x)):(x.next=l.next,s.pending=l.next=x)}}function e5(n,s){var l=s.action,f=s.payload,b=n.state;if(s.isTransition){var x=B.T,D={};B.T=D;try{var Z=l(b,f),dt=B.S;dt!==null&&dt(D,Z),i5(n,s,Z)}catch(kt){Qu(n,s,kt)}finally{B.T=x}}else try{x=l(b,f),i5(n,s,x)}catch(kt){Qu(n,s,kt)}}function i5(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Zm(n,s,f)},function(f){return Qu(n,s,f)}):Zm(n,s,l)}function Zm(n,s,l){s.status="fulfilled",s.value=l,Jm(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,e5(n,l)))}function Qu(n,s,l){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=l,Jm(s),s=s.next;while(s!==f)}n.action=null}function Jm(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function t1(n,s){return s}function Yd(n,s){if(gi){var l=Xi.formState;if(l!==null){t:{var f=_e;if(gi){if(rn){e:{for(var b=rn,x=Ir;b.nodeType!==8;){if(!x){b=null;break e}if(b=Mo(b.nextSibling),b===null){b=null;break e}}x=b.data,b=x==="F!"||x==="F"?b:null}if(b){rn=Mo(b.nextSibling),f=b.data==="F!";break t}}_c(f)}f=!1}f&&(s=l[0])}}return l=Cs(),l.memoizedState=l.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t1,lastRenderedState:s},l.queue=f,l=rx.bind(null,_e,f),f.dispatch=l,f=Vd(!1),x=Pv.bind(null,_e,!1,f.queue),f=Cs(),b={state:s,dispatch:null,action:n,pending:null},f.queue=b,l=Dv.bind(null,_e,b,x,l),b.dispatch=l,f.memoizedState=n,[s,l,!1]}function Vp(n){var s=Ji();return Zu(s,Te,n)}function Zu(n,s,l){if(s=$u(n,s,t1)[0],n=Ud(Qs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=_l(s)}catch(D){throw D===G?$:D}else f=s;s=Ji();var b=s.queue,x=b.dispatch;return l!==s.memoizedState&&(_e.flags|=2048,Eo(9,Xd(),n5.bind(null,b,l),null)),[f,x,n]}function n5(n,s){n.action=s}function s5(n){var s=Ji(),l=Te;if(l!==null)return Zu(s,l,n);Ji(),s=s.memoizedState,l=Ji();var f=l.queue.dispatch;return l.memoizedState=n,[s,f,!1]}function Eo(n,s,l,f){return n={tag:n,create:l,deps:f,inst:s,next:null},s=_e.updateQueue,s===null&&(s=Lc(),_e.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(f=l.next,l.next=n,n.next=f,s.lastEffect=n),n}function Xd(){return{destroy:void 0,resource:void 0}}function Yp(){return Ji().memoizedState}function nr(n,s,l,f){var b=Cs();f=f===void 0?null:f,_e.flags|=n,b.memoizedState=Eo(1|s,Xd(),l,f)}function Ju(n,s,l,f){var b=Ji();f=f===void 0?null:f;var x=b.memoizedState.inst;Te!==null&&f!==null&&_n(f,Te.memoizedState.deps)?b.memoizedState=Eo(s,x,l,f):(_e.flags|=n,b.memoizedState=Eo(1|s,x,l,f))}function e1(n,s){nr(8390656,8,n,s)}function a5(n,s){Ju(2048,8,n,s)}function i1(n,s){return Ju(4,2,n,s)}function Cc(n,s){return Ju(4,4,n,s)}function r5(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function n1(n,s,l){l=l!=null?l.concat([n]):null,Ju(4,4,r5.bind(null,s,n),l)}function s1(){}function a1(n,s){var l=Ji();s=s===void 0?null:s;var f=l.memoizedState;return s!==null&&_n(s,f[1])?f[0]:(l.memoizedState=[n,s],n)}function o5(n,s){var l=Ji();s=s===void 0?null:s;var f=l.memoizedState;if(s!==null&&_n(s,f[1]))return f[0];if(f=n(),Pn){ni(!0);try{n()}finally{ni(!1)}}return l.memoizedState=[f,s],f}function Tc(n,s,l){return l===void 0||(Ti&1073741824)!==0?n.memoizedState=s:(n.memoizedState=l,n=i3(),_e.lanes|=n,rh|=n,l)}function Xp(n,s,l,f){return Gn(l,s)?l:We.current!==null?(n=Tc(n,l,f),Gn(n,s)||(ps=!0),n):(Ti&42)===0?(ps=!0,n.memoizedState=l):(n=i3(),_e.lanes|=n,rh|=n,s)}function Wd(n,s,l,f,b){var x=z.p;z.p=x!==0&&8>x?x:8;var D=B.T,Z={};B.T=Z,Pv(n,!1,s,l);try{var dt=b(),kt=B.S;if(kt!==null&&kt(Z,dt),dt!==null&&typeof dt=="object"&&typeof dt.then=="function"){var It=Z2(dt,f);c1(n,s,It,or(n))}else c1(n,s,f,or(n))}catch(Ht){c1(n,s,{then:function(){},status:"rejected",reason:Ht},or())}finally{z.p=x,B.T=D}}function Lo(){}function Ur(n,s,l,f){if(n.tag!==5)throw Error(i(476));var b=Co(n).queue;Wd(n,b,s,Q,l===null?Lo:function(){return $d(n),l(f)})}function Co(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:Q},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function $d(n){var s=Co(n).next.queue;c1(n,s,{},or())}function Kd(){return Rn(L1)}function r1(){return Ji().memoizedState}function l5(){return Ji().memoizedState}function o1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=or();n=Ft(l);var f=Ut(s,n,l);f!==null&&(lr(f,s,l),Bt(f,s,l)),s={cache:Km()},n.payload=s;return}s=s.return}}function l1(n,s,l){var f=or();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},c5(n)?ox(s,l):(l=bl(n,s,l,f),l!==null&&(lr(l,n,f),lx(l,s,f)))}function rx(n,s,l){var f=or();c1(n,s,l,f)}function c1(n,s,l,f){var b={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(c5(n))ox(s,b);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var D=s.lastRenderedState,Z=x(D,l);if(b.hasEagerState=!0,b.eagerState=Z,Gn(Z,D))return ml(n,s,b,0),Xi===null&&Pa(),!1}catch{}finally{}if(l=bl(n,s,b,f),l!==null)return lr(l,n,f),lx(l,s,f),!0}return!1}function Pv(n,s,l,f){if(f={lane:2,revertLane:dy(),action:f,hasEagerState:!1,eagerState:null,next:null},c5(n)){if(s)throw Error(i(479))}else s=bl(n,l,f,2),s!==null&&lr(s,n,2)}function c5(n){var s=n.alternate;return n===_e||s!==null&&s===_e}function ox(n,s){Xn=di=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function lx(n,s,l){if((l&4194048)!==0){var f=s.lanes;f&=n.pendingLanes,l|=f,s.lanes=l,pi(n,l)}}var u5={readContext:Rn,use:Ks,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useLayoutEffect:Ai,useInsertionEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useSyncExternalStore:Ai,useId:Ai,useHostTransitionStatus:Ai,useFormState:Ai,useActionState:Ai,useOptimistic:Ai,useMemoCache:Ai,useCacheRefresh:Ai},cx={readContext:Rn,use:Ks,useCallback:function(n,s){return Cs().memoizedState=[n,s===void 0?null:s],n},useContext:Rn,useEffect:e1,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,nr(4194308,4,r5.bind(null,s,n),l)},useLayoutEffect:function(n,s){return nr(4194308,4,n,s)},useInsertionEffect:function(n,s){nr(4,2,n,s)},useMemo:function(n,s){var l=Cs();s=s===void 0?null:s;var f=n();if(Pn){ni(!0);try{n()}finally{ni(!1)}}return l.memoizedState=[f,s],f},useReducer:function(n,s,l){var f=Cs();if(l!==void 0){var b=l(s);if(Pn){ni(!0);try{l(s)}finally{ni(!1)}}}else b=s;return f.memoizedState=f.baseState=b,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:b},f.queue=n,n=n.dispatch=l1.bind(null,_e,n),[f.memoizedState,n]},useRef:function(n){var s=Cs();return n={current:n},s.memoizedState=n},useState:function(n){n=Vd(n);var s=n.queue,l=rx.bind(null,_e,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:s1,useDeferredValue:function(n,s){var l=Cs();return Tc(l,n,s)},useTransition:function(){var n=Vd(!1);return n=Wd.bind(null,_e,n.queue,!0,!1),Cs().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var f=_e,b=Cs();if(gi){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Xi===null)throw Error(i(349));(fi&124)!==0||Gp(f,s,l)}b.memoizedState=l;var x={value:l,getSnapshot:s};return b.queue=x,e1(Ku.bind(null,f,x,n),[n]),f.flags|=2048,Eo(9,Xd(),Gd.bind(null,f,x,l,s),null),l},useId:function(){var n=Cs(),s=Xi.identifierPrefix;if(gi){var l=Ao,f=wo;l=(f&~(1<<32-pe(f)-1)).toString(32)+l,s=""+s+"R"+l,l=mn++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=Fa++,s=""+s+"r"+l.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Kd,useFormState:Yd,useActionState:Yd,useOptimistic:function(n){var s=Cs();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Pv.bind(null,_e,!0,l),l.dispatch=s,[n,s]},useMemoCache:Nl,useCacheRefresh:function(){return Cs().memoizedState=o1.bind(null,_e)}},ux={readContext:Rn,use:Ks,useCallback:a1,useContext:Rn,useEffect:a5,useImperativeHandle:n1,useInsertionEffect:i1,useLayoutEffect:Cc,useMemo:o5,useReducer:Ud,useRef:Yp,useState:function(){return Ud(Qs)},useDebugValue:s1,useDeferredValue:function(n,s){var l=Ji();return Xp(l,Te.memoizedState,n,s)},useTransition:function(){var n=Ud(Qs)[0],s=Ji().memoizedState;return[typeof n=="boolean"?n:_l(n),s]},useSyncExternalStore:Hd,useId:r1,useHostTransitionStatus:Kd,useFormState:Vp,useActionState:Vp,useOptimistic:function(n,s){var l=Ji();return No(l,Te,n,s)},useMemoCache:Nl,useCacheRefresh:l5},sN={readContext:Rn,use:Ks,useCallback:a1,useContext:Rn,useEffect:a5,useImperativeHandle:n1,useInsertionEffect:i1,useLayoutEffect:Cc,useMemo:o5,useReducer:Hp,useRef:Yp,useState:function(){return Hp(Qs)},useDebugValue:s1,useDeferredValue:function(n,s){var l=Ji();return Te===null?Tc(l,n,s):Xp(l,Te.memoizedState,n,s)},useTransition:function(){var n=Hp(Qs)[0],s=Ji().memoizedState;return[typeof n=="boolean"?n:_l(n),s]},useSyncExternalStore:Hd,useId:r1,useHostTransitionStatus:Kd,useFormState:s5,useActionState:s5,useOptimistic:function(n,s){var l=Ji();return Te!==null?No(l,Te,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Nl,useCacheRefresh:l5},Wp=null,u1=0;function h5(n){var s=u1;return u1+=1,Wp===null&&(Wp=[]),Mt(Wp,n,s)}function h1(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function d5(n,s){throw s.$$typeof===y?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function hx(n){var s=n._init;return s(n._payload)}function dx(n){function s(Nt,wt){if(n){var Ct=Nt.deletions;Ct===null?(Nt.deletions=[wt],Nt.flags|=16):Ct.push(wt)}}function l(Nt,wt){if(!n)return null;for(;wt!==null;)s(Nt,wt),wt=wt.sibling;return null}function f(Nt){for(var wt=new Map;Nt!==null;)Nt.key!==null?wt.set(Nt.key,Nt):wt.set(Nt.index,Nt),Nt=Nt.sibling;return wt}function b(Nt,wt){return Nt=Fr(Nt,wt),Nt.index=0,Nt.sibling=null,Nt}function x(Nt,wt,Ct){return Nt.index=Ct,n?(Ct=Nt.alternate,Ct!==null?(Ct=Ct.index,Ct<wt?(Nt.flags|=67108866,wt):Ct):(Nt.flags|=67108866,wt)):(Nt.flags|=1048576,wt)}function D(Nt){return n&&Nt.alternate===null&&(Nt.flags|=67108866),Nt}function Z(Nt,wt,Ct,zt){return wt===null||wt.tag!==6?(wt=jp(Ct,Nt.mode,zt),wt.return=Nt,wt):(wt=b(wt,Ct),wt.return=Nt,wt)}function dt(Nt,wt,Ct,zt){var ce=Ct.type;return ce===L?It(Nt,wt,Ct.props.children,zt,Ct.key):wt!==null&&(wt.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===W&&hx(ce)===wt.type)?(wt=b(wt,Ct.props),h1(wt,Ct),wt.return=Nt,wt):(wt=Ac(Ct.type,Ct.key,Ct.props,null,Nt.mode,zt),h1(wt,Ct),wt.return=Nt,wt)}function kt(Nt,wt,Ct,zt){return wt===null||wt.tag!==4||wt.stateNode.containerInfo!==Ct.containerInfo||wt.stateNode.implementation!==Ct.implementation?(wt=jd(Ct,Nt.mode,zt),wt.return=Nt,wt):(wt=b(wt,Ct.children||[]),wt.return=Nt,wt)}function It(Nt,wt,Ct,zt,ce){return wt===null||wt.tag!==7?(wt=vo(Ct,Nt.mode,zt,ce),wt.return=Nt,wt):(wt=b(wt,Ct),wt.return=Nt,wt)}function Ht(Nt,wt,Ct){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return wt=jp(""+wt,Nt.mode,Ct),wt.return=Nt,wt;if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case A:return Ct=Ac(wt.type,wt.key,wt.props,null,Nt.mode,Ct),h1(Ct,wt),Ct.return=Nt,Ct;case w:return wt=jd(wt,Nt.mode,Ct),wt.return=Nt,wt;case W:var zt=wt._init;return wt=zt(wt._payload),Ht(Nt,wt,Ct)}if(_t(wt)||J(wt))return wt=vo(wt,Nt.mode,Ct,null),wt.return=Nt,wt;if(typeof wt.then=="function")return Ht(Nt,h5(wt),Ct);if(wt.$$typeof===P)return Ht(Nt,Al(Nt,wt),Ct);d5(Nt,wt)}return null}function Rt(Nt,wt,Ct,zt){var ce=wt!==null?wt.key:null;if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return ce!==null?null:Z(Nt,wt,""+Ct,zt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case A:return Ct.key===ce?dt(Nt,wt,Ct,zt):null;case w:return Ct.key===ce?kt(Nt,wt,Ct,zt):null;case W:return ce=Ct._init,Ct=ce(Ct._payload),Rt(Nt,wt,Ct,zt)}if(_t(Ct)||J(Ct))return ce!==null?null:It(Nt,wt,Ct,zt,null);if(typeof Ct.then=="function")return Rt(Nt,wt,h5(Ct),zt);if(Ct.$$typeof===P)return Rt(Nt,wt,Al(Nt,Ct),zt);d5(Nt,Ct)}return null}function Dt(Nt,wt,Ct,zt,ce){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return Nt=Nt.get(Ct)||null,Z(wt,Nt,""+zt,ce);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case A:return Nt=Nt.get(zt.key===null?Ct:zt.key)||null,dt(wt,Nt,zt,ce);case w:return Nt=Nt.get(zt.key===null?Ct:zt.key)||null,kt(wt,Nt,zt,ce);case W:var ti=zt._init;return zt=ti(zt._payload),Dt(Nt,wt,Ct,zt,ce)}if(_t(zt)||J(zt))return Nt=Nt.get(Ct)||null,It(wt,Nt,zt,ce,null);if(typeof zt.then=="function")return Dt(Nt,wt,Ct,h5(zt),ce);if(zt.$$typeof===P)return Dt(Nt,wt,Ct,Al(wt,zt),ce);d5(wt,zt)}return null}function Re(Nt,wt,Ct,zt){for(var ce=null,ti=null,we=wt,Le=wt=0,ms=null;we!==null&&Le<Ct.length;Le++){we.index>Le?(ms=we,we=null):ms=we.sibling;var xi=Rt(Nt,we,Ct[Le],zt);if(xi===null){we===null&&(we=ms);break}n&&we&&xi.alternate===null&&s(Nt,we),wt=x(xi,wt,Le),ti===null?ce=xi:ti.sibling=xi,ti=xi,we=ms}if(Le===Ct.length)return l(Nt,we),gi&&Sc(Nt,Le),ce;if(we===null){for(;Le<Ct.length;Le++)we=Ht(Nt,Ct[Le],zt),we!==null&&(wt=x(we,wt,Le),ti===null?ce=we:ti.sibling=we,ti=we);return gi&&Sc(Nt,Le),ce}for(we=f(we);Le<Ct.length;Le++)ms=Dt(we,Nt,Le,Ct[Le],zt),ms!==null&&(n&&ms.alternate!==null&&we.delete(ms.key===null?Le:ms.key),wt=x(ms,wt,Le),ti===null?ce=ms:ti.sibling=ms,ti=ms);return n&&we.forEach(function(gh){return s(Nt,gh)}),gi&&Sc(Nt,Le),ce}function Ne(Nt,wt,Ct,zt){if(Ct==null)throw Error(i(151));for(var ce=null,ti=null,we=wt,Le=wt=0,ms=null,xi=Ct.next();we!==null&&!xi.done;Le++,xi=Ct.next()){we.index>Le?(ms=we,we=null):ms=we.sibling;var gh=Rt(Nt,we,xi.value,zt);if(gh===null){we===null&&(we=ms);break}n&&we&&gh.alternate===null&&s(Nt,we),wt=x(gh,wt,Le),ti===null?ce=gh:ti.sibling=gh,ti=gh,we=ms}if(xi.done)return l(Nt,we),gi&&Sc(Nt,Le),ce;if(we===null){for(;!xi.done;Le++,xi=Ct.next())xi=Ht(Nt,xi.value,zt),xi!==null&&(wt=x(xi,wt,Le),ti===null?ce=xi:ti.sibling=xi,ti=xi);return gi&&Sc(Nt,Le),ce}for(we=f(we);!xi.done;Le++,xi=Ct.next())xi=Dt(we,Nt,Le,xi.value,zt),xi!==null&&(n&&xi.alternate!==null&&we.delete(xi.key===null?Le:xi.key),wt=x(xi,wt,Le),ti===null?ce=xi:ti.sibling=xi,ti=xi);return n&&we.forEach(function(aE){return s(Nt,aE)}),gi&&Sc(Nt,Le),ce}function Ii(Nt,wt,Ct,zt){if(typeof Ct=="object"&&Ct!==null&&Ct.type===L&&Ct.key===null&&(Ct=Ct.props.children),typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case A:t:{for(var ce=Ct.key;wt!==null;){if(wt.key===ce){if(ce=Ct.type,ce===L){if(wt.tag===7){l(Nt,wt.sibling),zt=b(wt,Ct.props.children),zt.return=Nt,Nt=zt;break t}}else if(wt.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===W&&hx(ce)===wt.type){l(Nt,wt.sibling),zt=b(wt,Ct.props),h1(zt,Ct),zt.return=Nt,Nt=zt;break t}l(Nt,wt);break}else s(Nt,wt);wt=wt.sibling}Ct.type===L?(zt=vo(Ct.props.children,Nt.mode,zt,Ct.key),zt.return=Nt,Nt=zt):(zt=Ac(Ct.type,Ct.key,Ct.props,null,Nt.mode,zt),h1(zt,Ct),zt.return=Nt,Nt=zt)}return D(Nt);case w:t:{for(ce=Ct.key;wt!==null;){if(wt.key===ce)if(wt.tag===4&&wt.stateNode.containerInfo===Ct.containerInfo&&wt.stateNode.implementation===Ct.implementation){l(Nt,wt.sibling),zt=b(wt,Ct.children||[]),zt.return=Nt,Nt=zt;break t}else{l(Nt,wt);break}else s(Nt,wt);wt=wt.sibling}zt=jd(Ct,Nt.mode,zt),zt.return=Nt,Nt=zt}return D(Nt);case W:return ce=Ct._init,Ct=ce(Ct._payload),Ii(Nt,wt,Ct,zt)}if(_t(Ct))return Re(Nt,wt,Ct,zt);if(J(Ct)){if(ce=J(Ct),typeof ce!="function")throw Error(i(150));return Ct=ce.call(Ct),Ne(Nt,wt,Ct,zt)}if(typeof Ct.then=="function")return Ii(Nt,wt,h5(Ct),zt);if(Ct.$$typeof===P)return Ii(Nt,wt,Al(Nt,Ct),zt);d5(Nt,Ct)}return typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint"?(Ct=""+Ct,wt!==null&&wt.tag===6?(l(Nt,wt.sibling),zt=b(wt,Ct),zt.return=Nt,Nt=zt):(l(Nt,wt),zt=jp(Ct,Nt.mode,zt),zt.return=Nt,Nt=zt),D(Nt)):l(Nt,wt)}return function(Nt,wt,Ct,zt){try{u1=0;var ce=Ii(Nt,wt,Ct,zt);return Wp=null,ce}catch(we){if(we===G||we===$)throw we;var ti=fs(29,we,null,Nt.mode);return ti.lanes=zt,ti.return=Nt,ti}finally{}}}var $p=dx(!0),fx=dx(!1),Hr=ft(null),El=null;function th(n){var s=n.alternate;q(es,es.current&1),q(Hr,n),El===null&&(s===null||We.current!==null||s.memoizedState!==null)&&(El=n)}function px(n){if(n.tag===22){if(q(es,es.current),q(Hr,n),El===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(El=n)}}else eh()}function eh(){q(es,es.current),q(Hr,Hr.current)}function Mc(n){k(Hr),El===n&&(El=null),k(es)}var es=ft(0);function f5(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||_y(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Ov(n,s,l,f){s=n.memoizedState,l=l(f,s),l=l==null?s:m({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var jv={enqueueSetState:function(n,s,l){n=n._reactInternals;var f=or(),b=Ft(f);b.payload=s,l!=null&&(b.callback=l),s=Ut(n,b,f),s!==null&&(lr(s,n,f),Bt(s,n,f))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var f=or(),b=Ft(f);b.tag=1,b.payload=s,l!=null&&(b.callback=l),s=Ut(n,b,f),s!==null&&(lr(s,n,f),Bt(s,n,f))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=or(),f=Ft(l);f.tag=2,s!=null&&(f.callback=s),s=Ut(n,f,l),s!==null&&(lr(s,n,l),Bt(s,n,l))}};function gx(n,s,l,f,b,x,D){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,x,D):s.prototype&&s.prototype.isPureReactComponent?!cl(l,f)||!cl(b,x):!0}function mx(n,s,l,f){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==n&&jv.enqueueReplaceState(s,s.state,null)}function Qd(n,s){var l=s;if("ref"in s){l={};for(var f in s)f!=="ref"&&(l[f]=s[f])}if(n=n.defaultProps){l===s&&(l=m({},l));for(var b in n)l[b]===void 0&&(l[b]=n[b])}return l}var p5=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function bx(n){p5(n)}function vx(n){console.error(n)}function yx(n){p5(n)}function g5(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function wx(n,s,l){try{var f=n.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Fv(n,s,l){return l=Ft(l),l.tag=3,l.payload={element:null},l.callback=function(){g5(n,s)},l}function Ax(n){return n=Ft(n),n.tag=3,n}function xx(n,s,l,f){var b=l.type.getDerivedStateFromError;if(typeof b=="function"){var x=f.value;n.payload=function(){return b(x)},n.callback=function(){wx(s,l,f)}}var D=l.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(n.callback=function(){wx(s,l,f),typeof b!="function"&&(oh===null?oh=new Set([this]):oh.add(this));var Z=f.stack;this.componentDidCatch(f.value,{componentStack:Z!==null?Z:""})})}function aN(n,s,l,f,b){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=l.alternate,s!==null&&Wu(s,l,b,!0),l=Hr.current,l!==null){switch(l.tag){case 13:return El===null?oy():l.alternate===null&&Nn===0&&(Nn=3),l.flags&=-257,l.flags|=65536,l.lanes=b,f===tt?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([f]):s.add(f),cy(n,f,b)),!1;case 22:return l.flags|=65536,f===tt?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([f]):l.add(f)),cy(n,f,b)),!1}throw Error(i(435,l.tag))}return cy(n,f,b),oy(),!1}if(gi)return s=Hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,f!==$m&&(n=Error(i(422),{cause:f}),Xu(Qe(n,l)))):(f!==$m&&(s=Error(i(423),{cause:f}),Xu(Qe(s,l))),n=n.current.alternate,n.flags|=65536,b&=-b,n.lanes|=b,f=Qe(f,l),b=Fv(n.stateNode,f,b),ae(n,b),Nn!==4&&(Nn=2)),!1;var x=Error(i(520),{cause:f});if(x=Qe(x,l),v1===null?v1=[x]:v1.push(x),Nn!==4&&(Nn=2),s===null)return!0;f=Qe(f,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=b&-b,l.lanes|=n,n=Fv(l.stateNode,f,n),ae(l,n),!1;case 1:if(s=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(oh===null||!oh.has(x))))return l.flags|=65536,b&=-b,l.lanes|=b,b=Ax(b),xx(b,n,l,f),ae(l,b),!1}l=l.return}while(l!==null);return!1}var Sx=Error(i(461)),ps=!1;function Ts(n,s,l,f){s.child=n===null?fx(s,null,l,f):$p(s,n.child,l,f)}function _x(n,s,l,f,b){l=l.render;var x=s.ref;if("ref"in f){var D={};for(var Z in f)Z!=="ref"&&(D[Z]=f[Z])}else D=f;return qr(s),f=ir(n,s,l,D,x,b),Z=Yi(),n!==null&&!ps?(qd(n,s,b),kc(n,s,b)):(gi&&Z&&Fd(s),s.flags|=1,Ts(n,s,f,b),s.child)}function Nx(n,s,l,f,b){if(n===null){var x=l.type;return typeof x=="function"&&!Vu(x)&&x.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=x,Ex(n,s,x,f,b)):(n=Ac(l.type,null,f,s,s.mode,b),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,!Vv(n,b)){var D=x.memoizedProps;if(l=l.compare,l=l!==null?l:cl,l(D,f)&&n.ref===s.ref)return kc(n,s,b)}return s.flags|=1,n=Fr(x,f),n.ref=s.ref,n.return=s,s.child=n}function Ex(n,s,l,f,b){if(n!==null){var x=n.memoizedProps;if(cl(x,f)&&n.ref===s.ref)if(ps=!1,s.pendingProps=f=x,Vv(n,b))(n.flags&131072)!==0&&(ps=!0);else return s.lanes=n.lanes,kc(n,s,b)}return Iv(n,s,l,f,b)}function Lx(n,s,l){var f=s.pendingProps,b=f.children,x=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=x!==null?x.baseLanes|l:l,n!==null){for(b=s.child=n.child,x=0;b!==null;)x=x|b.lanes|b.childLanes,b=b.sibling;s.childLanes=x&~f}else s.childLanes=0,s.child=null;return Cx(n,s,f,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&C(s,x!==null?x.cachePool:null),x!==null?Ni(s,x):wi(),px(s);else return s.lanes=s.childLanes=536870912,Cx(n,s,x!==null?x.baseLanes|l:l,l)}else x!==null?(C(s,x.cachePool),Ni(s,x),eh(),s.memoizedState=null):(n!==null&&C(s,null),wi(),eh());return Ts(n,s,b,l),s.child}function Cx(n,s,l,f){var b=_();return b=b===null?null:{parent:Dn._currentValue,pool:b},s.memoizedState={baseLanes:l,cachePool:b},n!==null&&C(s,null),wi(),px(s),n!==null&&Wu(n,s,f,!0),null}function m5(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function Iv(n,s,l,f,b){return qr(s),l=ir(n,s,l,f,void 0,b),f=Yi(),n!==null&&!ps?(qd(n,s,b),kc(n,s,b)):(gi&&f&&Fd(s),s.flags|=1,Ts(n,s,l,b),s.child)}function Tx(n,s,l,f,b,x){return qr(s),s.updateQueue=null,l=Ec(s,f,l,b),xl(n),f=Yi(),n!==null&&!ps?(qd(n,s,x),kc(n,s,x)):(gi&&f&&Fd(s),s.flags|=1,Ts(n,s,l,x),s.child)}function Mx(n,s,l,f,b){if(qr(s),s.stateNode===null){var x=Vn,D=l.contextType;typeof D=="object"&&D!==null&&(x=Rn(D)),x=new l(f,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=jv,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=f,x.state=s.memoizedState,x.refs={},vt(s),D=l.contextType,x.context=typeof D=="object"&&D!==null?Rn(D):Vn,x.state=s.memoizedState,D=l.getDerivedStateFromProps,typeof D=="function"&&(Ov(s,l,D,f),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&jv.enqueueReplaceState(x,x.state,null),Jt(s,f,x,b),ye(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(n===null){x=s.stateNode;var Z=s.memoizedProps,dt=Qd(l,Z);x.props=dt;var kt=x.context,It=l.contextType;D=Vn,typeof It=="object"&&It!==null&&(D=Rn(It));var Ht=l.getDerivedStateFromProps;It=typeof Ht=="function"||typeof x.getSnapshotBeforeUpdate=="function",Z=s.pendingProps!==Z,It||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(Z||kt!==D)&&mx(s,x,f,D),Pt=!1;var Rt=s.memoizedState;x.state=Rt,Jt(s,f,x,b),ye(),kt=s.memoizedState,Z||Rt!==kt||Pt?(typeof Ht=="function"&&(Ov(s,l,Ht,f),kt=s.memoizedState),(dt=Pt||gx(s,l,dt,f,Rt,kt,D))?(It||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=kt),x.props=f,x.state=kt,x.context=D,f=dt):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{x=s.stateNode,At(n,s),D=s.memoizedProps,It=Qd(l,D),x.props=It,Ht=s.pendingProps,Rt=x.context,kt=l.contextType,dt=Vn,typeof kt=="object"&&kt!==null&&(dt=Rn(kt)),Z=l.getDerivedStateFromProps,(kt=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==Ht||Rt!==dt)&&mx(s,x,f,dt),Pt=!1,Rt=s.memoizedState,x.state=Rt,Jt(s,f,x,b),ye();var Dt=s.memoizedState;D!==Ht||Rt!==Dt||Pt||n!==null&&n.dependencies!==null&&zp(n.dependencies)?(typeof Z=="function"&&(Ov(s,l,Z,f),Dt=s.memoizedState),(It=Pt||gx(s,l,It,f,Rt,Dt,dt)||n!==null&&n.dependencies!==null&&zp(n.dependencies))?(kt||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,Dt,dt),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,Dt,dt)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===n.memoizedProps&&Rt===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Rt===n.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Dt),x.props=f,x.state=Dt,x.context=dt,f=It):(typeof x.componentDidUpdate!="function"||D===n.memoizedProps&&Rt===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&Rt===n.memoizedState||(s.flags|=1024),f=!1)}return x=f,m5(n,s),f=(s.flags&128)!==0,x||f?(x=s.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,n!==null&&f?(s.child=$p(s,n.child,null,b),s.child=$p(s,null,l,b)):Ts(n,s,l,b),s.memoizedState=x.state,n=s.child):n=kc(n,s,b),n}function kx(n,s,l,f){return ya(),s.flags|=256,Ts(n,s,l,f),s.child}var Bv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zv(n){return{baseLanes:n,cachePool:j()}}function qv(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Gr),n}function Rx(n,s,l){var f=s.pendingProps,b=!1,x=(s.flags&128)!==0,D;if((D=x)||(D=n!==null&&n.memoizedState===null?!1:(es.current&2)!==0),D&&(b=!0,s.flags&=-129),D=(s.flags&32)!==0,s.flags&=-33,n===null){if(gi){if(b?th(s):eh(),gi){var Z=rn,dt;if(dt=Z){t:{for(dt=Z,Z=Ir;dt.nodeType!==8;){if(!Z){Z=null;break t}if(dt=Mo(dt.nextSibling),dt===null){Z=null;break t}}Z=dt}Z!==null?(s.memoizedState={dehydrated:Z,treeContext:xc!==null?{id:wo,overflow:Ao}:null,retryLane:536870912,hydrationErrors:null},dt=fs(18,null,null,0),dt.stateNode=Z,dt.return=s,s.child=dt,kn=s,rn=null,dt=!0):dt=!1}dt||_c(s)}if(Z=s.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return _y(Z)?s.lanes=32:s.lanes=536870912,null;Mc(s)}return Z=f.children,f=f.fallback,b?(eh(),b=s.mode,Z=b5({mode:"hidden",children:Z},b),f=vo(f,b,l,null),Z.return=s,f.return=s,Z.sibling=f,s.child=Z,b=s.child,b.memoizedState=zv(l),b.childLanes=qv(n,D,l),s.memoizedState=Bv,f):(th(s),Uv(s,Z))}if(dt=n.memoizedState,dt!==null&&(Z=dt.dehydrated,Z!==null)){if(x)s.flags&256?(th(s),s.flags&=-257,s=Hv(n,s,l)):s.memoizedState!==null?(eh(),s.child=n.child,s.flags|=128,s=null):(eh(),b=f.fallback,Z=s.mode,f=b5({mode:"visible",children:f.children},Z),b=vo(b,Z,l,null),b.flags|=2,f.return=s,b.return=s,f.sibling=b,s.child=f,$p(s,n.child,null,l),f=s.child,f.memoizedState=zv(l),f.childLanes=qv(n,D,l),s.memoizedState=Bv,s=b);else if(th(s),_y(Z)){if(D=Z.nextSibling&&Z.nextSibling.dataset,D)var kt=D.dgst;D=kt,f=Error(i(419)),f.stack="",f.digest=D,Xu({value:f,source:null,stack:null}),s=Hv(n,s,l)}else if(ps||Wu(n,s,l,!1),D=(l&n.childLanes)!==0,ps||D){if(D=Xi,D!==null&&(f=l&-l,f=(f&42)!==0?1:so(f),f=(f&(D.suspendedLanes|l))!==0?0:f,f!==0&&f!==dt.retryLane))throw dt.retryLane=f,bo(n,f),lr(D,n,f),Sx;Z.data==="$?"||oy(),s=Hv(n,s,l)}else Z.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=dt.treeContext,rn=Mo(Z.nextSibling),kn=s,gi=!0,yl=null,Ir=!1,n!==null&&(ja[va++]=wo,ja[va++]=Ao,ja[va++]=xc,wo=n.id,Ao=n.overflow,xc=s),s=Uv(s,f.children),s.flags|=4096);return s}return b?(eh(),b=f.fallback,Z=s.mode,dt=n.child,kt=dt.sibling,f=Fr(dt,{mode:"hidden",children:f.children}),f.subtreeFlags=dt.subtreeFlags&65011712,kt!==null?b=Fr(kt,b):(b=vo(b,Z,l,null),b.flags|=2),b.return=s,f.return=s,f.sibling=b,s.child=f,f=b,b=s.child,Z=n.child.memoizedState,Z===null?Z=zv(l):(dt=Z.cachePool,dt!==null?(kt=Dn._currentValue,dt=dt.parent!==kt?{parent:kt,pool:kt}:dt):dt=j(),Z={baseLanes:Z.baseLanes|l,cachePool:dt}),b.memoizedState=Z,b.childLanes=qv(n,D,l),s.memoizedState=Bv,f):(th(s),l=n.child,n=l.sibling,l=Fr(l,{mode:"visible",children:f.children}),l.return=s,l.sibling=null,n!==null&&(D=s.deletions,D===null?(s.deletions=[n],s.flags|=16):D.push(n)),s.child=l,s.memoizedState=null,l)}function Uv(n,s){return s=b5({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function b5(n,s){return n=fs(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Hv(n,s,l){return $p(s,n.child,null,l),n=Uv(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Dx(n,s,l){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s),Ip(n.return,s,l)}function Gv(n,s,l,f,b){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:b}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=l,x.tailMode=b)}function Px(n,s,l){var f=s.pendingProps,b=f.revealOrder,x=f.tail;if(Ts(n,s,f.children,l),f=es.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Dx(n,l,s);else if(n.tag===19)Dx(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break t;for(;n.sibling===null;){if(n.return===null||n.return===s)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(q(es,f),b){case"forwards":for(l=s.child,b=null;l!==null;)n=l.alternate,n!==null&&f5(n)===null&&(b=l),l=l.sibling;l=b,l===null?(b=s.child,s.child=null):(b=l.sibling,l.sibling=null),Gv(s,!1,b,l,x);break;case"backwards":for(l=null,b=s.child,s.child=null;b!==null;){if(n=b.alternate,n!==null&&f5(n)===null){s.child=b;break}n=b.sibling,b.sibling=l,l=b,b=n}Gv(s,!0,l,null,x);break;case"together":Gv(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function kc(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),rh|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(Wu(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=Fr(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=Fr(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Vv(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&zp(n)))}function rN(n,s,l){switch(s.tag){case 3:St(s,s.stateNode.containerInfo),wl(s,Dn,n.memoizedState.cache),ya();break;case 27:case 5:Yt(s);break;case 4:St(s,s.stateNode.containerInfo);break;case 10:wl(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(th(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Rx(n,s,l):(th(s),n=kc(n,s,l),n!==null?n.sibling:null);th(s);break;case 19:var b=(n.flags&128)!==0;if(f=(l&s.childLanes)!==0,f||(Wu(n,s,l,!1),f=(l&s.childLanes)!==0),b){if(f)return Px(n,s,l);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),q(es,es.current),f)break;return null;case 22:case 23:return s.lanes=0,Lx(n,s,l);case 24:wl(s,Dn,n.memoizedState.cache)}return kc(n,s,l)}function Ox(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)ps=!0;else{if(!Vv(n,l)&&(s.flags&128)===0)return ps=!1,rN(n,s,l);ps=(n.flags&131072)!==0}else ps=!1,gi&&(s.flags&1048576)!==0&&X2(s,Fp,s.index);switch(s.lanes=0,s.tag){case 16:t:{n=s.pendingProps;var f=s.elementType,b=f._init;if(f=b(f._payload),s.type=f,typeof f=="function")Vu(f)?(n=Qd(f,n),s.tag=1,s=Mx(null,s,f,n,l)):(s.tag=0,s=Iv(null,s,f,n,l));else{if(f!=null){if(b=f.$$typeof,b===K){s.tag=11,s=_x(null,s,f,n,l);break t}else if(b===it){s.tag=14,s=Nx(null,s,f,n,l);break t}}throw s=rt(f)||f,Error(i(306,s,""))}}return s;case 0:return Iv(n,s,s.type,s.pendingProps,l);case 1:return f=s.type,b=Qd(f,s.pendingProps),Mx(n,s,f,b,l);case 3:t:{if(St(s,s.stateNode.containerInfo),n===null)throw Error(i(387));f=s.pendingProps;var x=s.memoizedState;b=x.element,At(n,s),Jt(s,f,null,l);var D=s.memoizedState;if(f=D.cache,wl(s,Dn,f),f!==x.cache&&Bp(s,[Dn],l,!0),ye(),f=D.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:D.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=kx(n,s,f,l);break t}else if(f!==b){b=Qe(Error(i(424)),s),Xu(b),s=kx(n,s,f,l);break t}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(rn=Mo(n.firstChild),kn=s,gi=!0,yl=null,Ir=!0,l=fx(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ya(),f===b){s=kc(n,s,l);break t}Ts(n,s,f,l)}s=s.child}return s;case 26:return m5(n,s),n===null?(l=B3(s.type,null,s.pendingProps,null))?s.memoizedState=l:gi||(l=s.type,n=s.pendingProps,f=k5(ct.current).createElement(l),f[Oi]=s,f[Qi]=n,ks(f,l,n),Ci(f),s.stateNode=f):s.memoizedState=B3(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Yt(s),n===null&&gi&&(f=s.stateNode=j3(s.type,s.pendingProps,ct.current),kn=s,Ir=!0,b=rn,uh(s.type)?(Ny=b,rn=Mo(f.firstChild)):rn=b),Ts(n,s,s.pendingProps.children,l),m5(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&gi&&((b=f=rn)&&(f=PN(f,s.type,s.pendingProps,Ir),f!==null?(s.stateNode=f,kn=s,rn=Mo(f.firstChild),Ir=!1,b=!0):b=!1),b||_c(s)),Yt(s),b=s.type,x=s.pendingProps,D=n!==null?n.memoizedProps:null,f=x.children,Ay(b,x)?f=null:D!==null&&Ay(b,D)&&(s.flags|=32),s.memoizedState!==null&&(b=ir(n,s,Sl,null,null,l),L1._currentValue=b),m5(n,s),Ts(n,s,f,l),s.child;case 6:return n===null&&gi&&((n=l=rn)&&(l=ON(l,s.pendingProps,Ir),l!==null?(s.stateNode=l,kn=s,rn=null,n=!0):n=!1),n||_c(s)),null;case 13:return Rx(n,s,l);case 4:return St(s,s.stateNode.containerInfo),f=s.pendingProps,n===null?s.child=$p(s,null,f,l):Ts(n,s,f,l),s.child;case 11:return _x(n,s,s.type,s.pendingProps,l);case 7:return Ts(n,s,s.pendingProps,l),s.child;case 8:return Ts(n,s,s.pendingProps.children,l),s.child;case 12:return Ts(n,s,s.pendingProps.children,l),s.child;case 10:return f=s.pendingProps,wl(s,s.type,f.value),Ts(n,s,f.children,l),s.child;case 9:return b=s.type._context,f=s.pendingProps.children,qr(s),b=Rn(b),f=f(b),s.flags|=1,Ts(n,s,f,l),s.child;case 14:return Nx(n,s,s.type,s.pendingProps,l);case 15:return Ex(n,s,s.type,s.pendingProps,l);case 19:return Px(n,s,l);case 31:return f=s.pendingProps,l=s.mode,f={mode:f.mode,children:f.children},n===null?(l=b5(f,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Fr(n.child,f),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Lx(n,s,l);case 24:return qr(s),f=Rn(Dn),n===null?(b=_(),b===null&&(b=Xi,x=Km(),b.pooledCache=x,x.refCount++,x!==null&&(b.pooledCacheLanes|=l),b=x),s.memoizedState={parent:f,cache:b},vt(s),wl(s,Dn,b)):((n.lanes&l)!==0&&(At(n,s),Jt(s,null,null,l),ye()),b=n.memoizedState,x=s.memoizedState,b.parent!==f?(b={parent:f,cache:f},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),wl(s,Dn,f)):(f=x.cache,wl(s,Dn,f),f!==b.cache&&Bp(s,[Dn],l,!0))),Ts(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Rc(n){n.flags|=4}function jx(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!G3(s)){if(s=Hr.current,s!==null&&((fi&4194048)===fi?El!==null:(fi&62914560)!==fi&&(fi&536870912)===0||s!==El))throw Lt=tt,V;n.flags|=8192}}function v5(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ki():536870912,n.lanes|=s,Jp|=s)}function d1(n,s){if(!gi)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function vn(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,f=0;if(s)for(var b=n.child;b!==null;)l|=b.lanes|b.childLanes,f|=b.subtreeFlags&65011712,f|=b.flags&65011712,b.return=n,b=b.sibling;else for(b=n.child;b!==null;)l|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=n,b=b.sibling;return n.subtreeFlags|=f,n.childLanes=l,s}function oN(n,s,l){var f=s.pendingProps;switch(Id(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vn(s),null;case 1:return vn(s),null;case 3:return l=s.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),zr(Dn),Tt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ls(s)?Rc(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$2())),vn(s),null;case 26:return l=s.memoizedState,n===null?(Rc(s),l!==null?(vn(s),jx(s,l)):(vn(s),s.flags&=-16777217)):l?l!==n.memoizedState?(Rc(s),vn(s),jx(s,l)):(vn(s),s.flags&=-16777217):(n.memoizedProps!==f&&Rc(s),vn(s),s.flags&=-16777217),null;case 27:Gt(s),l=ct.current;var b=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==f&&Rc(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return vn(s),null}n=et.current,Ls(s)?W2(s):(n=j3(b,f,l),s.stateNode=n,Rc(s))}return vn(s),null;case 5:if(Gt(s),l=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==f&&Rc(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return vn(s),null}if(n=et.current,Ls(s))W2(s);else{switch(b=k5(ct.current),n){case 1:n=b.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=b.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=b.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=b.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?b.createElement("select",{is:f.is}):b.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?b.createElement(l,{is:f.is}):b.createElement(l)}}n[Oi]=s,n[Qi]=f;t:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)n.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break t;for(;b.sibling===null;){if(b.return===null||b.return===s)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=n;t:switch(ks(n,l,f),l){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Rc(s)}}return vn(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==f&&Rc(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(n=ct.current,Ls(s)){if(n=s.stateNode,l=s.memoizedProps,f=null,b=kn,b!==null)switch(b.tag){case 27:case 5:f=b.memoizedProps}n[Oi]=s,n=!!(n.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||T3(n.nodeValue,l)),n||_c(s)}else n=k5(n).createTextNode(f),n[Oi]=s,s.stateNode=n}return vn(s),null;case 13:if(f=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(b=Ls(s),f!==null&&f.dehydrated!==null){if(n===null){if(!b)throw Error(i(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Oi]=s}else ya(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vn(s),b=!1}else b=$2(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Mc(s),s):(Mc(s),null)}if(Mc(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=f!==null,n=n!==null&&n.memoizedState!==null,l){f=s.child,b=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(b=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==b&&(f.flags|=2048)}return l!==n&&l&&(s.child.flags|=8192),v5(s,s.updateQueue),vn(s),null;case 4:return Tt(),n===null&&my(s.stateNode.containerInfo),vn(s),null;case 10:return zr(s.type),vn(s),null;case 19:if(k(es),b=s.memoizedState,b===null)return vn(s),null;if(f=(s.flags&128)!==0,x=b.rendering,x===null)if(f)d1(b,!1);else{if(Nn!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=f5(n),x!==null){for(s.flags|=128,d1(b,!1),n=x.updateQueue,s.updateQueue=n,v5(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)Od(l,n),l=l.sibling;return q(es,es.current&1|2),s.child}n=n.sibling}b.tail!==null&&Se()>A5&&(s.flags|=128,f=!0,d1(b,!1),s.lanes=4194304)}else{if(!f)if(n=f5(x),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,v5(s,n),d1(b,!0),b.tail===null&&b.tailMode==="hidden"&&!x.alternate&&!gi)return vn(s),null}else 2*Se()-b.renderingStartTime>A5&&l!==536870912&&(s.flags|=128,f=!0,d1(b,!1),s.lanes=4194304);b.isBackwards?(x.sibling=s.child,s.child=x):(n=b.last,n!==null?n.sibling=x:s.child=x,b.last=x)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=Se(),s.sibling=null,n=es.current,q(es,f?n&1|2:n&1),s):(vn(s),null);case 22:case 23:return Mc(s),Ie(),f=s.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(l&536870912)!==0&&(s.flags&128)===0&&(vn(s),s.subtreeFlags&6&&(s.flags|=8192)):vn(s),l=s.updateQueue,l!==null&&v5(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==l&&(s.flags|=2048),n!==null&&k(v),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),zr(Dn),vn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function lN(n,s){switch(Id(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return zr(Dn),Tt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Gt(s),null;case 13:if(Mc(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ya()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return k(es),null;case 4:return Tt(),null;case 10:return zr(s.type),null;case 22:case 23:return Mc(s),Ie(),n!==null&&k(v),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return zr(Dn),null;case 25:return null;default:return null}}function Fx(n,s){switch(Id(s),s.tag){case 3:zr(Dn),Tt();break;case 26:case 27:case 5:Gt(s);break;case 4:Tt();break;case 13:Mc(s);break;case 19:k(es);break;case 10:zr(s.type);break;case 22:case 23:Mc(s),Ie(),n!==null&&k(v);break;case 24:zr(Dn)}}function f1(n,s){try{var l=s.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var b=f.next;l=b;do{if((l.tag&n)===n){f=void 0;var x=l.create,D=l.inst;f=x(),D.destroy=f}l=l.next}while(l!==b)}}catch(Z){Hi(s,s.return,Z)}}function ih(n,s,l){try{var f=s.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var x=b.next;f=x;do{if((f.tag&n)===n){var D=f.inst,Z=D.destroy;if(Z!==void 0){D.destroy=void 0,b=s;var dt=l,kt=Z;try{kt()}catch(It){Hi(b,dt,It)}}}f=f.next}while(f!==x)}}catch(It){Hi(s,s.return,It)}}function Ix(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{yi(s,l)}catch(f){Hi(n,n.return,f)}}}function Bx(n,s,l){l.props=Qd(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(f){Hi(n,s,f)}}function p1(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof l=="function"?n.refCleanup=l(f):l.current=f}}catch(b){Hi(n,s,b)}}function Ll(n,s){var l=n.ref,f=n.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(b){Hi(n,s,b)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(b){Hi(n,s,b)}else l.current=null}function zx(n){var s=n.type,l=n.memoizedProps,f=n.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break t;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(b){Hi(n,n.return,b)}}function Yv(n,s,l){try{var f=n.stateNode;TN(f,n.type,l,s),f[Qi]=s}catch(b){Hi(n,n.return,b)}}function qx(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&uh(n.type)||n.tag===4}function Xv(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||qx(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&uh(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wv(n,s,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=M5));else if(f!==4&&(f===27&&uh(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(Wv(n,s,l),n=n.sibling;n!==null;)Wv(n,s,l),n=n.sibling}function y5(n,s,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(f!==4&&(f===27&&uh(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(y5(n,s,l),n=n.sibling;n!==null;)y5(n,s,l),n=n.sibling}function Ux(n){var s=n.stateNode,l=n.memoizedProps;try{for(var f=n.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);ks(s,f,l),s[Oi]=n,s[Qi]=l}catch(x){Hi(n,n.return,x)}}var Dc=!1,On=!1,$v=!1,Hx=typeof WeakSet=="function"?WeakSet:Set,gs=null;function cN(n,s){if(n=n.containerInfo,yy=F5,n=Es(n),ts(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var b=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break t}var D=0,Z=-1,dt=-1,kt=0,It=0,Ht=n,Rt=null;e:for(;;){for(var Dt;Ht!==l||b!==0&&Ht.nodeType!==3||(Z=D+b),Ht!==x||f!==0&&Ht.nodeType!==3||(dt=D+f),Ht.nodeType===3&&(D+=Ht.nodeValue.length),(Dt=Ht.firstChild)!==null;)Rt=Ht,Ht=Dt;for(;;){if(Ht===n)break e;if(Rt===l&&++kt===b&&(Z=D),Rt===x&&++It===f&&(dt=D),(Dt=Ht.nextSibling)!==null)break;Ht=Rt,Rt=Ht.parentNode}Ht=Dt}l=Z===-1||dt===-1?null:{start:Z,end:dt}}else l=null}l=l||{start:0,end:0}}else l=null;for(wy={focusedElem:n,selectionRange:l},F5=!1,gs=s;gs!==null;)if(s=gs,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,gs=n;else for(;gs!==null;){switch(s=gs,x=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=s,b=x.memoizedProps,x=x.memoizedState,f=l.stateNode;try{var Re=Qd(l.type,b,l.elementType===l.type);n=f.getSnapshotBeforeUpdate(Re,x),f.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){Hi(l,l.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Sy(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sy(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,gs=n;break}gs=s.return}}function Gx(n,s,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:nh(n,l),f&4&&f1(5,l);break;case 1:if(nh(n,l),f&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(D){Hi(l,l.return,D)}else{var b=Qd(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(b,s,n.__reactInternalSnapshotBeforeUpdate)}catch(D){Hi(l,l.return,D)}}f&64&&Ix(l),f&512&&p1(l,l.return);break;case 3:if(nh(n,l),f&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{yi(n,s)}catch(D){Hi(l,l.return,D)}}break;case 27:s===null&&f&4&&Ux(l);case 26:case 5:nh(n,l),s===null&&f&4&&zx(l),f&512&&p1(l,l.return);break;case 12:nh(n,l);break;case 13:nh(n,l),f&4&&Xx(n,l),f&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=vN.bind(null,l),jN(n,l))));break;case 22:if(f=l.memoizedState!==null||Dc,!f){s=s!==null&&s.memoizedState!==null||On,b=Dc;var x=On;Dc=f,(On=s)&&!x?sh(n,l,(l.subtreeFlags&8772)!==0):nh(n,l),Dc=b,On=x}break;case 30:break;default:nh(n,l)}}function Vx(n){var s=n.alternate;s!==null&&(n.alternate=null,Vx(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&fa(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var on=null,Ia=!1;function Pc(n,s,l){for(l=l.child;l!==null;)Yx(n,s,l),l=l.sibling}function Yx(n,s,l){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(ze,l)}catch{}switch(l.tag){case 26:On||Ll(l,s),Pc(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:On||Ll(l,s);var f=on,b=Ia;uh(l.type)&&(on=l.stateNode,Ia=!1),Pc(n,s,l),S1(l.stateNode),on=f,Ia=b;break;case 5:On||Ll(l,s);case 6:if(f=on,b=Ia,on=null,Pc(n,s,l),on=f,Ia=b,on!==null)if(Ia)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(l.stateNode)}catch(x){Hi(l,s,x)}else try{on.removeChild(l.stateNode)}catch(x){Hi(l,s,x)}break;case 18:on!==null&&(Ia?(n=on,P3(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),k1(n)):P3(on,l.stateNode));break;case 4:f=on,b=Ia,on=l.stateNode.containerInfo,Ia=!0,Pc(n,s,l),on=f,Ia=b;break;case 0:case 11:case 14:case 15:On||ih(2,l,s),On||ih(4,l,s),Pc(n,s,l);break;case 1:On||(Ll(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Bx(l,s,f)),Pc(n,s,l);break;case 21:Pc(n,s,l);break;case 22:On=(f=On)||l.memoizedState!==null,Pc(n,s,l),On=f;break;default:Pc(n,s,l)}}function Xx(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{k1(n)}catch(l){Hi(s,s.return,l)}}function uN(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Hx),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Hx),s;default:throw Error(i(435,n.tag))}}function Kv(n,s){var l=uN(n);s.forEach(function(f){var b=yN.bind(null,n,f);l.has(f)||(l.add(f),f.then(b,b))})}function sr(n,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var b=l[f],x=n,D=s,Z=D;t:for(;Z!==null;){switch(Z.tag){case 27:if(uh(Z.type)){on=Z.stateNode,Ia=!1;break t}break;case 5:on=Z.stateNode,Ia=!1;break t;case 3:case 4:on=Z.stateNode.containerInfo,Ia=!0;break t}Z=Z.return}if(on===null)throw Error(i(160));Yx(x,D,b),on=null,Ia=!1,x=b.alternate,x!==null&&(x.return=null),b.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Wx(s,n),s=s.sibling}var To=null;function Wx(n,s){var l=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:sr(s,n),ar(n),f&4&&(ih(3,n,n.return),f1(3,n),ih(5,n,n.return));break;case 1:sr(s,n),ar(n),f&512&&(On||l===null||Ll(l,l.return)),f&64&&Dc&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var b=To;if(sr(s,n),ar(n),f&512&&(On||l===null||Ll(l,l.return)),f&4){var x=l!==null?l.memoizedState:null;if(f=n.memoizedState,l===null)if(f===null)if(n.stateNode===null){t:{f=n.type,l=n.memoizedProps,b=b.ownerDocument||b;e:switch(f){case"title":x=b.getElementsByTagName("title")[0],(!x||x[da]||x[Oi]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=b.createElement(f),b.head.insertBefore(x,b.querySelector("head > title"))),ks(x,f,l),x[Oi]=n,Ci(x),f=x;break t;case"link":var D=U3("link","href",b).get(f+(l.href||""));if(D){for(var Z=0;Z<D.length;Z++)if(x=D[Z],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){D.splice(Z,1);break e}}x=b.createElement(f),ks(x,f,l),b.head.appendChild(x);break;case"meta":if(D=U3("meta","content",b).get(f+(l.content||""))){for(Z=0;Z<D.length;Z++)if(x=D[Z],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){D.splice(Z,1);break e}}x=b.createElement(f),ks(x,f,l),b.head.appendChild(x);break;default:throw Error(i(468,f))}x[Oi]=n,Ci(x),f=x}n.stateNode=f}else H3(b,n.type,n.stateNode);else n.stateNode=q3(b,f,n.memoizedProps);else x!==f?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,f===null?H3(b,n.type,n.stateNode):q3(b,f,n.memoizedProps)):f===null&&n.stateNode!==null&&Yv(n,n.memoizedProps,l.memoizedProps)}break;case 27:sr(s,n),ar(n),f&512&&(On||l===null||Ll(l,l.return)),l!==null&&f&4&&Yv(n,n.memoizedProps,l.memoizedProps);break;case 5:if(sr(s,n),ar(n),f&512&&(On||l===null||Ll(l,l.return)),n.flags&32){b=n.stateNode;try{tl(b,"")}catch(Dt){Hi(n,n.return,Dt)}}f&4&&n.stateNode!=null&&(b=n.memoizedProps,Yv(n,b,l!==null?l.memoizedProps:b)),f&1024&&($v=!0);break;case 6:if(sr(s,n),ar(n),f&4){if(n.stateNode===null)throw Error(i(162));f=n.memoizedProps,l=n.stateNode;try{l.nodeValue=f}catch(Dt){Hi(n,n.return,Dt)}}break;case 3:if(P5=null,b=To,To=R5(s.containerInfo),sr(s,n),To=b,ar(n),f&4&&l!==null&&l.memoizedState.isDehydrated)try{k1(s.containerInfo)}catch(Dt){Hi(n,n.return,Dt)}$v&&($v=!1,$x(n));break;case 4:f=To,To=R5(n.stateNode.containerInfo),sr(s,n),ar(n),To=f;break;case 12:sr(s,n),ar(n);break;case 13:sr(s,n),ar(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(iy=Se()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Kv(n,f)));break;case 22:b=n.memoizedState!==null;var dt=l!==null&&l.memoizedState!==null,kt=Dc,It=On;if(Dc=kt||b,On=It||dt,sr(s,n),On=It,Dc=kt,ar(n),f&8192)t:for(s=n.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(l===null||dt||Dc||On||Zd(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){dt=l=s;try{if(x=dt.stateNode,b)D=x.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{Z=dt.stateNode;var Ht=dt.memoizedProps.style,Rt=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;Z.style.display=Rt==null||typeof Rt=="boolean"?"":(""+Rt).trim()}}catch(Dt){Hi(dt,dt.return,Dt)}}}else if(s.tag===6){if(l===null){dt=s;try{dt.stateNode.nodeValue=b?"":dt.memoizedProps}catch(Dt){Hi(dt,dt.return,Dt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break t;for(;s.sibling===null;){if(s.return===null||s.return===n)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=n.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Kv(n,l))));break;case 19:sr(s,n),ar(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Kv(n,f)));break;case 30:break;case 21:break;default:sr(s,n),ar(n)}}function ar(n){var s=n.flags;if(s&2){try{for(var l,f=n.return;f!==null;){if(qx(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var b=l.stateNode,x=Xv(n);y5(n,x,b);break;case 5:var D=l.stateNode;l.flags&32&&(tl(D,""),l.flags&=-33);var Z=Xv(n);y5(n,Z,D);break;case 3:case 4:var dt=l.stateNode.containerInfo,kt=Xv(n);Wv(n,kt,dt);break;default:throw Error(i(161))}}catch(It){Hi(n,n.return,It)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function $x(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;$x(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function nh(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Gx(n,s.alternate,s),s=s.sibling}function Zd(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ih(4,s,s.return),Zd(s);break;case 1:Ll(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Bx(s,s.return,l),Zd(s);break;case 27:S1(s.stateNode);case 26:case 5:Ll(s,s.return),Zd(s);break;case 22:s.memoizedState===null&&Zd(s);break;case 30:Zd(s);break;default:Zd(s)}n=n.sibling}}function sh(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,b=n,x=s,D=x.flags;switch(x.tag){case 0:case 11:case 15:sh(b,x,l),f1(4,x);break;case 1:if(sh(b,x,l),f=x,b=f.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(kt){Hi(f,f.return,kt)}if(f=x,b=f.updateQueue,b!==null){var Z=f.stateNode;try{var dt=b.shared.hiddenCallbacks;if(dt!==null)for(b.shared.hiddenCallbacks=null,b=0;b<dt.length;b++)hi(dt[b],Z)}catch(kt){Hi(f,f.return,kt)}}l&&D&64&&Ix(x),p1(x,x.return);break;case 27:Ux(x);case 26:case 5:sh(b,x,l),l&&f===null&&D&4&&zx(x),p1(x,x.return);break;case 12:sh(b,x,l);break;case 13:sh(b,x,l),l&&D&4&&Xx(b,x);break;case 22:x.memoizedState===null&&sh(b,x,l),p1(x,x.return);break;case 30:break;default:sh(b,x,l)}s=s.sibling}}function Qv(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Bd(l))}function Zv(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Bd(n))}function Cl(n,s,l,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Kx(n,s,l,f),s=s.sibling}function Kx(n,s,l,f){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Cl(n,s,l,f),b&2048&&f1(9,s);break;case 1:Cl(n,s,l,f);break;case 3:Cl(n,s,l,f),b&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Bd(n)));break;case 12:if(b&2048){Cl(n,s,l,f),n=s.stateNode;try{var x=s.memoizedProps,D=x.id,Z=x.onPostCommit;typeof Z=="function"&&Z(D,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(dt){Hi(s,s.return,dt)}}else Cl(n,s,l,f);break;case 13:Cl(n,s,l,f);break;case 23:break;case 22:x=s.stateNode,D=s.alternate,s.memoizedState!==null?x._visibility&2?Cl(n,s,l,f):g1(n,s):x._visibility&2?Cl(n,s,l,f):(x._visibility|=2,Kp(n,s,l,f,(s.subtreeFlags&10256)!==0)),b&2048&&Qv(D,s);break;case 24:Cl(n,s,l,f),b&2048&&Zv(s.alternate,s);break;default:Cl(n,s,l,f)}}function Kp(n,s,l,f,b){for(b=b&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var x=n,D=s,Z=l,dt=f,kt=D.flags;switch(D.tag){case 0:case 11:case 15:Kp(x,D,Z,dt,b),f1(8,D);break;case 23:break;case 22:var It=D.stateNode;D.memoizedState!==null?It._visibility&2?Kp(x,D,Z,dt,b):g1(x,D):(It._visibility|=2,Kp(x,D,Z,dt,b)),b&&kt&2048&&Qv(D.alternate,D);break;case 24:Kp(x,D,Z,dt,b),b&&kt&2048&&Zv(D.alternate,D);break;default:Kp(x,D,Z,dt,b)}s=s.sibling}}function g1(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,f=s,b=f.flags;switch(f.tag){case 22:g1(l,f),b&2048&&Qv(f.alternate,f);break;case 24:g1(l,f),b&2048&&Zv(f.alternate,f);break;default:g1(l,f)}s=s.sibling}}var m1=8192;function Qp(n){if(n.subtreeFlags&m1)for(n=n.child;n!==null;)Qx(n),n=n.sibling}function Qx(n){switch(n.tag){case 26:Qp(n),n.flags&m1&&n.memoizedState!==null&&$N(To,n.memoizedState,n.memoizedProps);break;case 5:Qp(n);break;case 3:case 4:var s=To;To=R5(n.stateNode.containerInfo),Qp(n),To=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=m1,m1=16777216,Qp(n),m1=s):Qp(n));break;default:Qp(n)}}function Zx(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function b1(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];gs=f,t3(f,n)}Zx(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jx(n),n=n.sibling}function Jx(n){switch(n.tag){case 0:case 11:case 15:b1(n),n.flags&2048&&ih(9,n,n.return);break;case 3:b1(n);break;case 12:b1(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,w5(n)):b1(n);break;default:b1(n)}}function w5(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var f=s[l];gs=f,t3(f,n)}Zx(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ih(8,s,s.return),w5(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,w5(s));break;default:w5(s)}n=n.sibling}}function t3(n,s){for(;gs!==null;){var l=gs;switch(l.tag){case 0:case 11:case 15:ih(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Bd(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,gs=f;else t:for(l=n;gs!==null;){f=gs;var b=f.sibling,x=f.return;if(Vx(f),f===l){gs=null;break t}if(b!==null){b.return=x,gs=b;break t}gs=x}}}var hN={getCacheForType:function(n){var s=Rn(Dn),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l}},dN=typeof WeakMap=="function"?WeakMap:Map,Mi=0,Xi=null,ri=null,fi=0,ki=0,rr=null,ah=!1,Zp=!1,Jv=!1,Oc=0,Nn=0,rh=0,Jd=0,ty=0,Gr=0,Jp=0,v1=null,Ba=null,ey=!1,iy=0,A5=1/0,x5=null,oh=null,Ms=0,lh=null,tg=null,eg=0,ny=0,sy=null,e3=null,y1=0,ay=null;function or(){if((Mi&2)!==0&&fi!==0)return fi&-fi;if(B.T!==null){var n=Nc;return n!==0?n:dy()}return Xa()}function i3(){Gr===0&&(Gr=(fi&536870912)===0||gi?Ko():536870912);var n=Hr.current;return n!==null&&(n.flags|=32),Gr}function lr(n,s,l){(n===Xi&&(ki===2||ki===9)||n.cancelPendingCommit!==null)&&(ig(n,0),ch(n,fi,Gr,!1)),ua(n,l),((Mi&2)===0||n!==Xi)&&(n===Xi&&((Mi&2)===0&&(Jd|=l),Nn===4&&ch(n,fi,Gr,!1)),Tl(n))}function n3(n,s,l){if((Mi&6)!==0)throw Error(i(327));var f=!l&&(s&124)===0&&(s&n.expiredLanes)===0||Hs(n,s),b=f?gN(n,s):ly(n,s,!0),x=f;do{if(b===0){Zp&&!f&&ch(n,s,0,!1);break}else{if(l=n.current.alternate,x&&!fN(l)){b=ly(n,s,!1),x=!1;continue}if(b===2){if(x=s,n.errorRecoveryDisabledLanes&x)var D=0;else D=n.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){s=D;t:{var Z=n;b=v1;var dt=Z.current.memoizedState.isDehydrated;if(dt&&(ig(Z,D).flags|=256),D=ly(Z,D,!1),D!==2){if(Jv&&!dt){Z.errorRecoveryDisabledLanes|=x,Jd|=x,b=4;break t}x=Ba,Ba=b,x!==null&&(Ba===null?Ba=x:Ba.push.apply(Ba,x))}b=D}if(x=!1,b!==2)continue}}if(b===1){ig(n,0),ch(n,s,0,!0);break}t:{switch(f=n,x=b,x){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ch(f,s,Gr,!ah);break t;case 2:Ba=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(b=iy+300-Se(),10<b)){if(ch(f,s,Gr,!ah),Li(f,0,!0)!==0)break t;f.timeoutHandle=R3(s3.bind(null,f,l,Ba,x5,ey,s,Gr,Jd,Jp,ah,x,2,-0,0),b);break t}s3(f,l,Ba,x5,ey,s,Gr,Jd,Jp,ah,x,0,-0,0)}}break}while(!0);Tl(n)}function s3(n,s,l,f,b,x,D,Z,dt,kt,It,Ht,Rt,Dt){if(n.timeoutHandle=-1,Ht=s.subtreeFlags,(Ht&8192||(Ht&16785408)===16785408)&&(E1={stylesheets:null,count:0,unsuspend:WN},Qx(s),Ht=KN(),Ht!==null)){n.cancelPendingCommit=Ht(h3.bind(null,n,s,x,l,f,b,D,Z,dt,It,1,Rt,Dt)),ch(n,x,D,!kt);return}h3(n,s,x,l,f,b,D,Z,dt)}function fN(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var b=l[f],x=b.getSnapshot;b=b.value;try{if(!Gn(x(),b))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ch(n,s,l,f){s&=~ty,s&=~Jd,n.suspendedLanes|=s,n.pingedLanes&=~s,f&&(n.warmLanes|=s),f=n.expirationTimes;for(var b=s;0<b;){var x=31-pe(b),D=1<<x;f[x]=-1,b&=~D}l!==0&&Oe(n,l,s)}function S5(){return(Mi&6)===0?(w1(0),!1):!0}function ry(){if(ri!==null){if(ki===0)var n=ri.return;else n=ri,So=Yn=null,Up(n),Wp=null,u1=0,n=ri;for(;n!==null;)Fx(n.alternate,n),n=n.return;ri=null}}function ig(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,kN(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),ry(),Xi=n,ri=l=Fr(n.current,null),fi=s,ki=0,rr=null,ah=!1,Zp=Hs(n,s),Jv=!1,Jp=Gr=ty=Jd=rh=Nn=0,Ba=v1=null,ey=!1,(s&8)!==0&&(s|=s&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=s;0<f;){var b=31-pe(f),x=1<<b;s|=n[b],f&=~x}return Oc=s,Pa(),l}function a3(n,s){_e=null,B.H=u5,s===G||s===$?(s=xt(),ki=3):s===V?(s=xt(),ki=4):ki=s===Sx?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,rr=s,ri===null&&(Nn=1,g5(n,Qe(s,n.current)))}function r3(){var n=B.H;return B.H=u5,n===null?u5:n}function o3(){var n=B.A;return B.A=hN,n}function oy(){Nn=4,ah||(fi&4194048)!==fi&&Hr.current!==null||(Zp=!0),(rh&134217727)===0&&(Jd&134217727)===0||Xi===null||ch(Xi,fi,Gr,!1)}function ly(n,s,l){var f=Mi;Mi|=2;var b=r3(),x=o3();(Xi!==n||fi!==s)&&(x5=null,ig(n,s)),s=!1;var D=Nn;t:do try{if(ki!==0&&ri!==null){var Z=ri,dt=rr;switch(ki){case 8:ry(),D=6;break t;case 3:case 2:case 9:case 6:Hr.current===null&&(s=!0);var kt=ki;if(ki=0,rr=null,ng(n,Z,dt,kt),l&&Zp){D=0;break t}break;default:kt=ki,ki=0,rr=null,ng(n,Z,dt,kt)}}pN(),D=Nn;break}catch(It){a3(n,It)}while(!0);return s&&n.shellSuspendCounter++,So=Yn=null,Mi=f,B.H=b,B.A=x,ri===null&&(Xi=null,fi=0,Pa()),D}function pN(){for(;ri!==null;)l3(ri)}function gN(n,s){var l=Mi;Mi|=2;var f=r3(),b=o3();Xi!==n||fi!==s?(x5=null,A5=Se()+500,ig(n,s)):Zp=Hs(n,s);t:do try{if(ki!==0&&ri!==null){s=ri;var x=rr;e:switch(ki){case 1:ki=0,rr=null,ng(n,s,x,1);break;case 2:case 9:if(nt(x)){ki=0,rr=null,c3(s);break}s=function(){ki!==2&&ki!==9||Xi!==n||(ki=7),Tl(n)},x.then(s,s);break t;case 3:ki=7;break t;case 4:ki=5;break t;case 7:nt(x)?(ki=0,rr=null,c3(s)):(ki=0,rr=null,ng(n,s,x,7));break;case 5:var D=null;switch(ri.tag){case 26:D=ri.memoizedState;case 5:case 27:var Z=ri;if(!D||G3(D)){ki=0,rr=null;var dt=Z.sibling;if(dt!==null)ri=dt;else{var kt=Z.return;kt!==null?(ri=kt,_5(kt)):ri=null}break e}}ki=0,rr=null,ng(n,s,x,5);break;case 6:ki=0,rr=null,ng(n,s,x,6);break;case 8:ry(),Nn=6;break t;default:throw Error(i(462))}}mN();break}catch(It){a3(n,It)}while(!0);return So=Yn=null,B.H=f,B.A=b,Mi=l,ri!==null?0:(Xi=null,fi=0,Pa(),Nn)}function mN(){for(;ri!==null&&!jt();)l3(ri)}function l3(n){var s=Ox(n.alternate,n,Oc);n.memoizedProps=n.pendingProps,s===null?_5(n):ri=s}function c3(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=Tx(l,s,s.pendingProps,s.type,void 0,fi);break;case 11:s=Tx(l,s,s.pendingProps,s.type.render,s.ref,fi);break;case 5:Up(s);default:Fx(l,s),s=ri=Od(s,Oc),s=Ox(l,s,Oc)}n.memoizedProps=n.pendingProps,s===null?_5(n):ri=s}function ng(n,s,l,f){So=Yn=null,Up(s),Wp=null,u1=0;var b=s.return;try{if(aN(n,b,s,l,fi)){Nn=1,g5(n,Qe(l,n.current)),ri=null;return}}catch(x){if(b!==null)throw ri=b,x;Nn=1,g5(n,Qe(l,n.current)),ri=null;return}s.flags&32768?(gi||f===1?n=!0:Zp||(fi&536870912)!==0?n=!1:(ah=n=!0,(f===2||f===9||f===3||f===6)&&(f=Hr.current,f!==null&&f.tag===13&&(f.flags|=16384))),u3(s,n)):_5(s)}function _5(n){var s=n;do{if((s.flags&32768)!==0){u3(s,ah);return}n=s.return;var l=oN(s.alternate,s,Oc);if(l!==null){ri=l;return}if(s=s.sibling,s!==null){ri=s;return}ri=s=n}while(s!==null);Nn===0&&(Nn=5)}function u3(n,s){do{var l=lN(n.alternate,n);if(l!==null){l.flags&=32767,ri=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){ri=n;return}ri=n=l}while(n!==null);Nn=6,ri=null}function h3(n,s,l,f,b,x,D,Z,dt){n.cancelPendingCommit=null;do N5();while(Ms!==0);if((Mi&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(x=s.lanes|s.childLanes,x|=gn,en(n,l,x,D,Z,dt),n===Xi&&(ri=Xi=null,fi=0),tg=s,lh=n,eg=l,ny=x,sy=b,e3=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,wN(te,function(){return m3(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,b=z.p,z.p=2,D=Mi,Mi|=4;try{cN(n,s,l)}finally{Mi=D,z.p=b,B.T=f}}Ms=1,d3(),f3(),p3()}}function d3(){if(Ms===1){Ms=0;var n=lh,s=tg,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var f=z.p;z.p=2;var b=Mi;Mi|=4;try{Wx(s,n);var x=wy,D=Es(n.containerInfo),Z=x.focusedElem,dt=x.selectionRange;if(D!==Z&&Z&&Z.ownerDocument&&ul(Z.ownerDocument.documentElement,Z)){if(dt!==null&&ts(Z)){var kt=dt.start,It=dt.end;if(It===void 0&&(It=kt),"selectionStart"in Z)Z.selectionStart=kt,Z.selectionEnd=Math.min(It,Z.value.length);else{var Ht=Z.ownerDocument||document,Rt=Ht&&Ht.defaultView||window;if(Rt.getSelection){var Dt=Rt.getSelection(),Re=Z.textContent.length,Ne=Math.min(dt.start,Re),Ii=dt.end===void 0?Ne:Math.min(dt.end,Re);!Dt.extend&&Ne>Ii&&(D=Ii,Ii=Ne,Ne=D);var Nt=go(Z,Ne),wt=go(Z,Ii);if(Nt&&wt&&(Dt.rangeCount!==1||Dt.anchorNode!==Nt.node||Dt.anchorOffset!==Nt.offset||Dt.focusNode!==wt.node||Dt.focusOffset!==wt.offset)){var Ct=Ht.createRange();Ct.setStart(Nt.node,Nt.offset),Dt.removeAllRanges(),Ne>Ii?(Dt.addRange(Ct),Dt.extend(wt.node,wt.offset)):(Ct.setEnd(wt.node,wt.offset),Dt.addRange(Ct))}}}}for(Ht=[],Dt=Z;Dt=Dt.parentNode;)Dt.nodeType===1&&Ht.push({element:Dt,left:Dt.scrollLeft,top:Dt.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Ht.length;Z++){var zt=Ht[Z];zt.element.scrollLeft=zt.left,zt.element.scrollTop=zt.top}}F5=!!yy,wy=yy=null}finally{Mi=b,z.p=f,B.T=l}}n.current=s,Ms=2}}function f3(){if(Ms===2){Ms=0;var n=lh,s=tg,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var f=z.p;z.p=2;var b=Mi;Mi|=4;try{Gx(n,s.alternate,s)}finally{Mi=b,z.p=f,B.T=l}}Ms=3}}function p3(){if(Ms===4||Ms===3){Ms=0,ht();var n=lh,s=tg,l=eg,f=e3;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ms=5:(Ms=0,tg=lh=null,g3(n,n.pendingLanes));var b=n.pendingLanes;if(b===0&&(oh=null),Cn(l),s=s.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(ze,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=B.T,b=z.p,z.p=2,B.T=null;try{for(var x=n.onRecoverableError,D=0;D<f.length;D++){var Z=f[D];x(Z.value,{componentStack:Z.stack})}}finally{B.T=s,z.p=b}}(eg&3)!==0&&N5(),Tl(n),b=n.pendingLanes,(l&4194090)!==0&&(b&42)!==0?n===ay?y1++:(y1=0,ay=n):y1=0,w1(0)}}function g3(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Bd(s)))}function N5(n){return d3(),f3(),p3(),m3()}function m3(){if(Ms!==5)return!1;var n=lh,s=ny;ny=0;var l=Cn(eg),f=B.T,b=z.p;try{z.p=32>l?32:l,B.T=null,l=sy,sy=null;var x=lh,D=eg;if(Ms=0,tg=lh=null,eg=0,(Mi&6)!==0)throw Error(i(331));var Z=Mi;if(Mi|=4,Jx(x.current),Kx(x,x.current,D,l),Mi=Z,w1(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(ze,x)}catch{}return!0}finally{z.p=b,B.T=f,g3(n,s)}}function b3(n,s,l){s=Qe(l,s),s=Fv(n.stateNode,s,2),n=Ut(n,s,2),n!==null&&(ua(n,2),Tl(n))}function Hi(n,s,l){if(n.tag===3)b3(n,n,l);else for(;s!==null;){if(s.tag===3){b3(s,n,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(oh===null||!oh.has(f))){n=Qe(l,n),l=Ax(2),f=Ut(s,l,2),f!==null&&(xx(l,f,s,n),ua(f,2),Tl(f));break}}s=s.return}}function cy(n,s,l){var f=n.pingCache;if(f===null){f=n.pingCache=new dN;var b=new Set;f.set(s,b)}else b=f.get(s),b===void 0&&(b=new Set,f.set(s,b));b.has(l)||(Jv=!0,b.add(l),n=bN.bind(null,n,s,l),s.then(n,n))}function bN(n,s,l){var f=n.pingCache;f!==null&&f.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Xi===n&&(fi&l)===l&&(Nn===4||Nn===3&&(fi&62914560)===fi&&300>Se()-iy?(Mi&2)===0&&ig(n,0):ty|=l,Jp===fi&&(Jp=0)),Tl(n)}function v3(n,s){s===0&&(s=Ki()),n=bo(n,s),n!==null&&(ua(n,s),Tl(n))}function vN(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),v3(n,l)}function yN(n,s){var l=0;switch(n.tag){case 13:var f=n.stateNode,b=n.memoizedState;b!==null&&(l=b.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),v3(n,l)}function wN(n,s){return Kt(n,s)}var E5=null,sg=null,uy=!1,L5=!1,hy=!1,tf=0;function Tl(n){n!==sg&&n.next===null&&(sg===null?E5=sg=n:sg=sg.next=n),L5=!0,uy||(uy=!0,xN())}function w1(n,s){if(!hy&&L5){hy=!0;do for(var l=!1,f=E5;f!==null;){if(n!==0){var b=f.pendingLanes;if(b===0)var x=0;else{var D=f.suspendedLanes,Z=f.pingedLanes;x=(1<<31-pe(42|n)+1)-1,x&=b&~(D&~Z),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,x3(f,x))}else x=fi,x=Li(f,f===Xi?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||Hs(f,x)||(l=!0,x3(f,x));f=f.next}while(l);hy=!1}}function AN(){y3()}function y3(){L5=uy=!1;var n=0;tf!==0&&(MN()&&(n=tf),tf=0);for(var s=Se(),l=null,f=E5;f!==null;){var b=f.next,x=w3(f,s);x===0?(f.next=null,l===null?E5=b:l.next=b,b===null&&(sg=l)):(l=f,(n!==0||(x&3)!==0)&&(L5=!0)),f=b}w1(n)}function w3(n,s){for(var l=n.suspendedLanes,f=n.pingedLanes,b=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var D=31-pe(x),Z=1<<D,dt=b[D];dt===-1?((Z&l)===0||(Z&f)!==0)&&(b[D]=vi(Z,s)):dt<=s&&(n.expiredLanes|=Z),x&=~Z}if(s=Xi,l=fi,l=Li(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,l===0||n===s&&(ki===2||ki===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&xe(f),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Hs(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(f!==null&&xe(f),Cn(l)){case 2:case 8:l=Zt;break;case 32:l=te;break;case 268435456:l=ve;break;default:l=te}return f=A3.bind(null,n),l=Kt(l,f),n.callbackPriority=s,n.callbackNode=l,s}return f!==null&&f!==null&&xe(f),n.callbackPriority=2,n.callbackNode=null,2}function A3(n,s){if(Ms!==0&&Ms!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(N5()&&n.callbackNode!==l)return null;var f=fi;return f=Li(n,n===Xi?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(n3(n,f,s),w3(n,Se()),n.callbackNode!=null&&n.callbackNode===l?A3.bind(null,n):null)}function x3(n,s){if(N5())return null;n3(n,s,!0)}function xN(){RN(function(){(Mi&6)!==0?Kt(Xt,AN):y3()})}function dy(){return tf===0&&(tf=Ko()),tf}function S3(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:co(""+n)}function _3(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function SN(n,s,l,f,b){if(s==="submit"&&l&&l.stateNode===b){var x=S3((b[Qi]||null).action),D=f.submitter;D&&(s=(s=D[Qi]||null)?S3(s.formAction):D.getAttribute("formAction"),s!==null&&(x=s,D=null));var Z=new nl("action","action",null,f,b);n.push({event:Z,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(tf!==0){var dt=D?_3(b,D):new FormData(b);Ur(l,{pending:!0,data:dt,method:b.method,action:x},null,dt)}}else typeof x=="function"&&(Z.preventDefault(),dt=D?_3(b,D):new FormData(b),Ur(l,{pending:!0,data:dt,method:b.method,action:x},x,dt))},currentTarget:b}]})}}for(var fy=0;fy<yc.length;fy++){var py=yc[fy],_N=py.toLowerCase(),NN=py[0].toUpperCase()+py.slice(1);an(_N,"on"+NN)}an(Hu,"onAnimationEnd"),an(dl,"onAnimationIteration"),an(fl,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(pl,"onTransitionRun"),an(vc,"onTransitionStart"),an(Gu,"onTransitionCancel"),an(gl,"onTransitionEnd"),Wa("onMouseEnter",["mouseout","mouseover"]),Wa("onMouseLeave",["mouseout","mouseover"]),Wa("onPointerEnter",["pointerout","pointerover"]),Wa("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(A1));function N3(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var f=n[l],b=f.event;f=f.listeners;t:{var x=void 0;if(s)for(var D=f.length-1;0<=D;D--){var Z=f[D],dt=Z.instance,kt=Z.currentTarget;if(Z=Z.listener,dt!==x&&b.isPropagationStopped())break t;x=Z,b.currentTarget=kt;try{x(b)}catch(It){p5(It)}b.currentTarget=null,x=dt}else for(D=0;D<f.length;D++){if(Z=f[D],dt=Z.instance,kt=Z.currentTarget,Z=Z.listener,dt!==x&&b.isPropagationStopped())break t;x=Z,b.currentTarget=kt;try{x(b)}catch(It){p5(It)}b.currentTarget=null,x=dt}}}}function oi(n,s){var l=s[dn];l===void 0&&(l=s[dn]=new Set);var f=n+"__bubble";l.has(f)||(E3(s,n,2,!1),l.add(f))}function gy(n,s,l){var f=0;s&&(f|=4),E3(l,n,f,s)}var C5="_reactListening"+Math.random().toString(36).slice(2);function my(n){if(!n[C5]){n[C5]=!0,Qo.forEach(function(l){l!=="selectionchange"&&(EN.has(l)||gy(l,!1,n),gy(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[C5]||(s[C5]=!0,gy("selectionchange",!1,s))}}function E3(n,s,l,f){switch(K3(s)){case 2:var b=JN;break;case 8:b=tE;break;default:b=My}l=b.bind(null,s,l,n),b=void 0,!Mu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),f?b!==void 0?n.addEventListener(s,l,{capture:!0,passive:b}):n.addEventListener(s,l,!0):b!==void 0?n.addEventListener(s,l,{passive:b}):n.addEventListener(s,l,!1)}function by(n,s,l,f,b){var x=f;if((s&1)===0&&(s&2)===0&&f!==null)t:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var Z=f.stateNode.containerInfo;if(Z===b)break;if(D===4)for(D=f.return;D!==null;){var dt=D.tag;if((dt===3||dt===4)&&D.stateNode.containerInfo===b)return;D=D.return}for(;Z!==null;){if(D=us(Z),D===null)return;if(dt=D.tag,dt===5||dt===6||dt===26||dt===27){f=x=D;continue t}Z=Z.parentNode}}f=f.return}Mp(function(){var kt=x,It=Un(l),Ht=[];t:{var Rt=mo.get(n);if(Rt!==void 0){var Dt=nl,Re=n;switch(n){case"keypress":if(il(l)===0)break t;case"keydown":case"keyup":Dt=Iu;break;case"focusin":Re="focus",Dt=hc;break;case"focusout":Re="blur",Dt=hc;break;case"beforeblur":case"afterblur":Dt=hc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=al;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=kd;break;case Hu:case dl:case fl:Dt=Vm;break;case gl:Dt=F;break;case"scroll":case"scrollend":Dt=Rp;break;case"wheel":Dt=mt;break;case"copy":case"cut":case"paste":Dt=Ym;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=Bu;break;case"toggle":case"beforetoggle":Dt=Ot}var Ne=(s&4)!==0,Ii=!Ne&&(n==="scroll"||n==="scrollend"),Nt=Ne?Rt!==null?Rt+"Capture":null:Rt;Ne=[];for(var wt=kt,Ct;wt!==null;){var zt=wt;if(Ct=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||Ct===null||Nt===null||(zt=Ys(wt,Nt),zt!=null&&Ne.push(x1(wt,zt,Ct))),Ii)break;wt=wt.return}0<Ne.length&&(Rt=new Dt(Rt,Re,null,l,It),Ht.push({event:Rt,listeners:Ne}))}}if((s&7)===0){t:{if(Rt=n==="mouseover"||n==="pointerover",Dt=n==="mouseout"||n==="pointerout",Rt&&l!==Tu&&(Re=l.relatedTarget||l.fromElement)&&(us(Re)||Re[Tn]))break t;if((Dt||Rt)&&(Rt=It.window===It?It:(Rt=It.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,Dt?(Re=l.relatedTarget||l.toElement,Dt=kt,Re=Re?us(Re):null,Re!==null&&(Ii=r(Re),Ne=Re.tag,Re!==Ii||Ne!==5&&Ne!==27&&Ne!==6)&&(Re=null)):(Dt=null,Re=kt),Dt!==Re)){if(Ne=Pr,zt="onMouseLeave",Nt="onMouseEnter",wt="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=Bu,zt="onPointerLeave",Nt="onPointerEnter",wt="pointer"),Ii=Dt==null?Rt:Gs(Dt),Ct=Re==null?Rt:Gs(Re),Rt=new Ne(zt,wt+"leave",Dt,l,It),Rt.target=Ii,Rt.relatedTarget=Ct,zt=null,us(It)===kt&&(Ne=new Ne(Nt,wt+"enter",Re,l,It),Ne.target=Ct,Ne.relatedTarget=Ii,zt=Ne),Ii=zt,Dt&&Re)e:{for(Ne=Dt,Nt=Re,wt=0,Ct=Ne;Ct;Ct=ag(Ct))wt++;for(Ct=0,zt=Nt;zt;zt=ag(zt))Ct++;for(;0<wt-Ct;)Ne=ag(Ne),wt--;for(;0<Ct-wt;)Nt=ag(Nt),Ct--;for(;wt--;){if(Ne===Nt||Nt!==null&&Ne===Nt.alternate)break e;Ne=ag(Ne),Nt=ag(Nt)}Ne=null}else Ne=null;Dt!==null&&L3(Ht,Rt,Dt,Ne,!1),Re!==null&&Ii!==null&&L3(Ht,Ii,Re,Ne,!0)}}t:{if(Rt=kt?Gs(kt):window,Dt=Rt.nodeName&&Rt.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&Rt.type==="file")var ce=qu;else if(Za(Rt))if(pc)ce=Pp;else{ce=Wm;var ti=Xs}else Dt=Rt.nodeName,!Dt||Dt.toLowerCase()!=="input"||Rt.type!=="checkbox"&&Rt.type!=="radio"?kt&&Nd(kt.elementType)&&(ce=qu):ce=Dd;if(ce&&(ce=ce(n,kt))){Rd(Ht,ce,l,It);break t}ti&&ti(n,Rt,kt),n==="focusout"&&kt&&Rt.type==="number"&&kt.memoizedProps.value!=null&&xd(Rt,"number",Rt.value)}switch(ti=kt?Gs(kt):window,n){case"focusin":(Za(ti)||ti.contentEditable==="true")&&(Ws=ti,Ja=kt,Or=null);break;case"focusout":Or=Ja=Ws=null;break;case"mousedown":tr=!0;break;case"contextmenu":case"mouseup":case"dragend":tr=!1,sn(Ht,l,It);break;case"selectionchange":if(hl)break;case"keydown":case"keyup":sn(Ht,l,It)}var we;if(ne)t:{switch(n){case"compositionstart":var Le="onCompositionStart";break t;case"compositionend":Le="onCompositionEnd";break t;case"compositionupdate":Le="onCompositionUpdate";break t}Le=void 0}else pn?Zi(n,l)&&(Le="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(je&&l.locale!=="ko"&&(pn||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&pn&&(we=kp()):(Ra=It,Ld="value"in Ra?Ra.value:Ra.textContent,pn=!0)),ti=T5(kt,Le),0<ti.length&&(Le=new Ou(Le,n,null,l,It),Ht.push({event:Le,listeners:ti}),we?Le.data=we:(we=fn(l),we!==null&&(Le.data=we)))),(we=Be?Hn(n,l):Qa(n,l))&&(Le=T5(kt,"onBeforeInput"),0<Le.length&&(ti=new Ou("onBeforeInput","beforeinput",null,l,It),Ht.push({event:ti,listeners:Le}),ti.data=we)),SN(Ht,n,kt,l,It)}N3(Ht,s)})}function x1(n,s,l){return{instance:n,listener:s,currentTarget:l}}function T5(n,s){for(var l=s+"Capture",f=[];n!==null;){var b=n,x=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||x===null||(b=Ys(n,l),b!=null&&f.unshift(x1(n,b,x)),b=Ys(n,s),b!=null&&f.push(x1(n,b,x))),n.tag===3)return f;n=n.return}return[]}function ag(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function L3(n,s,l,f,b){for(var x=s._reactName,D=[];l!==null&&l!==f;){var Z=l,dt=Z.alternate,kt=Z.stateNode;if(Z=Z.tag,dt!==null&&dt===f)break;Z!==5&&Z!==26&&Z!==27||kt===null||(dt=kt,b?(kt=Ys(l,x),kt!=null&&D.unshift(x1(l,kt,dt))):b||(kt=Ys(l,x),kt!=null&&D.push(x1(l,kt,dt)))),l=l.return}D.length!==0&&n.push({event:s,listeners:D})}var LN=/\r\n?/g,CN=/\u0000|\uFFFD/g;function C3(n){return(typeof n=="string"?n:""+n).replace(LN,`
`).replace(CN,"")}function T3(n,s){return s=C3(s),C3(n)===s}function M5(){}function Fi(n,s,l,f,b,x){switch(l){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||tl(n,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&tl(n,""+f);break;case"className":lc(n,"class",f);break;case"tabIndex":lc(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":lc(n,l,f);break;case"style":Tp(n,f,x);break;case"data":if(s!=="object"){lc(n,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=co(""+f),n.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(s!=="input"&&Fi(n,s,"name",b.name,b,null),Fi(n,s,"formEncType",b.formEncType,b,null),Fi(n,s,"formMethod",b.formMethod,b,null),Fi(n,s,"formTarget",b.formTarget,b,null)):(Fi(n,s,"encType",b.encType,b,null),Fi(n,s,"method",b.method,b,null),Fi(n,s,"target",b.target,b,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=co(""+f),n.setAttribute(l,f);break;case"onClick":f!=null&&(n.onclick=M5);break;case"onScroll":f!=null&&oi("scroll",n);break;case"onScrollEnd":f!=null&&oi("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(b.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}l=co(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""+f):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":f===!0?n.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,f):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(l,f):n.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(l):n.setAttribute(l,f);break;case"popover":oi("beforetoggle",n),oi("toggle",n),ao(n,"popover",f);break;case"xlinkActuate":$a(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":$a(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":$a(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":$a(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":$a(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":$a(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":$a(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":$a(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":$a(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ao(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=lo.get(l)||l,ao(n,l,f))}}function vy(n,s,l,f,b,x){switch(l){case"style":Tp(n,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(b.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof f=="string"?tl(n,f):(typeof f=="number"||typeof f=="bigint")&&tl(n,""+f);break;case"onScroll":f!=null&&oi("scroll",n);break;case"onScrollEnd":f!=null&&oi("scrollend",n);break;case"onClick":f!=null&&(n.onclick=M5);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oc.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(b=l.endsWith("Capture"),s=l.slice(2,b?l.length-7:void 0),x=n[Qi]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(s,x,b),typeof f=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,f,b);break t}l in n?n[l]=f:f===!0?n.setAttribute(l,""):ao(n,l,f)}}}function ks(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oi("error",n),oi("load",n);var f=!1,b=!1,x;for(x in l)if(l.hasOwnProperty(x)){var D=l[x];if(D!=null)switch(x){case"src":f=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Fi(n,s,x,D,l,null)}}b&&Fi(n,s,"srcSet",l.srcSet,l,null),f&&Fi(n,s,"src",l.src,l,null);return;case"input":oi("invalid",n);var Z=x=D=b=null,dt=null,kt=null;for(f in l)if(l.hasOwnProperty(f)){var It=l[f];if(It!=null)switch(f){case"name":b=It;break;case"type":D=It;break;case"checked":dt=It;break;case"defaultChecked":kt=It;break;case"value":x=It;break;case"defaultValue":Z=It;break;case"children":case"dangerouslySetInnerHTML":if(It!=null)throw Error(i(137,s));break;default:Fi(n,s,f,It,l,null)}}Ad(n,x,Z,dt,kt,D,b,!1),Jo(n);return;case"select":oi("invalid",n),f=D=x=null;for(b in l)if(l.hasOwnProperty(b)&&(Z=l[b],Z!=null))switch(b){case"value":x=Z;break;case"defaultValue":D=Z;break;case"multiple":f=Z;default:Fi(n,s,b,Z,l,null)}s=x,l=D,n.multiple=!!f,s!=null?oo(n,!!f,s,!1):l!=null&&oo(n,!!f,l,!0);return;case"textarea":oi("invalid",n),x=b=f=null;for(D in l)if(l.hasOwnProperty(D)&&(Z=l[D],Z!=null))switch(D){case"value":f=Z;break;case"defaultValue":b=Z;break;case"children":x=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(91));break;default:Fi(n,s,D,Z,l,null)}Sd(n,f,b,x),Jo(n);return;case"option":for(dt in l)if(l.hasOwnProperty(dt)&&(f=l[dt],f!=null))switch(dt){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Fi(n,s,dt,f,l,null)}return;case"dialog":oi("beforetoggle",n),oi("toggle",n),oi("cancel",n),oi("close",n);break;case"iframe":case"object":oi("load",n);break;case"video":case"audio":for(f=0;f<A1.length;f++)oi(A1[f],n);break;case"image":oi("error",n),oi("load",n);break;case"details":oi("toggle",n);break;case"embed":case"source":case"link":oi("error",n),oi("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(kt in l)if(l.hasOwnProperty(kt)&&(f=l[kt],f!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Fi(n,s,kt,f,l,null)}return;default:if(Nd(s)){for(It in l)l.hasOwnProperty(It)&&(f=l[It],f!==void 0&&vy(n,s,It,f,l,void 0));return}}for(Z in l)l.hasOwnProperty(Z)&&(f=l[Z],f!=null&&Fi(n,s,Z,f,l,null))}function TN(n,s,l,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,x=null,D=null,Z=null,dt=null,kt=null,It=null;for(Dt in l){var Ht=l[Dt];if(l.hasOwnProperty(Dt)&&Ht!=null)switch(Dt){case"checked":break;case"value":break;case"defaultValue":dt=Ht;default:f.hasOwnProperty(Dt)||Fi(n,s,Dt,null,f,Ht)}}for(var Rt in f){var Dt=f[Rt];if(Ht=l[Rt],f.hasOwnProperty(Rt)&&(Dt!=null||Ht!=null))switch(Rt){case"type":x=Dt;break;case"name":b=Dt;break;case"checked":kt=Dt;break;case"defaultChecked":It=Dt;break;case"value":D=Dt;break;case"defaultValue":Z=Dt;break;case"children":case"dangerouslySetInnerHTML":if(Dt!=null)throw Error(i(137,s));break;default:Dt!==Ht&&Fi(n,s,Rt,Dt,f,Ht)}}uc(n,D,Z,dt,kt,It,x,b);return;case"select":Dt=D=Z=Rt=null;for(x in l)if(dt=l[x],l.hasOwnProperty(x)&&dt!=null)switch(x){case"value":break;case"multiple":Dt=dt;default:f.hasOwnProperty(x)||Fi(n,s,x,null,f,dt)}for(b in f)if(x=f[b],dt=l[b],f.hasOwnProperty(b)&&(x!=null||dt!=null))switch(b){case"value":Rt=x;break;case"defaultValue":Z=x;break;case"multiple":D=x;default:x!==dt&&Fi(n,s,b,x,f,dt)}s=Z,l=D,f=Dt,Rt!=null?oo(n,!!l,Rt,!1):!!f!=!!l&&(s!=null?oo(n,!!l,s,!0):oo(n,!!l,l?[]:"",!1));return;case"textarea":Dt=Rt=null;for(Z in l)if(b=l[Z],l.hasOwnProperty(Z)&&b!=null&&!f.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:Fi(n,s,Z,null,f,b)}for(D in f)if(b=f[D],x=l[D],f.hasOwnProperty(D)&&(b!=null||x!=null))switch(D){case"value":Rt=b;break;case"defaultValue":Dt=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==x&&Fi(n,s,D,b,f,x)}Lp(n,Rt,Dt);return;case"option":for(var Re in l)if(Rt=l[Re],l.hasOwnProperty(Re)&&Rt!=null&&!f.hasOwnProperty(Re))switch(Re){case"selected":n.selected=!1;break;default:Fi(n,s,Re,null,f,Rt)}for(dt in f)if(Rt=f[dt],Dt=l[dt],f.hasOwnProperty(dt)&&Rt!==Dt&&(Rt!=null||Dt!=null))switch(dt){case"selected":n.selected=Rt&&typeof Rt!="function"&&typeof Rt!="symbol";break;default:Fi(n,s,dt,Rt,f,Dt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)Rt=l[Ne],l.hasOwnProperty(Ne)&&Rt!=null&&!f.hasOwnProperty(Ne)&&Fi(n,s,Ne,null,f,Rt);for(kt in f)if(Rt=f[kt],Dt=l[kt],f.hasOwnProperty(kt)&&Rt!==Dt&&(Rt!=null||Dt!=null))switch(kt){case"children":case"dangerouslySetInnerHTML":if(Rt!=null)throw Error(i(137,s));break;default:Fi(n,s,kt,Rt,f,Dt)}return;default:if(Nd(s)){for(var Ii in l)Rt=l[Ii],l.hasOwnProperty(Ii)&&Rt!==void 0&&!f.hasOwnProperty(Ii)&&vy(n,s,Ii,void 0,f,Rt);for(It in f)Rt=f[It],Dt=l[It],!f.hasOwnProperty(It)||Rt===Dt||Rt===void 0&&Dt===void 0||vy(n,s,It,Rt,f,Dt);return}}for(var Nt in l)Rt=l[Nt],l.hasOwnProperty(Nt)&&Rt!=null&&!f.hasOwnProperty(Nt)&&Fi(n,s,Nt,null,f,Rt);for(Ht in f)Rt=f[Ht],Dt=l[Ht],!f.hasOwnProperty(Ht)||Rt===Dt||Rt==null&&Dt==null||Fi(n,s,Ht,Rt,f,Dt)}var yy=null,wy=null;function k5(n){return n.nodeType===9?n:n.ownerDocument}function M3(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k3(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Ay(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xy=null;function MN(){var n=window.event;return n&&n.type==="popstate"?n===xy?!1:(xy=n,!0):(xy=null,!1)}var R3=typeof setTimeout=="function"?setTimeout:void 0,kN=typeof clearTimeout=="function"?clearTimeout:void 0,D3=typeof Promise=="function"?Promise:void 0,RN=typeof queueMicrotask=="function"?queueMicrotask:typeof D3<"u"?function(n){return D3.resolve(null).then(n).catch(DN)}:R3;function DN(n){setTimeout(function(){throw n})}function uh(n){return n==="head"}function P3(n,s){var l=s,f=0,b=0;do{var x=l.nextSibling;if(n.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<f&&8>f){l=f;var D=n.ownerDocument;if(l&1&&S1(D.documentElement),l&2&&S1(D.body),l&4)for(l=D.head,S1(l),D=l.firstChild;D;){var Z=D.nextSibling,dt=D.nodeName;D[da]||dt==="SCRIPT"||dt==="STYLE"||dt==="LINK"&&D.rel.toLowerCase()==="stylesheet"||l.removeChild(D),D=Z}}if(b===0){n.removeChild(x),k1(s);return}b--}else l==="$"||l==="$?"||l==="$!"?b++:f=l.charCodeAt(0)-48;else f=0;l=x}while(l);k1(s)}function Sy(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Sy(l),fa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function PN(n,s,l,f){for(;n.nodeType===1;){var b=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[da])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==b.rel||n.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||n.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||n.getAttribute("title")!==(b.title==null?null:b.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(b.src==null?null:b.src)||n.getAttribute("type")!==(b.type==null?null:b.type)||n.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var x=b.name==null?null:""+b.name;if(b.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=Mo(n.nextSibling),n===null)break}return null}function ON(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Mo(n.nextSibling),n===null))return null;return n}function _y(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function jN(n,s){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")s();else{var f=function(){s(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function Mo(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Ny=null;function O3(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}function j3(n,s,l){switch(s=k5(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function S1(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);fa(n)}var Vr=new Map,F3=new Set;function R5(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var jc=z.d;z.d={f:FN,r:IN,D:BN,C:zN,L:qN,m:UN,X:GN,S:HN,M:VN};function FN(){var n=jc.f(),s=S5();return n||s}function IN(n){var s=hs(n);s!==null&&s.tag===5&&s.type==="form"?$d(s):jc.r(n)}var rg=typeof document>"u"?null:document;function I3(n,s,l){var f=rg;if(f&&typeof s=="string"&&s){var b=Ui(s);b='link[rel="'+n+'"][href="'+b+'"]',typeof l=="string"&&(b+='[crossorigin="'+l+'"]'),F3.has(b)||(F3.add(b),n={rel:n,crossOrigin:l,href:s},f.querySelector(b)===null&&(s=f.createElement("link"),ks(s,"link",n),Ci(s),f.head.appendChild(s)))}}function BN(n){jc.D(n),I3("dns-prefetch",n,null)}function zN(n,s){jc.C(n,s),I3("preconnect",n,s)}function qN(n,s,l){jc.L(n,s,l);var f=rg;if(f&&n&&s){var b='link[rel="preload"][as="'+Ui(s)+'"]';s==="image"&&l&&l.imageSrcSet?(b+='[imagesrcset="'+Ui(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(b+='[imagesizes="'+Ui(l.imageSizes)+'"]')):b+='[href="'+Ui(n)+'"]';var x=b;switch(s){case"style":x=og(n);break;case"script":x=lg(n)}Vr.has(x)||(n=m({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),Vr.set(x,n),f.querySelector(b)!==null||s==="style"&&f.querySelector(_1(x))||s==="script"&&f.querySelector(N1(x))||(s=f.createElement("link"),ks(s,"link",n),Ci(s),f.head.appendChild(s)))}}function UN(n,s){jc.m(n,s);var l=rg;if(l&&n){var f=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+Ui(f)+'"][href="'+Ui(n)+'"]',x=b;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=lg(n)}if(!Vr.has(x)&&(n=m({rel:"modulepreload",href:n},s),Vr.set(x,n),l.querySelector(b)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(N1(x)))return}f=l.createElement("link"),ks(f,"link",n),Ci(f),l.head.appendChild(f)}}}function HN(n,s,l){jc.S(n,s,l);var f=rg;if(f&&n){var b=Jn(f).hoistableStyles,x=og(n);s=s||"default";var D=b.get(x);if(!D){var Z={loading:0,preload:null};if(D=f.querySelector(_1(x)))Z.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":s},l),(l=Vr.get(x))&&Ey(n,l);var dt=D=f.createElement("link");Ci(dt),ks(dt,"link",n),dt._p=new Promise(function(kt,It){dt.onload=kt,dt.onerror=It}),dt.addEventListener("load",function(){Z.loading|=1}),dt.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,D5(D,s,f)}D={type:"stylesheet",instance:D,count:1,state:Z},b.set(x,D)}}}function GN(n,s){jc.X(n,s);var l=rg;if(l&&n){var f=Jn(l).hoistableScripts,b=lg(n),x=f.get(b);x||(x=l.querySelector(N1(b)),x||(n=m({src:n,async:!0},s),(s=Vr.get(b))&&Ly(n,s),x=l.createElement("script"),Ci(x),ks(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(b,x))}}function VN(n,s){jc.M(n,s);var l=rg;if(l&&n){var f=Jn(l).hoistableScripts,b=lg(n),x=f.get(b);x||(x=l.querySelector(N1(b)),x||(n=m({src:n,async:!0,type:"module"},s),(s=Vr.get(b))&&Ly(n,s),x=l.createElement("script"),Ci(x),ks(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(b,x))}}function B3(n,s,l,f){var b=(b=ct.current)?R5(b):null;if(!b)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=og(l.href),l=Jn(b).hoistableStyles,f=l.get(s),f||(f={type:"style",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=og(l.href);var x=Jn(b).hoistableStyles,D=x.get(n);if(D||(b=b.ownerDocument||b,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,D),(x=b.querySelector(_1(n)))&&!x._p&&(D.instance=x,D.state.loading=5),Vr.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Vr.set(n,l),x||YN(b,n,l,D.state))),s&&f===null)throw Error(i(528,""));return D}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lg(l),l=Jn(b).hoistableScripts,f=l.get(s),f||(f={type:"script",instance:null,count:0,state:null},l.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function og(n){return'href="'+Ui(n)+'"'}function _1(n){return'link[rel="stylesheet"]['+n+"]"}function z3(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function YN(n,s,l,f){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=n.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),ks(s,"link",l),Ci(s),n.head.appendChild(s))}function lg(n){return'[src="'+Ui(n)+'"]'}function N1(n){return"script[async]"+n}function q3(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var f=n.querySelector('style[data-href~="'+Ui(l.href)+'"]');if(f)return s.instance=f,Ci(f),f;var b=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),Ci(f),ks(f,"style",b),D5(f,l.precedence,n),s.instance=f;case"stylesheet":b=og(l.href);var x=n.querySelector(_1(b));if(x)return s.state.loading|=4,s.instance=x,Ci(x),x;f=z3(l),(b=Vr.get(b))&&Ey(f,b),x=(n.ownerDocument||n).createElement("link"),Ci(x);var D=x;return D._p=new Promise(function(Z,dt){D.onload=Z,D.onerror=dt}),ks(x,"link",f),s.state.loading|=4,D5(x,l.precedence,n),s.instance=x;case"script":return x=lg(l.src),(b=n.querySelector(N1(x)))?(s.instance=b,Ci(b),b):(f=l,(b=Vr.get(x))&&(f=m({},l),Ly(f,b)),n=n.ownerDocument||n,b=n.createElement("script"),Ci(b),ks(b,"link",f),n.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,D5(f,l.precedence,n));return s.instance}function D5(n,s,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=f.length?f[f.length-1]:null,x=b,D=0;D<f.length;D++){var Z=f[D];if(Z.dataset.precedence===s)x=Z;else if(x!==b)break}x?x.parentNode.insertBefore(n,x.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Ey(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Ly(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var P5=null;function U3(n,s,l){if(P5===null){var f=new Map,b=P5=new Map;b.set(l,f)}else b=P5,f=b.get(l),f||(f=new Map,b.set(l,f));if(f.has(n))return f;for(f.set(n,null),l=l.getElementsByTagName(n),b=0;b<l.length;b++){var x=l[b];if(!(x[da]||x[Oi]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(s)||"";D=n+D;var Z=f.get(D);Z?Z.push(x):f.set(D,[x])}}return f}function H3(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function XN(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function G3(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var E1=null;function WN(){}function $N(n,s,l){if(E1===null)throw Error(i(475));var f=E1;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var b=og(l.href),x=n.querySelector(_1(b));if(x){n=x._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=O5.bind(f),n.then(f,f)),s.state.loading|=4,s.instance=x,Ci(x);return}x=n.ownerDocument||n,l=z3(l),(b=Vr.get(b))&&Ey(l,b),x=x.createElement("link"),Ci(x);var D=x;D._p=new Promise(function(Z,dt){D.onload=Z,D.onerror=dt}),ks(x,"link",l),s.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=O5.bind(f),n.addEventListener("load",s),n.addEventListener("error",s))}}function KN(){if(E1===null)throw Error(i(475));var n=E1;return n.stylesheets&&n.count===0&&Cy(n,n.stylesheets),0<n.count?function(s){var l=setTimeout(function(){if(n.stylesheets&&Cy(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l)}}:null}function O5(){if(this.count--,this.count===0){if(this.stylesheets)Cy(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var j5=null;function Cy(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,j5=new Map,s.forEach(QN,n),j5=null,O5.call(n))}function QN(n,s){if(!(s.state.loading&4)){var l=j5.get(n);if(l)var f=l.get(null);else{l=new Map,j5.set(n,l);for(var b=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<b.length;x++){var D=b[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(l.set(D.dataset.precedence,D),f=D)}f&&l.set(null,f)}b=s.instance,D=b.getAttribute("data-precedence"),x=l.get(D)||f,x===f&&l.set(null,b),l.set(D,b),this.count++,f=O5.bind(this),b.addEventListener("load",f),b.addEventListener("error",f),x?x.parentNode.insertBefore(b,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(b,n.firstChild)),s.state.loading|=4}}var L1={$$typeof:P,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function ZN(n,s,l,f,b,x,D,Z){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.hiddenUpdates=ca(null),this.identifierPrefix=f,this.onUncaughtError=b,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function V3(n,s,l,f,b,x,D,Z,dt,kt,It,Ht){return n=new ZN(n,s,l,D,Z,dt,kt,Ht),s=1,x===!0&&(s|=24),x=fs(3,null,null,s),n.current=x,x.stateNode=n,s=Km(),s.refCount++,n.pooledCache=s,s.refCount++,x.memoizedState={element:f,isDehydrated:l,cache:s},vt(x),n}function Y3(n){return n?(n=Vn,n):Vn}function X3(n,s,l,f,b,x){b=Y3(b),f.context===null?f.context=b:f.pendingContext=b,f=Ft(s),f.payload={element:l},x=x===void 0?null:x,x!==null&&(f.callback=x),l=Ut(n,f,s),l!==null&&(lr(l,n,s),Bt(l,n,s))}function W3(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Ty(n,s){W3(n,s),(n=n.alternate)&&W3(n,s)}function $3(n){if(n.tag===13){var s=bo(n,67108864);s!==null&&lr(s,n,67108864),Ty(n,67108864)}}var F5=!0;function JN(n,s,l,f){var b=B.T;B.T=null;var x=z.p;try{z.p=2,My(n,s,l,f)}finally{z.p=x,B.T=b}}function tE(n,s,l,f){var b=B.T;B.T=null;var x=z.p;try{z.p=8,My(n,s,l,f)}finally{z.p=x,B.T=b}}function My(n,s,l,f){if(F5){var b=ky(f);if(b===null)by(n,s,f,I5,l),Q3(n,f);else if(iE(b,n,s,l,f))f.stopPropagation();else if(Q3(n,f),s&4&&-1<eE.indexOf(n)){for(;b!==null;){var x=hs(b);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=li(x.pendingLanes);if(D!==0){var Z=x;for(Z.pendingLanes|=2,Z.entangledLanes|=2;D;){var dt=1<<31-pe(D);Z.entanglements[1]|=dt,D&=~dt}Tl(x),(Mi&6)===0&&(A5=Se()+500,w1(0))}}break;case 13:Z=bo(x,2),Z!==null&&lr(Z,x,2),S5(),Ty(x,2)}if(x=ky(f),x===null&&by(n,s,f,I5,l),x===b)break;b=x}b!==null&&f.stopPropagation()}else by(n,s,f,null,l)}}function ky(n){return n=Un(n),Ry(n)}var I5=null;function Ry(n){if(I5=null,n=us(n),n!==null){var s=r(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=o(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return I5=n,null}function K3(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case Xt:return 2;case Zt:return 8;case te:case ee:return 32;case ve:return 268435456;default:return 32}default:return 32}}var Dy=!1,hh=null,dh=null,fh=null,C1=new Map,T1=new Map,ph=[],eE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q3(n,s){switch(n){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":dh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":C1.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":T1.delete(s.pointerId)}}function M1(n,s,l,f,b,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:x,targetContainers:[b]},s!==null&&(s=hs(s),s!==null&&$3(s)),n):(n.eventSystemFlags|=f,s=n.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),n)}function iE(n,s,l,f,b){switch(s){case"focusin":return hh=M1(hh,n,s,l,f,b),!0;case"dragenter":return dh=M1(dh,n,s,l,f,b),!0;case"mouseover":return fh=M1(fh,n,s,l,f,b),!0;case"pointerover":var x=b.pointerId;return C1.set(x,M1(C1.get(x)||null,n,s,l,f,b)),!0;case"gotpointercapture":return x=b.pointerId,T1.set(x,M1(T1.get(x)||null,n,s,l,f,b)),!0}return!1}function Z3(n){var s=us(n.target);if(s!==null){var l=r(s);if(l!==null){if(s=l.tag,s===13){if(s=o(l),s!==null){n.blockedOn=s,Mr(n.priority,function(){if(l.tag===13){var f=or();f=so(f);var b=bo(l,f);b!==null&&lr(b,l,f),Ty(l,f)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function B5(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=ky(n.nativeEvent);if(l===null){l=n.nativeEvent;var f=new l.constructor(l.type,l);Tu=f,l.target.dispatchEvent(f),Tu=null}else return s=hs(l),s!==null&&$3(s),n.blockedOn=l,!1;s.shift()}return!0}function J3(n,s,l){B5(n)&&l.delete(s)}function nE(){Dy=!1,hh!==null&&B5(hh)&&(hh=null),dh!==null&&B5(dh)&&(dh=null),fh!==null&&B5(fh)&&(fh=null),C1.forEach(J3),T1.forEach(J3)}function z5(n,s){n.blockedOn===s&&(n.blockedOn=null,Dy||(Dy=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,nE)))}var q5=null;function tS(n){q5!==n&&(q5=n,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){q5===n&&(q5=null);for(var s=0;s<n.length;s+=3){var l=n[s],f=n[s+1],b=n[s+2];if(typeof f!="function"){if(Ry(f||l)===null)continue;break}var x=hs(l);x!==null&&(n.splice(s,3),s-=3,Ur(x,{pending:!0,data:b,method:l.method,action:f},f,b))}}))}function k1(n){function s(dt){return z5(dt,n)}hh!==null&&z5(hh,n),dh!==null&&z5(dh,n),fh!==null&&z5(fh,n),C1.forEach(s),T1.forEach(s);for(var l=0;l<ph.length;l++){var f=ph[l];f.blockedOn===n&&(f.blockedOn=null)}for(;0<ph.length&&(l=ph[0],l.blockedOn===null);)Z3(l),l.blockedOn===null&&ph.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var b=l[f],x=l[f+1],D=b[Qi]||null;if(typeof x=="function")D||tS(l);else if(D){var Z=null;if(x&&x.hasAttribute("formAction")){if(b=x,D=x[Qi]||null)Z=D.formAction;else if(Ry(b)!==null)continue}else Z=D.action;typeof Z=="function"?l[f+1]=Z:(l.splice(f,3),f-=3),tS(l)}}}function Py(n){this._internalRoot=n}U5.prototype.render=Py.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,f=or();X3(l,f,n,s,null,null)},U5.prototype.unmount=Py.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;X3(n.current,2,null,n,null,null),S5(),s[Tn]=null}};function U5(n){this._internalRoot=n}U5.prototype.unstable_scheduleHydration=function(n){if(n){var s=Xa();n={blockedOn:null,target:n,priority:s};for(var l=0;l<ph.length&&s!==0&&s<ph[l].priority;l++);ph.splice(l,0,n),l===0&&Z3(n)}};var eS=t.version;if(eS!=="19.1.0")throw Error(i(527,eS,"19.1.0"));z.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=h(s),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var sE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var H5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!H5.isDisabled&&H5.supportsFiber)try{ze=H5.inject(sE),Pe=H5}catch{}}return D1.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,f="",b=bx,x=vx,D=yx,Z=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(D=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(Z=s.unstable_transitionCallbacks)),s=V3(n,1,!1,null,null,l,f,b,x,D,Z,null),n[Tn]=s.current,my(n),new Py(s)},D1.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var f=!1,b="",x=bx,D=vx,Z=yx,dt=null,kt=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(D=l.onCaughtError),l.onRecoverableError!==void 0&&(Z=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(dt=l.unstable_transitionCallbacks),l.formState!==void 0&&(kt=l.formState)),s=V3(n,1,!0,s,l??null,f,b,x,D,Z,dt,kt),s.context=Y3(null),l=s.current,f=or(),f=so(f),b=Ft(f),b.callback=null,Ut(l,b,f),l=f,s.current.lanes=l,ua(s,l),Tl(s),n[Tn]=s.current,my(n),new U5(s)},D1.version="19.1.0",D1}var dS;function mE(){if(dS)return Iy.exports;dS=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(t){console.error(t)}}return c(),Iy.exports=gE(),Iy.exports}var bE=mE();/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yE=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),fS=c=>{const t=yE(c);return t.charAt(0).toUpperCase()+t.slice(1)},u4=(...c)=>c.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),wE=c=>{for(const t in c)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=De.forwardRef(({color:c="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:r,iconNode:o,...u},h)=>De.createElement("svg",{ref:h,...AE,width:t,height:t,stroke:c,strokeWidth:i?Number(e)*24/Number(t):e,className:u4("lucide",a),...!r&&!wE(u)&&{"aria-hidden":"true"},...u},[...o.map(([p,m])=>De.createElement(p,m)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=(c,t)=>{const e=De.forwardRef(({className:i,...a},r)=>De.createElement(xE,{ref:r,iconNode:t,className:u4(`lucide-${vE(fS(c))}`,`lucide-${c}`,i),...a}));return e.displayName=fS(c),e};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_E=Pi("chart-column",SE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],h4=Pi("check",NE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],LE=Pi("crop",EE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Bb=Pi("download",CE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],ME=Pi("droplets",TE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d4=Pi("eye",kE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],DE=Pi("file-image",RE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cd=Pi("file-text",PE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jE=Pi("funnel",OE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],IE=Pi("house",FE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],r0=Pi("image",BE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],qE=Pi("info",zE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zb=Pi("loader-circle",UE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],GE=Pi("lock-open",HE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],YE=Pi("lock",VE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]],WE=Pi("merge",XE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],KE=Pi("palette",$E);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],f4=Pi("rotate-cw",QE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],JE=Pi("scissors",ZE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eL=Pi("settings",tL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nL=Pi("shield",iL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]],aL=Pi("sliders-vertical",sL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M16 3h5v5",key:"1806ms"}],["path",{d:"M8 3H3v5",key:"15dfkv"}],["path",{d:"M12 22v-8.3a4 4 0 0 0-1.172-2.872L3 3",key:"1qrqzj"}],["path",{d:"m15 9 6-6",key:"ko1vev"}]],oL=Pi("split",rL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],cL=Pi("target",lL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],qb=Pi("trash-2",uL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],p4=Pi("upload",hL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],g4=Pi("x",dL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pL=Pi("zap",fL);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],mL=Pi("zoom-in",gL);function pS(c,t){if(typeof c=="function")return c(t);c!=null&&(c.current=t)}function bL(...c){return t=>{let e=!1;const i=c.map(a=>{const r=pS(a,t);return!e&&typeof r=="function"&&(e=!0),r});if(e)return()=>{for(let a=0;a<i.length;a++){const r=i[a];typeof r=="function"?r():pS(c[a],null)}}}}function vL(...c){return De.useCallback(bL(...c),c)}function yL(c){const t=AL(c),e=De.forwardRef((i,a)=>{const{children:r,...o}=i,u=De.Children.toArray(r),h=u.find(SL);if(h){const p=h.props.children,m=u.map(y=>y===h?De.Children.count(p)>1?De.Children.only(null):De.isValidElement(p)?p.props.children:null:y);return Y.jsx(t,{...o,ref:a,children:De.isValidElement(p)?De.cloneElement(p,void 0,m):null})}return Y.jsx(t,{...o,ref:a,children:r})});return e.displayName=`${c}.Slot`,e}var wL=yL("Slot");function AL(c){const t=De.forwardRef((e,i)=>{const{children:a,...r}=e,o=De.isValidElement(a)?NL(a):void 0,u=vL(o,i);if(De.isValidElement(a)){const h=_L(r,a.props);return a.type!==De.Fragment&&(h.ref=u),De.cloneElement(a,h)}return De.Children.count(a)>1?De.Children.only(null):null});return t.displayName=`${c}.SlotClone`,t}var xL=Symbol("radix.slottable");function SL(c){return De.isValidElement(c)&&typeof c.type=="function"&&"__radixId"in c.type&&c.type.__radixId===xL}function _L(c,t){const e={...t};for(const i in t){const a=c[i],r=t[i];/^on[A-Z]/.test(i)?a&&r?e[i]=(...u)=>{const h=r(...u);return a(...u),h}:a&&(e[i]=a):i==="style"?e[i]={...a,...r}:i==="className"&&(e[i]=[a,r].filter(Boolean).join(" "))}return{...c,...e}}function NL(c){var i,a;let t=(i=Object.getOwnPropertyDescriptor(c.props,"ref"))==null?void 0:i.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?c.ref:(t=(a=Object.getOwnPropertyDescriptor(c,"ref"))==null?void 0:a.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?c.props.ref:c.props.ref||c.ref)}function m4(c){var t,e,i="";if(typeof c=="string"||typeof c=="number")i+=c;else if(typeof c=="object")if(Array.isArray(c)){var a=c.length;for(t=0;t<a;t++)c[t]&&(e=m4(c[t]))&&(i&&(i+=" "),i+=e)}else for(e in c)c[e]&&(i&&(i+=" "),i+=e);return i}function b4(){for(var c,t,e=0,i="",a=arguments.length;e<a;e++)(c=arguments[e])&&(t=m4(c))&&(i&&(i+=" "),i+=t);return i}const gS=c=>typeof c=="boolean"?`${c}`:c===0?"0":c,mS=b4,EL=(c,t)=>e=>{var i;if((t==null?void 0:t.variants)==null)return mS(c,e==null?void 0:e.class,e==null?void 0:e.className);const{variants:a,defaultVariants:r}=t,o=Object.keys(a).map(p=>{const m=e==null?void 0:e[p],y=r==null?void 0:r[p];if(m===null)return null;const A=gS(m)||gS(y);return a[p][A]}),u=e&&Object.entries(e).reduce((p,m)=>{let[y,A]=m;return A===void 0||(p[y]=A),p},{}),h=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((p,m)=>{let{class:y,className:A,...w}=m;return Object.entries(w).every(L=>{let[N,M]=L;return Array.isArray(M)?M.includes({...r,...u}[N]):{...r,...u}[N]===M})?[...p,y,A]:p},[]);return mS(c,o,h,e==null?void 0:e.class,e==null?void 0:e.className)},qA="-",LL=c=>{const t=TL(c),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=c;return{getClassGroupId:o=>{const u=o.split(qA);return u[0]===""&&u.length!==1&&u.shift(),v4(u,t)||CL(o)},getConflictingClassGroupIds:(o,u)=>{const h=e[o]||[];return u&&i[o]?[...h,...i[o]]:h}}},v4=(c,t)=>{var o;if(c.length===0)return t.classGroupId;const e=c[0],i=t.nextPart.get(e),a=i?v4(c.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const r=c.join(qA);return(o=t.validators.find(({validator:u})=>u(r)))==null?void 0:o.classGroupId},bS=/^\[(.+)\]$/,CL=c=>{if(bS.test(c)){const t=bS.exec(c)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},TL=c=>{const{theme:t,classGroups:e}=c,i={nextPart:new Map,validators:[]};for(const a in e)ow(e[a],i,a,t);return i},ow=(c,t,e,i)=>{c.forEach(a=>{if(typeof a=="string"){const r=a===""?t:vS(t,a);r.classGroupId=e;return}if(typeof a=="function"){if(ML(a)){ow(a(i),t,e,i);return}t.validators.push({validator:a,classGroupId:e});return}Object.entries(a).forEach(([r,o])=>{ow(o,vS(t,r),e,i)})})},vS=(c,t)=>{let e=c;return t.split(qA).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},ML=c=>c.isThemeGetter,kL=c=>{if(c<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const a=(r,o)=>{e.set(r,o),t++,t>c&&(t=0,i=e,e=new Map)};return{get(r){let o=e.get(r);if(o!==void 0)return o;if((o=i.get(r))!==void 0)return a(r,o),o},set(r,o){e.has(r)?e.set(r,o):a(r,o)}}},lw="!",cw=":",RL=cw.length,DL=c=>{const{prefix:t,experimentalParseClassName:e}=c;let i=a=>{const r=[];let o=0,u=0,h=0,p;for(let L=0;L<a.length;L++){let N=a[L];if(o===0&&u===0){if(N===cw){r.push(a.slice(h,L)),h=L+RL;continue}if(N==="/"){p=L;continue}}N==="["?o++:N==="]"?o--:N==="("?u++:N===")"&&u--}const m=r.length===0?a:a.substring(h),y=PL(m),A=y!==m,w=p&&p>h?p-h:void 0;return{modifiers:r,hasImportantModifier:A,baseClassName:y,maybePostfixModifierPosition:w}};if(t){const a=t+cw,r=i;i=o=>o.startsWith(a)?r(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(e){const a=i;i=r=>e({className:r,parseClassName:a})}return i},PL=c=>c.endsWith(lw)?c.substring(0,c.length-1):c.startsWith(lw)?c.substring(1):c,OL=c=>{const t=Object.fromEntries(c.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let r=[];return i.forEach(o=>{o[0]==="["||t[o]?(a.push(...r.sort(),o),r=[]):r.push(o)}),a.push(...r.sort()),a}},jL=c=>({cache:kL(c.cacheSize),parseClassName:DL(c),sortModifiers:OL(c),...LL(c)}),FL=/\s+/,IL=(c,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:r}=t,o=[],u=c.trim().split(FL);let h="";for(let p=u.length-1;p>=0;p-=1){const m=u[p],{isExternal:y,modifiers:A,hasImportantModifier:w,baseClassName:L,maybePostfixModifierPosition:N}=e(m);if(y){h=m+(h.length>0?" "+h:h);continue}let M=!!N,E=i(M?L.substring(0,N):L);if(!E){if(!M){h=m+(h.length>0?" "+h:h);continue}if(E=i(L),!E){h=m+(h.length>0?" "+h:h);continue}M=!1}const R=r(A).join(":"),P=w?R+lw:R,K=P+E;if(o.includes(K))continue;o.push(K);const X=a(E,M);for(let st=0;st<X.length;++st){const it=X[st];o.push(P+it)}h=m+(h.length>0?" "+h:h)}return h};function BL(){let c=0,t,e,i="";for(;c<arguments.length;)(t=arguments[c++])&&(e=y4(t))&&(i&&(i+=" "),i+=e);return i}const y4=c=>{if(typeof c=="string")return c;let t,e="";for(let i=0;i<c.length;i++)c[i]&&(t=y4(c[i]))&&(e&&(e+=" "),e+=t);return e};function zL(c,...t){let e,i,a,r=o;function o(h){const p=t.reduce((m,y)=>y(m),c());return e=jL(p),i=e.cache.get,a=e.cache.set,r=u,u(h)}function u(h){const p=i(h);if(p)return p;const m=IL(h,e);return a(h,m),m}return function(){return r(BL.apply(null,arguments))}}const is=c=>{const t=e=>e[c]||[];return t.isThemeGetter=!0,t},w4=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,A4=/^\((?:(\w[\w-]*):)?(.+)\)$/i,qL=/^\d+\/\d+$/,UL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,VL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cg=c=>qL.test(c),Je=c=>!!c&&!Number.isNaN(Number(c)),mh=c=>!!c&&Number.isInteger(Number(c)),Uy=c=>c.endsWith("%")&&Je(c.slice(0,-1)),Fc=c=>UL.test(c),XL=()=>!0,WL=c=>HL.test(c)&&!GL.test(c),x4=()=>!1,$L=c=>VL.test(c),KL=c=>YL.test(c),QL=c=>!ue(c)&&!he(c),ZL=c=>zm(c,N4,x4),ue=c=>w4.test(c),ef=c=>zm(c,E4,WL),Hy=c=>zm(c,n8,Je),yS=c=>zm(c,S4,x4),JL=c=>zm(c,_4,KL),G5=c=>zm(c,L4,$L),he=c=>A4.test(c),P1=c=>qm(c,E4),t8=c=>qm(c,s8),wS=c=>qm(c,S4),e8=c=>qm(c,N4),i8=c=>qm(c,_4),V5=c=>qm(c,L4,!0),zm=(c,t,e)=>{const i=w4.exec(c);return i?i[1]?t(i[1]):e(i[2]):!1},qm=(c,t,e=!1)=>{const i=A4.exec(c);return i?i[1]?t(i[1]):e:!1},S4=c=>c==="position"||c==="percentage",_4=c=>c==="image"||c==="url",N4=c=>c==="length"||c==="size"||c==="bg-size",E4=c=>c==="length",n8=c=>c==="number",s8=c=>c==="family-name",L4=c=>c==="shadow",a8=()=>{const c=is("color"),t=is("font"),e=is("text"),i=is("font-weight"),a=is("tracking"),r=is("leading"),o=is("breakpoint"),u=is("container"),h=is("spacing"),p=is("radius"),m=is("shadow"),y=is("inset-shadow"),A=is("text-shadow"),w=is("drop-shadow"),L=is("blur"),N=is("perspective"),M=is("aspect"),E=is("ease"),R=is("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],X=()=>[...K(),he,ue],st=()=>["auto","hidden","clip","visible","scroll"],it=()=>["auto","contain","none"],W=()=>[he,ue,h],lt=()=>[cg,"full","auto",...W()],yt=()=>[mh,"none","subgrid",he,ue],H=()=>["auto",{span:["full",mh,he,ue]},mh,he,ue],J=()=>[mh,"auto",he,ue],ut=()=>["auto","min","max","fr",he,ue],rt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],_t=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...W()],z=()=>[cg,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...W()],Q=()=>[c,he,ue],pt=()=>[...K(),wS,yS,{position:[he,ue]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ft=()=>["auto","cover","contain",e8,ZL,{size:[he,ue]}],k=()=>[Uy,P1,ef],q=()=>["","none","full",p,he,ue],et=()=>["",Je,P1,ef],at=()=>["solid","dashed","dotted","double"],ct=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],gt=()=>[Je,Uy,wS,yS],St=()=>["","none",L,he,ue],Tt=()=>["none",Je,he,ue],Yt=()=>["none",Je,he,ue],Gt=()=>[Je,he,ue],$t=()=>[cg,"full",...W()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fc],breakpoint:[Fc],color:[XL],container:[Fc],"drop-shadow":[Fc],ease:["in","out","in-out"],font:[QL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fc],shadow:[Fc],spacing:["px",Je],text:[Fc],"text-shadow":[Fc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",cg,ue,he,M]}],container:["container"],columns:[{columns:[Je,ue,he,u]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:X()}],overflow:[{overflow:st()}],"overflow-x":[{"overflow-x":st()}],"overflow-y":[{"overflow-y":st()}],overscroll:[{overscroll:it()}],"overscroll-x":[{"overscroll-x":it()}],"overscroll-y":[{"overscroll-y":it()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:lt()}],"inset-x":[{"inset-x":lt()}],"inset-y":[{"inset-y":lt()}],start:[{start:lt()}],end:[{end:lt()}],top:[{top:lt()}],right:[{right:lt()}],bottom:[{bottom:lt()}],left:[{left:lt()}],visibility:["visible","invisible","collapse"],z:[{z:[mh,"auto",he,ue]}],basis:[{basis:[cg,"full","auto",u,...W()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,cg,"auto","initial","none",ue]}],grow:[{grow:["",Je,he,ue]}],shrink:[{shrink:["",Je,he,ue]}],order:[{order:[mh,"first","last","none",he,ue]}],"grid-cols":[{"grid-cols":yt()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":yt()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ut()}],"auto-rows":[{"auto-rows":ut()}],gap:[{gap:W()}],"gap-x":[{"gap-x":W()}],"gap-y":[{"gap-y":W()}],"justify-content":[{justify:[...rt(),"normal"]}],"justify-items":[{"justify-items":[..._t(),"normal"]}],"justify-self":[{"justify-self":["auto",..._t()]}],"align-content":[{content:["normal",...rt()]}],"align-items":[{items:[..._t(),{baseline:["","last"]}]}],"align-self":[{self:["auto",..._t(),{baseline:["","last"]}]}],"place-content":[{"place-content":rt()}],"place-items":[{"place-items":[..._t(),"baseline"]}],"place-self":[{"place-self":["auto",..._t()]}],p:[{p:W()}],px:[{px:W()}],py:[{py:W()}],ps:[{ps:W()}],pe:[{pe:W()}],pt:[{pt:W()}],pr:[{pr:W()}],pb:[{pb:W()}],pl:[{pl:W()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":W()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":W()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[u,"screen",...z()]}],"min-w":[{"min-w":[u,"screen","none",...z()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",e,P1,ef]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,he,Hy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uy,ue]}],"font-family":[{font:[t8,ue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,he,ue]}],"line-clamp":[{"line-clamp":[Je,"none",he,Hy]}],leading:[{leading:[r,...W()]}],"list-image":[{"list-image":["none",he,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...at(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",he,ef]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[Je,"auto",he,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pt()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:ft()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mh,he,ue],radial:["",he,ue],conic:[mh,he,ue]},i8,JL]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:k()}],"gradient-via-pos":[{via:k()}],"gradient-to-pos":[{to:k()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:et()}],"border-w-x":[{"border-x":et()}],"border-w-y":[{"border-y":et()}],"border-w-s":[{"border-s":et()}],"border-w-e":[{"border-e":et()}],"border-w-t":[{"border-t":et()}],"border-w-r":[{"border-r":et()}],"border-w-b":[{"border-b":et()}],"border-w-l":[{"border-l":et()}],"divide-x":[{"divide-x":et()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":et()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...at(),"hidden","none"]}],"divide-style":[{divide:[...at(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...at(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,he,ue]}],"outline-w":[{outline:["",Je,P1,ef]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",m,V5,G5]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",y,V5,G5]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:et()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[Je,ef]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":et()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",A,V5,G5]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[Je,he,ue]}],"mix-blend":[{"mix-blend":[...ct(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ct()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":gt()}],"mask-image-linear-to-pos":[{"mask-linear-to":gt()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":gt()}],"mask-image-t-to-pos":[{"mask-t-to":gt()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":gt()}],"mask-image-r-to-pos":[{"mask-r-to":gt()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":gt()}],"mask-image-b-to-pos":[{"mask-b-to":gt()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":gt()}],"mask-image-l-to-pos":[{"mask-l-to":gt()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":gt()}],"mask-image-x-to-pos":[{"mask-x-to":gt()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":gt()}],"mask-image-y-to-pos":[{"mask-y-to":gt()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[he,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":gt()}],"mask-image-radial-to-pos":[{"mask-radial-to":gt()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":gt()}],"mask-image-conic-to-pos":[{"mask-conic-to":gt()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pt()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:ft()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",he,ue]}],filter:[{filter:["","none",he,ue]}],blur:[{blur:St()}],brightness:[{brightness:[Je,he,ue]}],contrast:[{contrast:[Je,he,ue]}],"drop-shadow":[{"drop-shadow":["","none",w,V5,G5]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",Je,he,ue]}],"hue-rotate":[{"hue-rotate":[Je,he,ue]}],invert:[{invert:["",Je,he,ue]}],saturate:[{saturate:[Je,he,ue]}],sepia:[{sepia:["",Je,he,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",he,ue]}],"backdrop-blur":[{"backdrop-blur":St()}],"backdrop-brightness":[{"backdrop-brightness":[Je,he,ue]}],"backdrop-contrast":[{"backdrop-contrast":[Je,he,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,he,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,he,ue]}],"backdrop-invert":[{"backdrop-invert":["",Je,he,ue]}],"backdrop-opacity":[{"backdrop-opacity":[Je,he,ue]}],"backdrop-saturate":[{"backdrop-saturate":[Je,he,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,he,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":W()}],"border-spacing-x":[{"border-spacing-x":W()}],"border-spacing-y":[{"border-spacing-y":W()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",he,ue]}],ease:[{ease:["linear","initial",E,he,ue]}],delay:[{delay:[Je,he,ue]}],animate:[{animate:["none",R,he,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,he,ue]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:Tt()}],"rotate-x":[{"rotate-x":Tt()}],"rotate-y":[{"rotate-y":Tt()}],"rotate-z":[{"rotate-z":Tt()}],scale:[{scale:Yt()}],"scale-x":[{"scale-x":Yt()}],"scale-y":[{"scale-y":Yt()}],"scale-z":[{"scale-z":Yt()}],"scale-3d":["scale-3d"],skew:[{skew:Gt()}],"skew-x":[{"skew-x":Gt()}],"skew-y":[{"skew-y":Gt()}],transform:[{transform:[he,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$t()}],"translate-x":[{"translate-x":$t()}],"translate-y":[{"translate-y":$t()}],"translate-z":[{"translate-z":$t()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,ue]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[Je,P1,ef,Hy]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},r8=zL(a8);function o8(...c){return r8(b4(c))}const l8=EL("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function os({className:c,variant:t,size:e,asChild:i=!1,...a}){const r=i?wL:"button";return Y.jsx(r,{"data-slot":"button",className:o8(l8({variant:t,size:e,className:c})),...a})}const c8=()=>{const[c,t]=De.useState([]),[e,i]=De.useState("compression"),[a,r]=De.useState(!1),[o,u]=De.useState(!1),[h,p]=De.useState(!1),[m,y]=De.useState(null),[A,w]=De.useState(!1),L=De.useRef(null),[N,M]=De.useState({quality:80,format:"original",maxWidth:"",maxHeight:"",targetKB:"",removeExif:!0,rotation:0,flipH:!1,flipV:!1,brightness:100,contrast:100,saturation:100,grayscale:!1,sepia:!1,blur:0}),[E,R]=De.useState({totalFiles:0,originalSize:0,compressedSize:0,totalSavings:0,avgCompressionRatio:0}),P=z=>{const Q=z.length,pt=z.reduce((et,at)=>et+at.size,0),O=z.filter(et=>et.processed),ft=O.reduce((et,at)=>{var ct;return et+(((ct=at.processed)==null?void 0:ct.size)||at.size)},0),k=pt-ft,q=O.length>0?O.reduce((et,at)=>{var ct;return et+(at.size-(((ct=at.processed)==null?void 0:ct.size)||at.size))/at.size*100},0)/O.length:0;R({totalFiles:Q,originalSize:pt,compressedSize:ft,totalSavings:k,avgCompressionRatio:q})},K=z=>{if(z===0)return"0 Bytes";const Q=1024,pt=["Bytes","KB","MB","GB"],O=Math.floor(Math.log(z)/Math.log(Q));return parseFloat((z/Math.pow(Q,O)).toFixed(2))+" "+pt[O]},X=De.useCallback(z=>{const O=Array.from(z.target.files).filter(ft=>ft.type.startsWith("image/")).map(ft=>({id:Date.now()+Math.random(),file:ft,name:ft.name,size:ft.size,type:ft.type,preview:URL.createObjectURL(ft),status:"pending",progress:0,processed:null,processedPreview:null}));t(ft=>[...ft,...O]),P([...c,...O])},[c]),st=De.useCallback(z=>{z.preventDefault(),r(!1);const O=Array.from(z.dataTransfer.files).filter(ft=>ft.type.startsWith("image/")).map(ft=>({id:Date.now()+Math.random(),file:ft,name:ft.name,size:ft.size,type:ft.type,preview:URL.createObjectURL(ft),status:"pending",progress:0,processed:null,processedPreview:null}));t(ft=>[...ft,...O]),P([...c,...O])},[c]),it=De.useCallback(z=>{z.preventDefault(),r(!0)},[]),W=De.useCallback(z=>{z.preventDefault(),r(!1)},[]),lt=async()=>{w(!0);for(let z=0;z<c.length;z++){const Q=c[z];if(Q.status!=="completed"){t(pt=>pt.map(O=>O.id===Q.id?{...O,status:"processing",progress:0}:O));try{const pt=await yt(Q.file),O=new File([pt],Q.name,{type:pt.type}),ft=URL.createObjectURL(pt);t(k=>k.map(q=>q.id===Q.id?{...q,processed:O,processedPreview:ft,status:"completed",progress:100}:q))}catch{t(O=>O.map(ft=>ft.id===Q.id?{...ft,status:"error",progress:0}:ft))}}}w(!1),P(c)},yt=async z=>new Promise(Q=>{const pt=document.createElement("canvas"),O=pt.getContext("2d"),ft=new Image;ft.onload=()=>{let{width:k,height:q}=ft;N.maxWidth&&k>parseInt(N.maxWidth)&&(q=q*parseInt(N.maxWidth)/k,k=parseInt(N.maxWidth)),N.maxHeight&&q>parseInt(N.maxHeight)&&(k=k*parseInt(N.maxHeight)/q,q=parseInt(N.maxHeight)),pt.width=k,pt.height=q,O.save(),N.rotation!==0&&(O.translate(k/2,q/2),O.rotate(N.rotation*Math.PI/180),O.translate(-k/2,-q/2)),(N.flipH||N.flipV)&&(O.scale(N.flipH?-1:1,N.flipV?-1:1),O.translate(N.flipH?-k:0,N.flipV?-q:0)),O.drawImage(ft,0,0,k,q),(N.brightness!==100||N.contrast!==100||N.saturation!==100)&&(O.filter=`brightness(${N.brightness}%) contrast(${N.contrast}%) saturate(${N.saturation}%)`,O.drawImage(pt,0,0)),N.grayscale&&(O.filter="grayscale(100%)",O.drawImage(pt,0,0)),N.sepia&&(O.filter="sepia(100%)",O.drawImage(pt,0,0)),N.blur>0&&(O.filter=`blur(${N.blur}px)`,O.drawImage(pt,0,0)),O.restore();const et=N.format==="original"?z.type:`image/${N.format}`,at=N.quality/100;pt.toBlob(Q,et,at)},ft.src=URL.createObjectURL(z)}),H=z=>{const Q=document.createElement("a");Q.href=z.processedPreview||z.preview,Q.download=`processed_${z.name}`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q)},J=()=>{c.forEach((z,Q)=>{z.processed&&setTimeout(()=>H(z),Q*100)})},ut=z=>{t(Q=>Q.filter(pt=>pt.id!==z))},rt=()=>{t([]),R({totalFiles:0,originalSize:0,compressedSize:0,totalSavings:0,avgCompressionRatio:0})},_t=z=>{y(z),p(!0)},B=[{id:"compression",label:"Compression",icon:cL},{id:"resize",label:"Resize",icon:LE},{id:"transform",label:"Transform",icon:f4},{id:"filters",label:"Filters",icon:KE},{id:"format",label:"Format",icon:DE},{id:"batch",label:"Batch",icon:aL},{id:"advanced",label:"Advanced",icon:eL},{id:"optimize",label:"Optimize",icon:mL},{id:"effects",label:"Effects",icon:jE}];return Y.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[Y.jsxs("div",{className:"text-center space-y-2",children:[Y.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center justify-center gap-2",children:[Y.jsx(r0,{className:"w-8 h-8 text-blue-600"}),"Professional Image Processor"]}),Y.jsx("p",{className:"text-gray-600",children:"Comprehensive image processing with compression, resizing, filters, and advanced editing tools."})]}),Y.jsxs("div",{className:"flex justify-between items-center",children:[Y.jsxs(os,{onClick:()=>u(!o),variant:"outline",className:"flex items-center gap-2",children:[Y.jsx(_E,{className:"w-4 h-4"}),o?"Hide":"Show"," Analytics"]}),c.length>0&&Y.jsxs("div",{className:"flex gap-2",children:[Y.jsx(os,{onClick:lt,disabled:A,className:"bg-blue-600 hover:bg-blue-700",children:A?Y.jsxs(Y.Fragment,{children:[Y.jsx(zb,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Process All Images"}),Y.jsxs(os,{onClick:J,variant:"outline",disabled:!c.some(z=>z.processed),children:[Y.jsx(Bb,{className:"w-4 h-4 mr-2"}),"Download All"]}),Y.jsxs(os,{onClick:rt,variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:[Y.jsx(qb,{className:"w-4 h-4 mr-2"}),"Clear All"]})]})]}),o&&Y.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[Y.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Processing Statistics"}),Y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"text-2xl font-bold text-blue-600",children:E.totalFiles}),Y.jsx("div",{className:"text-sm text-gray-600",children:"Total Files"})]}),Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"text-2xl font-bold text-green-600",children:K(E.originalSize)}),Y.jsx("div",{className:"text-sm text-gray-600",children:"Original Size"})]}),Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"text-2xl font-bold text-purple-600",children:K(E.compressedSize)}),Y.jsx("div",{className:"text-sm text-gray-600",children:"Compressed Size"})]}),Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"text-2xl font-bold text-orange-600",children:K(E.totalSavings)}),Y.jsx("div",{className:"text-sm text-gray-600",children:"Space Saved"})]}),Y.jsxs("div",{className:"text-center",children:[Y.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[E.avgCompressionRatio.toFixed(1),"%"]}),Y.jsx("div",{className:"text-sm text-gray-600",children:"Avg Compression"})]})]})]}),Y.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[Y.jsx("div",{className:"border-b border-gray-200",children:Y.jsx("nav",{className:"flex space-x-1 px-6 overflow-x-auto",children:B.map(z=>{const Q=z.icon;return Y.jsxs("button",{onClick:()=>i(z.id),className:`py-4 px-3 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors whitespace-nowrap ${e===z.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[Y.jsx(Q,{className:"w-4 h-4"}),z.label]},z.id)})})}),Y.jsxs("div",{className:"p-6",children:[e==="compression"&&Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Compression Settings"}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Quality: ",N.quality,"%"]}),Y.jsx("input",{type:"range",min:"10",max:"100",value:N.quality,onChange:z=>M(Q=>({...Q,quality:parseInt(z.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Size (KB)"}),Y.jsx("input",{type:"number",value:N.targetKB,onChange:z=>M(Q=>({...Q,targetKB:z.target.value})),placeholder:"Optional",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e==="resize"&&Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Resize Settings"}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Width (px)"}),Y.jsx("input",{type:"number",value:N.maxWidth,onChange:z=>M(Q=>({...Q,maxWidth:z.target.value})),placeholder:"Original width",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Height (px)"}),Y.jsx("input",{type:"number",value:N.maxHeight,onChange:z=>M(Q=>({...Q,maxHeight:z.target.value})),placeholder:"Original height",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e==="transform"&&Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Transform Settings"}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Y.jsxs("div",{children:[Y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rotation: ",N.rotation,""]}),Y.jsx("input",{type:"range",min:"0",max:"360",value:N.rotation,onChange:z=>M(Q=>({...Q,rotation:parseInt(z.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),Y.jsx("div",{className:"flex items-center space-x-4",children:Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:N.flipH,onChange:z=>M(Q=>({...Q,flipH:z.target.checked})),className:"mr-2"}),"Flip Horizontal"]})}),Y.jsx("div",{className:"flex items-center space-x-4",children:Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:N.flipV,onChange:z=>M(Q=>({...Q,flipV:z.target.checked})),className:"mr-2"}),"Flip Vertical"]})})]})]}),e==="filters"&&Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Settings"}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Y.jsxs("div",{children:[Y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Brightness: ",N.brightness,"%"]}),Y.jsx("input",{type:"range",min:"0",max:"200",value:N.brightness,onChange:z=>M(Q=>({...Q,brightness:parseInt(z.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),Y.jsxs("div",{children:[Y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contrast: ",N.contrast,"%"]}),Y.jsx("input",{type:"range",min:"0",max:"200",value:N.contrast,onChange:z=>M(Q=>({...Q,contrast:parseInt(z.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),Y.jsxs("div",{children:[Y.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Saturation: ",N.saturation,"%"]}),Y.jsx("input",{type:"range",min:"0",max:"200",value:N.saturation,onChange:z=>M(Q=>({...Q,saturation:parseInt(z.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]}),Y.jsxs("div",{className:"flex space-x-4",children:[Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:N.grayscale,onChange:z=>M(Q=>({...Q,grayscale:z.target.checked})),className:"mr-2"}),"Grayscale"]}),Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:N.sepia,onChange:z=>M(Q=>({...Q,sepia:z.target.checked})),className:"mr-2"}),"Sepia"]})]})]}),e==="format"&&Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Format Settings"}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Output Format"}),Y.jsxs("select",{value:N.format,onChange:z=>M(Q=>({...Q,format:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[Y.jsx("option",{value:"original",children:"Keep Original"}),Y.jsx("option",{value:"jpeg",children:"JPEG"}),Y.jsx("option",{value:"png",children:"PNG"}),Y.jsx("option",{value:"webp",children:"WebP"})]})]}),Y.jsx("div",{className:"flex items-center",children:Y.jsxs("label",{className:"flex items-center",children:[Y.jsx("input",{type:"checkbox",checked:N.removeExif,onChange:z=>M(Q=>({...Q,removeExif:z.target.checked})),className:"mr-2"}),"Remove EXIF Data (Privacy)"]})})]})]})]}),Y.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${a?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-blue-400"}`,onDrop:st,onDragOver:it,onDragLeave:W,children:[Y.jsx(p4,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Upload Images"}),Y.jsx("p",{className:"text-gray-500 mb-4",children:"Drag and drop your images here, or click to browse"}),Y.jsx("input",{ref:L,type:"file",multiple:!0,accept:"image/*",onChange:X,className:"hidden",id:"file-upload"}),Y.jsx("label",{htmlFor:"file-upload",children:Y.jsx(os,{className:"cursor-pointer",children:"Choose Files"})})]}),c.length>0&&Y.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[Y.jsx("div",{className:"flex justify-between items-center mb-4",children:Y.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Uploaded Images (",c.length,")"]})}),Y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(z=>Y.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[Y.jsxs("div",{className:"aspect-video bg-gray-100 rounded-lg mb-3 overflow-hidden relative",children:[Y.jsx("img",{src:z.processedPreview||z.preview,alt:z.name,className:"w-full h-full object-cover"}),z.status==="processing"&&Y.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:Y.jsx(zb,{className:"w-8 h-8 text-white animate-spin"})}),z.status==="completed"&&Y.jsx("div",{className:"absolute top-2 right-2",children:Y.jsx(h4,{className:"w-6 h-6 text-green-500 bg-white rounded-full p-1"})})]}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("h4",{className:"font-medium text-gray-800 truncate",title:z.name,children:z.name}),Y.jsxs("div",{className:"text-sm text-gray-600",children:[Y.jsxs("div",{children:["Original: ",K(z.size)]}),z.processed&&Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{children:["Processed: ",K(z.processed.size)]}),Y.jsxs("div",{className:"text-green-600 font-medium",children:["Saved: ",((z.size-z.processed.size)/z.size*100).toFixed(1),"%"]})]})]}),Y.jsxs("div",{className:"flex space-x-2",children:[Y.jsxs(os,{onClick:()=>_t(z),size:"sm",variant:"outline",className:"flex-1",children:[Y.jsx(d4,{className:"w-4 h-4 mr-1"}),"Preview"]}),z.processed&&Y.jsxs(os,{onClick:()=>H(z),size:"sm",className:"flex-1",children:[Y.jsx(Bb,{className:"w-4 h-4 mr-1"}),"Download"]}),Y.jsx(os,{onClick:()=>ut(z.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:Y.jsx(qb,{className:"w-4 h-4"})})]})]})]},z.id))})]}),h&&m&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Y.jsxs("div",{className:"bg-white rounded-xl max-w-4xl max-h-full overflow-auto",children:[Y.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[Y.jsx("h3",{className:"text-lg font-semibold",children:m.name}),Y.jsx(os,{onClick:()=>p(!1),variant:"outline",size:"sm",children:Y.jsx(g4,{className:"w-4 h-4"})})]}),Y.jsx("div",{className:"p-4",children:Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("h4",{className:"font-medium mb-2",children:"Original"}),Y.jsx("img",{src:m.preview,alt:"Original",className:"w-full rounded-lg border border-gray-200"}),Y.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Size: ",K(m.size)]})]}),m.processedPreview&&Y.jsxs("div",{children:[Y.jsx("h4",{className:"font-medium mb-2",children:"Processed"}),Y.jsx("img",{src:m.processedPreview,alt:"Processed",className:"w-full rounded-lg border border-gray-200"}),Y.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Size: ",K(m.processed.size)]})]})]})})]})})]})},u8="modulepreload",h8=function(c){return"/"+c},AS={},uw=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let o=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=o(e.map(p=>{if(p=h8(p),p in AS)return;AS[p]=!0;const m=p.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const A=document.createElement("link");if(A.rel=m?"stylesheet":u8,m||(A.as="script"),A.crossOrigin="",A.href=p,h&&A.setAttribute("nonce",h),document.head.appendChild(A),m)return new Promise((w,L)=>{A.addEventListener("load",w),A.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${p}`)))})}))}function r(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return a.then(o=>{for(const u of o||[])u.status==="rejected"&&r(u.reason);return t().catch(r)})};function Di(c){"@babel/helpers - typeof";return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(c)}var la=Uint8Array,Cr=Uint16Array,UA=Int32Array,wv=new la([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Av=new la([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hw=new la([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C4=function(c,t){for(var e=new Cr(31),i=0;i<31;++i)e[i]=t+=1<<c[i-1];for(var a=new UA(e[30]),i=1;i<30;++i)for(var r=e[i];r<e[i+1];++r)a[r]=r-e[i]<<5|i;return{b:e,r:a}},T4=C4(wv,2),M4=T4.b,dw=T4.r;M4[28]=258,dw[258]=28;var k4=C4(Av,0),d8=k4.b,xS=k4.r,fw=new Cr(32768);for(var tn=0;tn<32768;++tn){var bh=(tn&43690)>>1|(tn&21845)<<1;bh=(bh&52428)>>2|(bh&13107)<<2,bh=(bh&61680)>>4|(bh&3855)<<4,fw[tn]=((bh&65280)>>8|(bh&255)<<8)>>1}var ic=function(c,t,e){for(var i=c.length,a=0,r=new Cr(t);a<i;++a)c[a]&&++r[c[a]-1];var o=new Cr(t);for(a=1;a<t;++a)o[a]=o[a-1]+r[a-1]<<1;var u;if(e){u=new Cr(1<<t);var h=15-t;for(a=0;a<i;++a)if(c[a])for(var p=a<<4|c[a],m=t-c[a],y=o[c[a]-1]++<<m,A=y|(1<<m)-1;y<=A;++y)u[fw[y]>>h]=p}else for(u=new Cr(i),a=0;a<i;++a)c[a]&&(u[a]=fw[o[c[a]-1]++]>>15-c[a]);return u},hd=new la(288);for(var tn=0;tn<144;++tn)hd[tn]=8;for(var tn=144;tn<256;++tn)hd[tn]=9;for(var tn=256;tn<280;++tn)hd[tn]=7;for(var tn=280;tn<288;++tn)hd[tn]=8;var l0=new la(32);for(var tn=0;tn<32;++tn)l0[tn]=5;var f8=ic(hd,9,0),p8=ic(hd,9,1),g8=ic(l0,5,0),m8=ic(l0,5,1),Gy=function(c){for(var t=c[0],e=1;e<c.length;++e)c[e]>t&&(t=c[e]);return t},ko=function(c,t,e){var i=t/8|0;return(c[i]|c[i+1]<<8)>>(t&7)&e},Vy=function(c,t){var e=t/8|0;return(c[e]|c[e+1]<<8|c[e+2]<<16)>>(t&7)},HA=function(c){return(c+7)/8|0},R4=function(c,t,e){return(e==null||e>c.length)&&(e=c.length),new la(c.subarray(t,e))},b8=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Po=function(c,t,e){var i=new Error(t||b8[c]);if(i.code=c,Error.captureStackTrace&&Error.captureStackTrace(i,Po),!e)throw i;return i},v8=function(c,t,e,i){var a=c.length,r=0;if(!a||t.f&&!t.l)return e||new la(0);var o=!e,u=o||t.i!=2,h=t.i;o&&(e=new la(a*3));var p=function(Gt){var $t=e.length;if(Gt>$t){var Kt=new la(Math.max($t*2,Gt));Kt.set(e),e=Kt}},m=t.f||0,y=t.p||0,A=t.b||0,w=t.l,L=t.d,N=t.m,M=t.n,E=a*8;do{if(!w){m=ko(c,y,1);var R=ko(c,y+1,3);if(y+=3,R)if(R==1)w=p8,L=m8,N=9,M=5;else if(R==2){var st=ko(c,y,31)+257,it=ko(c,y+10,15)+4,W=st+ko(c,y+5,31)+1;y+=14;for(var lt=new la(W),yt=new la(19),H=0;H<it;++H)yt[hw[H]]=ko(c,y+H*3,7);y+=it*3;for(var J=Gy(yt),ut=(1<<J)-1,rt=ic(yt,J,1),H=0;H<W;){var _t=rt[ko(c,y,ut)];y+=_t&15;var P=_t>>4;if(P<16)lt[H++]=P;else{var B=0,z=0;for(P==16?(z=3+ko(c,y,3),y+=2,B=lt[H-1]):P==17?(z=3+ko(c,y,7),y+=3):P==18&&(z=11+ko(c,y,127),y+=7);z--;)lt[H++]=B}}var Q=lt.subarray(0,st),pt=lt.subarray(st);N=Gy(Q),M=Gy(pt),w=ic(Q,N,1),L=ic(pt,M,1)}else Po(1);else{var P=HA(y)+4,K=c[P-4]|c[P-3]<<8,X=P+K;if(X>a){h&&Po(0);break}u&&p(A+K),e.set(c.subarray(P,X),A),t.b=A+=K,t.p=y=X*8,t.f=m;continue}if(y>E){h&&Po(0);break}}u&&p(A+131072);for(var O=(1<<N)-1,ft=(1<<M)-1,k=y;;k=y){var B=w[Vy(c,y)&O],q=B>>4;if(y+=B&15,y>E){h&&Po(0);break}if(B||Po(2),q<256)e[A++]=q;else if(q==256){k=y,w=null;break}else{var et=q-254;if(q>264){var H=q-257,at=wv[H];et=ko(c,y,(1<<at)-1)+M4[H],y+=at}var ct=L[Vy(c,y)&ft],gt=ct>>4;ct||Po(3),y+=ct&15;var pt=d8[gt];if(gt>3){var at=Av[gt];pt+=Vy(c,y)&(1<<at)-1,y+=at}if(y>E){h&&Po(0);break}u&&p(A+131072);var St=A+et;if(A<pt){var Tt=r-pt,Yt=Math.min(pt,St);for(Tt+A<0&&Po(3);A<Yt;++A)e[A]=i[Tt+A]}for(;A<St;++A)e[A]=e[A-pt]}}t.l=w,t.p=k,t.b=A,t.f=m,w&&(m=1,t.m=N,t.d=L,t.n=M)}while(!m);return A!=e.length&&o?R4(e,0,A):e.subarray(0,A)},Ic=function(c,t,e){e<<=t&7;var i=t/8|0;c[i]|=e,c[i+1]|=e>>8},O1=function(c,t,e){e<<=t&7;var i=t/8|0;c[i]|=e,c[i+1]|=e>>8,c[i+2]|=e>>16},Yy=function(c,t){for(var e=[],i=0;i<c.length;++i)c[i]&&e.push({s:i,f:c[i]});var a=e.length,r=e.slice();if(!a)return{t:P4,l:0};if(a==1){var o=new la(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(X,st){return X.f-st.f}),e.push({s:-1,f:25001});var u=e[0],h=e[1],p=0,m=1,y=2;for(e[0]={s:-1,f:u.f+h.f,l:u,r:h};m!=a-1;)u=e[e[p].f<e[y].f?p++:y++],h=e[p!=m&&e[p].f<e[y].f?p++:y++],e[m++]={s:-1,f:u.f+h.f,l:u,r:h};for(var A=r[0].s,i=1;i<a;++i)r[i].s>A&&(A=r[i].s);var w=new Cr(A+1),L=pw(e[m-1],w,0);if(L>t){var i=0,N=0,M=L-t,E=1<<M;for(r.sort(function(st,it){return w[it.s]-w[st.s]||st.f-it.f});i<a;++i){var R=r[i].s;if(w[R]>t)N+=E-(1<<L-w[R]),w[R]=t;else break}for(N>>=M;N>0;){var P=r[i].s;w[P]<t?N-=1<<t-w[P]++-1:++i}for(;i>=0&&N;--i){var K=r[i].s;w[K]==t&&(--w[K],++N)}L=t}return{t:new la(w),l:L}},pw=function(c,t,e){return c.s==-1?Math.max(pw(c.l,t,e+1),pw(c.r,t,e+1)):t[c.s]=e},SS=function(c){for(var t=c.length;t&&!c[--t];);for(var e=new Cr(++t),i=0,a=c[0],r=1,o=function(h){e[i++]=h},u=1;u<=t;++u)if(c[u]==a&&u!=t)++r;else{if(!a&&r>2){for(;r>138;r-=138)o(32754);r>2&&(o(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(o(a),--r;r>6;r-=6)o(8304);r>2&&(o(r-3<<5|8208),r=0)}for(;r--;)o(a);r=1,a=c[u]}return{c:e.subarray(0,i),n:t}},j1=function(c,t){for(var e=0,i=0;i<t.length;++i)e+=c[i]*t[i];return e},D4=function(c,t,e){var i=e.length,a=HA(t+2);c[a]=i&255,c[a+1]=i>>8,c[a+2]=c[a]^255,c[a+3]=c[a+1]^255;for(var r=0;r<i;++r)c[a+r+4]=e[r];return(a+4+i)*8},_S=function(c,t,e,i,a,r,o,u,h,p,m){Ic(t,m++,e),++a[256];for(var y=Yy(a,15),A=y.t,w=y.l,L=Yy(r,15),N=L.t,M=L.l,E=SS(A),R=E.c,P=E.n,K=SS(N),X=K.c,st=K.n,it=new Cr(19),W=0;W<R.length;++W)++it[R[W]&31];for(var W=0;W<X.length;++W)++it[X[W]&31];for(var lt=Yy(it,7),yt=lt.t,H=lt.l,J=19;J>4&&!yt[hw[J-1]];--J);var ut=p+5<<3,rt=j1(a,hd)+j1(r,l0)+o,_t=j1(a,A)+j1(r,N)+o+14+3*J+j1(it,yt)+2*it[16]+3*it[17]+7*it[18];if(h>=0&&ut<=rt&&ut<=_t)return D4(t,m,c.subarray(h,h+p));var B,z,Q,pt;if(Ic(t,m,1+(_t<rt)),m+=2,_t<rt){B=ic(A,w,0),z=A,Q=ic(N,M,0),pt=N;var O=ic(yt,H,0);Ic(t,m,P-257),Ic(t,m+5,st-1),Ic(t,m+10,J-4),m+=14;for(var W=0;W<J;++W)Ic(t,m+3*W,yt[hw[W]]);m+=3*J;for(var ft=[R,X],k=0;k<2;++k)for(var q=ft[k],W=0;W<q.length;++W){var et=q[W]&31;Ic(t,m,O[et]),m+=yt[et],et>15&&(Ic(t,m,q[W]>>5&127),m+=q[W]>>12)}}else B=f8,z=hd,Q=g8,pt=l0;for(var W=0;W<u;++W){var at=i[W];if(at>255){var et=at>>18&31;O1(t,m,B[et+257]),m+=z[et+257],et>7&&(Ic(t,m,at>>23&31),m+=wv[et]);var ct=at&31;O1(t,m,Q[ct]),m+=pt[ct],ct>3&&(O1(t,m,at>>5&8191),m+=Av[ct])}else O1(t,m,B[at]),m+=z[at]}return O1(t,m,B[256]),m+z[256]},y8=new UA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),P4=new la(0),w8=function(c,t,e,i,a,r){var o=r.z||c.length,u=new la(i+o+5*(1+Math.ceil(o/7e3))+a),h=u.subarray(i,u.length-a),p=r.l,m=(r.r||0)&7;if(t){m&&(h[0]=r.r>>3);for(var y=y8[t-1],A=y>>13,w=y&8191,L=(1<<e)-1,N=r.p||new Cr(32768),M=r.h||new Cr(L+1),E=Math.ceil(e/3),R=2*E,P=function(xe){return(c[xe]^c[xe+1]<<E^c[xe+2]<<R)&L},K=new UA(25e3),X=new Cr(288),st=new Cr(32),it=0,W=0,lt=r.i||0,yt=0,H=r.w||0,J=0;lt+2<o;++lt){var ut=P(lt),rt=lt&32767,_t=M[ut];if(N[rt]=_t,M[ut]=rt,H<=lt){var B=o-lt;if((it>7e3||yt>24576)&&(B>423||!p)){m=_S(c,h,0,K,X,st,W,yt,J,lt-J,m),yt=it=W=0,J=lt;for(var z=0;z<286;++z)X[z]=0;for(var z=0;z<30;++z)st[z]=0}var Q=2,pt=0,O=w,ft=rt-_t&32767;if(B>2&&ut==P(lt-ft))for(var k=Math.min(A,B)-1,q=Math.min(32767,lt),et=Math.min(258,B);ft<=q&&--O&&rt!=_t;){if(c[lt+Q]==c[lt+Q-ft]){for(var at=0;at<et&&c[lt+at]==c[lt+at-ft];++at);if(at>Q){if(Q=at,pt=ft,at>k)break;for(var ct=Math.min(ft,at-2),gt=0,z=0;z<ct;++z){var St=lt-ft+z&32767,Tt=N[St],Yt=St-Tt&32767;Yt>gt&&(gt=Yt,_t=St)}}}rt=_t,_t=N[rt],ft+=rt-_t&32767}if(pt){K[yt++]=268435456|dw[Q]<<18|xS[pt];var Gt=dw[Q]&31,$t=xS[pt]&31;W+=wv[Gt]+Av[$t],++X[257+Gt],++st[$t],H=lt+Q,++it}else K[yt++]=c[lt],++X[c[lt]]}}for(lt=Math.max(lt,H);lt<o;++lt)K[yt++]=c[lt],++X[c[lt]];m=_S(c,h,p,K,X,st,W,yt,J,lt-J,m),p||(r.r=m&7|h[m/8|0]<<3,m-=7,r.h=M,r.p=N,r.i=lt,r.w=H)}else{for(var lt=r.w||0;lt<o+p;lt+=65535){var Kt=lt+65535;Kt>=o&&(h[m/8|0]=p,Kt=o),m=D4(h,m+1,c.subarray(lt,Kt))}r.i=o}return R4(u,0,i+HA(m)+a)},O4=function(){var c=1,t=0;return{p:function(e){for(var i=c,a=t,r=e.length|0,o=0;o!=r;){for(var u=Math.min(o+2655,r);o<u;++o)a+=i+=e[o];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}c=i,t=a},d:function(){return c%=65521,t%=65521,(c&255)<<24|(c&65280)<<8|(t&255)<<8|t>>8}}},A8=function(c,t,e,i,a){if(!a&&(a={l:1},t.dictionary)){var r=t.dictionary.subarray(-32768),o=new la(r.length+c.length);o.set(r),o.set(c,r.length),c=o,a.w=r.length}return w8(c,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(c.length)))*1.5):20:12+t.mem,e,i,a)},j4=function(c,t,e){for(;e;++t)c[t]=e,e>>>=8},x8=function(c,t){var e=t.level,i=e==0?0:e<6?1:e==9?3:2;if(c[0]=120,c[1]=i<<6|(t.dictionary&&32),c[1]|=31-(c[0]<<8|c[1])%31,t.dictionary){var a=O4();a.p(t.dictionary),j4(c,2,a.d())}},S8=function(c,t){return((c[0]&15)!=8||c[0]>>4>7||(c[0]<<8|c[1])%31)&&Po(6,"invalid zlib data"),(c[1]>>5&1)==1&&Po(6,"invalid zlib data: "+(c[1]&32?"need":"unexpected")+" dictionary"),(c[1]>>3&4)+2};function gw(c,t){t||(t={});var e=O4();e.p(c);var i=A8(c,t,t.dictionary?6:2,4);return x8(i,t),j4(i,i.length-4,e.d()),i}function _8(c,t){return v8(c.subarray(S8(c),-4),{i:2},t,t)}var N8=typeof TextDecoder<"u"&&new TextDecoder,E8=0;try{N8.decode(P4,{stream:!0}),E8=1}catch{}var Me=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Xy(){Me.console&&typeof Me.console.log=="function"&&Me.console.log.apply(Me.console,arguments)}var Gi={log:Xy,warn:function(c){Me.console&&(typeof Me.console.warn=="function"?Me.console.warn.apply(Me.console,arguments):Xy.call(null,arguments))},error:function(c){Me.console&&(typeof Me.console.error=="function"?Me.console.error.apply(Me.console,arguments):Xy(c))}};function Wy(c,t,e){var i=new XMLHttpRequest;i.open("GET",c),i.responseType="blob",i.onload=function(){nf(i.response,t,e)},i.onerror=function(){Gi.error("could not download file")},i.send()}function NS(c){var t=new XMLHttpRequest;t.open("HEAD",c,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Y5(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(t)}}var o0,mw,nf=Me.saveAs||((typeof window>"u"?"undefined":Di(window))!=="object"||window!==Me?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(c,t,e){var i=Me.URL||Me.webkitURL,a=document.createElement("a");t=t||c.name||"download",a.download=t,a.rel="noopener",typeof c=="string"?(a.href=c,a.origin!==location.origin?NS(a.href)?Wy(c,t,e):Y5(a,a.target="_blank"):Y5(a)):(a.href=i.createObjectURL(c),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){Y5(a)},0))}:"msSaveOrOpenBlob"in navigator?function(c,t,e){if(t=t||c.name||"download",typeof c=="string")if(NS(c))Wy(c,t,e);else{var i=document.createElement("a");i.href=c,i.target="_blank",setTimeout(function(){Y5(i)})}else navigator.msSaveOrOpenBlob(function(a,r){return r===void 0?r={autoBom:!1}:Di(r)!=="object"&&(Gi.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(c,e),t)}:function(c,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof c=="string")return Wy(c,t,e);var a=c.type==="application/octet-stream",r=/constructor/i.test(Me.HTMLElement)||Me.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&r)&&(typeof FileReader>"u"?"undefined":Di(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var m=u.result;m=o?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=m:location=m,i=null},u.readAsDataURL(c)}else{var h=Me.URL||Me.webkitURL,p=h.createObjectURL(c);i?i.location=p:location.href=p,i=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function F4(c){var t;c=c||"",this.ok=!1,c.charAt(0)=="#"&&(c=c.substr(1,6)),c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[c=(c=c.replace(/ /g,"")).toLowerCase()]||c;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<e.length;i++){var a=e[i].re,r=e[i].process,o=a.exec(c);o&&(t=r(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+u+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function $y(c,t){var e=c[0],i=c[1],a=c[2],r=c[3];e=Js(e,i,a,r,t[0],7,-680876936),r=Js(r,e,i,a,t[1],12,-389564586),a=Js(a,r,e,i,t[2],17,606105819),i=Js(i,a,r,e,t[3],22,-1044525330),e=Js(e,i,a,r,t[4],7,-176418897),r=Js(r,e,i,a,t[5],12,1200080426),a=Js(a,r,e,i,t[6],17,-1473231341),i=Js(i,a,r,e,t[7],22,-45705983),e=Js(e,i,a,r,t[8],7,1770035416),r=Js(r,e,i,a,t[9],12,-1958414417),a=Js(a,r,e,i,t[10],17,-42063),i=Js(i,a,r,e,t[11],22,-1990404162),e=Js(e,i,a,r,t[12],7,1804603682),r=Js(r,e,i,a,t[13],12,-40341101),a=Js(a,r,e,i,t[14],17,-1502002290),e=ta(e,i=Js(i,a,r,e,t[15],22,1236535329),a,r,t[1],5,-165796510),r=ta(r,e,i,a,t[6],9,-1069501632),a=ta(a,r,e,i,t[11],14,643717713),i=ta(i,a,r,e,t[0],20,-373897302),e=ta(e,i,a,r,t[5],5,-701558691),r=ta(r,e,i,a,t[10],9,38016083),a=ta(a,r,e,i,t[15],14,-660478335),i=ta(i,a,r,e,t[4],20,-405537848),e=ta(e,i,a,r,t[9],5,568446438),r=ta(r,e,i,a,t[14],9,-1019803690),a=ta(a,r,e,i,t[3],14,-187363961),i=ta(i,a,r,e,t[8],20,1163531501),e=ta(e,i,a,r,t[13],5,-1444681467),r=ta(r,e,i,a,t[2],9,-51403784),a=ta(a,r,e,i,t[7],14,1735328473),e=ea(e,i=ta(i,a,r,e,t[12],20,-1926607734),a,r,t[5],4,-378558),r=ea(r,e,i,a,t[8],11,-2022574463),a=ea(a,r,e,i,t[11],16,1839030562),i=ea(i,a,r,e,t[14],23,-35309556),e=ea(e,i,a,r,t[1],4,-1530992060),r=ea(r,e,i,a,t[4],11,1272893353),a=ea(a,r,e,i,t[7],16,-155497632),i=ea(i,a,r,e,t[10],23,-1094730640),e=ea(e,i,a,r,t[13],4,681279174),r=ea(r,e,i,a,t[0],11,-358537222),a=ea(a,r,e,i,t[3],16,-722521979),i=ea(i,a,r,e,t[6],23,76029189),e=ea(e,i,a,r,t[9],4,-640364487),r=ea(r,e,i,a,t[12],11,-421815835),a=ea(a,r,e,i,t[15],16,530742520),e=ia(e,i=ea(i,a,r,e,t[2],23,-995338651),a,r,t[0],6,-198630844),r=ia(r,e,i,a,t[7],10,1126891415),a=ia(a,r,e,i,t[14],15,-1416354905),i=ia(i,a,r,e,t[5],21,-57434055),e=ia(e,i,a,r,t[12],6,1700485571),r=ia(r,e,i,a,t[3],10,-1894986606),a=ia(a,r,e,i,t[10],15,-1051523),i=ia(i,a,r,e,t[1],21,-2054922799),e=ia(e,i,a,r,t[8],6,1873313359),r=ia(r,e,i,a,t[15],10,-30611744),a=ia(a,r,e,i,t[6],15,-1560198380),i=ia(i,a,r,e,t[13],21,1309151649),e=ia(e,i,a,r,t[4],6,-145523070),r=ia(r,e,i,a,t[11],10,-1120210379),a=ia(a,r,e,i,t[2],15,718787259),i=ia(i,a,r,e,t[9],21,-343485551),c[0]=ud(e,c[0]),c[1]=ud(i,c[1]),c[2]=ud(a,c[2]),c[3]=ud(r,c[3])}function xv(c,t,e,i,a,r){return t=ud(ud(t,c),ud(i,r)),ud(t<<a|t>>>32-a,e)}function Js(c,t,e,i,a,r,o){return xv(t&e|~t&i,c,t,a,r,o)}function ta(c,t,e,i,a,r,o){return xv(t&i|e&~i,c,t,a,r,o)}function ea(c,t,e,i,a,r,o){return xv(t^e^i,c,t,a,r,o)}function ia(c,t,e,i,a,r,o){return xv(e^(t|~i),c,t,a,r,o)}function I4(c){var t,e=c.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c.length;t+=64)$y(i,L8(c.substring(t-64,t)));c=c.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<c.length;t++)a[t>>2]|=c.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for($y(i,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,$y(i,a),i}function L8(c){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=c.charCodeAt(t)+(c.charCodeAt(t+1)<<8)+(c.charCodeAt(t+2)<<16)+(c.charCodeAt(t+3)<<24);return e}o0=Me.atob.bind(Me),mw=Me.btoa.bind(Me);var ES="0123456789abcdef".split("");function C8(c){for(var t="",e=0;e<4;e++)t+=ES[c>>8*e+4&15]+ES[c>>8*e&15];return t}function T8(c){return String.fromCharCode((255&c)>>0,(65280&c)>>8,(16711680&c)>>16,(4278190080&c)>>24)}function bw(c){return I4(c).map(T8).join("")}var M8=function(c){for(var t=0;t<c.length;t++)c[t]=C8(c[t]);return c.join("")}(I4("hello"))!="5d41402abc4b2a76b9719d911017c592";function ud(c,t){if(M8){var e=(65535&c)+(65535&t);return(c>>16)+(t>>16)+(e>>16)<<16|65535&e}return c+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function vw(c,t){var e,i,a,r;if(c!==e){for(var o=(a=c,r=1+(256/c.length>>0),new Array(r+1).join(a)),u=[],h=0;h<256;h++)u[h]=h;var p=0;for(h=0;h<256;h++){var m=u[h];p=(p+m+o.charCodeAt(h))%256,u[h]=u[p],u[p]=m}e=c,i=u}else u=i;var y=t.length,A=0,w=0,L="";for(h=0;h<y;h++)w=(w+(m=u[A=(A+1)%256]))%256,u[A]=u[w],u[w]=m,o=u[(u[A]+u[w])%256],L+=String.fromCharCode(t.charCodeAt(h)^o);return L}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var LS={print:4,modify:8,copy:16,"annot-forms":32};function dg(c,t,e,i){this.v=1,this.r=2;var a=192;c.forEach(function(u){if(LS.perm!==void 0)throw new Error("Invalid permission: "+u);a+=LS[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var r=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,o),this.P=-(1+(255^a)),this.encryptionKey=bw(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=vw(this.encryptionKey,this.padding)}function fg(c){if(/[^\u0000-\u00ff]/.test(c))throw new Error("Invalid PDF Name Object: "+c+", Only accept ASCII characters.");for(var t="",e=c.length,i=0;i<e;i++){var a=c.charCodeAt(i);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=c[i]}return t}function CS(c){if(Di(c)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,a){if(a=a||!1,typeof e!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var r=Math.random().toString(35);return t[e][r]=[i,!!a],r},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var r in t[e]){var o=t[e][r];try{o[0].apply(c,i)}catch(u){Me.console&&Gi.error("jsPDF PubSub Error",u.message,u)}o[1]&&a.push(r)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ub(c){if(!(this instanceof Ub))return new Ub(c);var t="opacity,stroke-opacity".split(",");for(var e in c)c.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=c[e]);this.id="",this.objectNumber=-1}function B4(c,t){this.gState=c,this.matrix=t,this.id="",this.objectNumber=-1}function of(c,t,e,i,a){if(!(this instanceof of))return new of(c,t,e,i,a);this.type=c==="axial"?2:3,this.coords=t,this.colors=e,B4.call(this,i,a)}function xg(c,t,e,i,a){if(!(this instanceof xg))return new xg(c,t,e,i,a);this.boundingBox=c,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,B4.call(this,i,a)}function Ce(c){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],r=arguments[3],o=[],u=1,h=16,p="S",m=null;Di(c=c||{})==="object"&&(e=c.orientation,i=c.unit||i,a=c.format||a,r=c.compress||c.compressPdf||r,(m=c.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),u=typeof c.userUnit=="number"?Math.abs(c.userUnit):1,c.precision!==void 0&&(t=c.precision),c.floatPrecision!==void 0&&(h=c.floatPrecision),p=c.defaultPathOperation||"S"),o=c.filters||(r===!0?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var y=c.putOnlyUsedFonts||!1,A={},w={internal:{},__private__:{}};w.__private__.PubSub=CS;var L="1.3",N=w.__private__.getPdfVersion=function(){return L};w.__private__.setPdfVersion=function(S){L=S};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return M};var E=w.__private__.getPageFormat=function(S){return M[S]};a=a||"a4";var R={COMPAT:"compat",ADVANCED:"advanced"},P=R.COMPAT;function K(){this.saveGraphicsState(),ht(new me(se,0,0,-se,0,rl()*se).toString()+" cm"),this.setFontSize(this.getFontSize()/se),p="n",P=R.ADVANCED}function X(){this.restoreGraphicsState(),p="S",P=R.COMPAT}var st=w.__private__.combineFontStyleAndFontWeight=function(S,F){if(S=="bold"&&F=="normal"||S=="bold"&&F==400||S=="normal"&&F=="italic"||S=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(S=F==400||F==="normal"?S==="italic"?"italic":"normal":F!=700&&F!=="bold"||S!=="normal"?(F==700?"bold":F)+""+S:"bold"),S};w.advancedAPI=function(S){var F=P===R.COMPAT;return F&&K.call(this),typeof S!="function"||(S(this),F&&X.call(this)),this},w.compatAPI=function(S){var F=P===R.ADVANCED;return F&&X.call(this),typeof S!="function"||(S(this),F&&K.call(this)),this},w.isAdvancedAPI=function(){return P===R.ADVANCED};var it,W=function(S){if(P!==R.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},lt=w.roundToPrecision=w.__private__.roundToPrecision=function(S,F){var ot=t||F;if(isNaN(S)||isNaN(ot))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ot).replace(/0+$/,"")};it=w.hpf=w.__private__.hpf=typeof h=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return lt(S,h)}:h==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return lt(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return lt(S,16)};var yt=w.f2=w.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return lt(S,2)},H=w.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return lt(S,3)},J=w.scale=w.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return P===R.COMPAT?S*se:P===R.ADVANCED?S:void 0},ut=function(S){return P===R.COMPAT?rl()-S:P===R.ADVANCED?S:void 0},rt=function(S){return J(ut(S))};w.__private__.setPrecision=w.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var _t,B="00000000000000000000000000000000",z=w.__private__.getFileId=function(){return B},Q=w.__private__.setFileId=function(S){return B=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():B.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Un=new dg(m.userPermissions,m.userPassword,m.ownerPassword,B)),B};w.setFileId=function(S){return Q(S),this},w.getFileId=function(){return z()};var pt=w.__private__.convertDateToPDFDate=function(S){var F=S.getTimezoneOffset(),ot=F<0?"+":"-",mt=Math.floor(Math.abs(F/60)),Et=Math.abs(F%60),Ot=[ot,et(mt),"'",et(Et),"'"].join("");return["D:",S.getFullYear(),et(S.getMonth()+1),et(S.getDate()),et(S.getHours()),et(S.getMinutes()),et(S.getSeconds()),Ot].join("")},O=w.__private__.convertPDFDateToDate=function(S){var F=parseInt(S.substr(2,4),10),ot=parseInt(S.substr(6,2),10)-1,mt=parseInt(S.substr(8,2),10),Et=parseInt(S.substr(10,2),10),Ot=parseInt(S.substr(12,2),10),Vt=parseInt(S.substr(14,2),10);return new Date(F,ot,mt,Et,Ot,Vt,0)},ft=w.__private__.setCreationDate=function(S){var F;if(S===void 0&&(S=new Date),S instanceof Date)F=pt(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=S}return _t=F},k=w.__private__.getCreationDate=function(S){var F=_t;return S==="jsDate"&&(F=O(_t)),F};w.setCreationDate=function(S){return ft(S),this},w.getCreationDate=function(S){return k(S)};var q,et=w.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},at=w.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ct=0,gt=[],St=[],Tt=0,Yt=[],Gt=[],$t=!1,Kt=St,xe=function(){ct=0,Tt=0,St=[],gt=[],Yt=[],da=An(),fa=An()};w.__private__.setCustomOutputDestination=function(S){$t=!0,Kt=S};var jt=function(S){$t||(Kt=S)};w.__private__.resetCustomOutputDestination=function(){$t=!1,Kt=St};var ht=w.__private__.out=function(S){return S=S.toString(),Tt+=S.length+1,Kt.push(S),Kt},Se=w.__private__.write=function(S){return ht(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},fe=w.__private__.getArrayBuffer=function(S){for(var F=S.length,ot=new ArrayBuffer(F),mt=new Uint8Array(ot);F--;)mt[F]=S.charCodeAt(F);return ot},Xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return Xt};var Zt=c.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(S){return Zt=P===R.ADVANCED?S/se:S,this};var te,ee=w.__private__.getFontSize=w.getFontSize=function(){return P===R.COMPAT?Zt:Zt*se},ve=c.R2L||!1;w.__private__.setR2L=w.setR2L=function(S){return ve=S,this},w.__private__.getR2L=w.getR2L=function(){return ve};var Fe,Ge=w.__private__.setZoomMode=function(S){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))te=S;else if(isNaN(S)){if(F.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');te=S}else te=parseInt(S,10)};w.__private__.getZoomMode=function(){return te};var ze,Pe=w.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Fe=S};w.__private__.getPageMode=function(){return Fe};var ni=w.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');ze=S};w.__private__.getLayoutMode=function(){return ze},w.__private__.setDisplayMode=w.setDisplayMode=function(S,F,ot){return Ge(S),ni(F),Pe(ot),this};var pe={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(S){if(Object.keys(pe).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pe[S]},w.__private__.getDocumentProperties=function(){return pe},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(S){for(var F in pe)pe.hasOwnProperty(F)&&S[F]&&(pe[F]=S[F]);return this},w.__private__.setDocumentProperty=function(S,F){if(Object.keys(pe).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pe[S]=F};var Ke,se,cs,si,Us,li={},Li={},Hs=[],vi={},Ko={},Ki={},ca={},ua=null,en=0,Oe=[],pi=new CS(w),so=c.hotfixes||[],Cn={},Xa={},Mr=[],me=function S(F,ot,mt,Et,Ot,Vt){if(!(this instanceof S))return new S(F,ot,mt,Et,Ot,Vt);isNaN(F)&&(F=1),isNaN(ot)&&(ot=0),isNaN(mt)&&(mt=0),isNaN(Et)&&(Et=1),isNaN(Ot)&&(Ot=0),isNaN(Vt)&&(Vt=0),this._matrix=[F,ot,mt,Et,Ot,Vt]};Object.defineProperty(me.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(me.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(me.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(me.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(me.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(me.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(me.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(me.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(me.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(me.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(me.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(me.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(me.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(me.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(me.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(me.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),me.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(it).join(S)},me.prototype.multiply=function(S){var F=S.sx*this.sx+S.shy*this.shx,ot=S.sx*this.shy+S.shy*this.sy,mt=S.shx*this.sx+S.sy*this.shx,Et=S.shx*this.shy+S.sy*this.sy,Ot=S.tx*this.sx+S.ty*this.shx+this.tx,Vt=S.tx*this.shy+S.ty*this.sy+this.ty;return new me(F,ot,mt,Et,Ot,Vt)},me.prototype.decompose=function(){var S=this.sx,F=this.shy,ot=this.shx,mt=this.sy,Et=this.tx,Ot=this.ty,Vt=Math.sqrt(S*S+F*F),ne=(S/=Vt)*ot+(F/=Vt)*mt;ot-=S*ne,mt-=F*ne;var ge=Math.sqrt(ot*ot+mt*mt);return ne/=ge,S*(mt/=ge)<F*(ot/=ge)&&(S=-S,F=-F,ne=-ne,Vt=-Vt),{scale:new me(Vt,0,0,ge,0,0),translate:new me(1,0,0,1,Et,Ot),rotate:new me(S,F,-F,S,0,0),skew:new me(1,0,ne,1,0,0)}},me.prototype.toString=function(S){return this.join(" ")},me.prototype.inversed=function(){var S=this.sx,F=this.shy,ot=this.shx,mt=this.sy,Et=this.tx,Ot=this.ty,Vt=1/(S*mt-F*ot),ne=mt*Vt,ge=-F*Vt,Be=-ot*Vt,je=S*Vt;return new me(ne,ge,Be,je,-ne*Et-Be*Ot,-ge*Et-je*Ot)},me.prototype.applyToPoint=function(S){var F=S.x*this.sx+S.y*this.shx+this.tx,ot=S.x*this.shy+S.y*this.sy+this.ty;return new ju(F,ot)},me.prototype.applyToRectangle=function(S){var F=this.applyToPoint(S),ot=this.applyToPoint(new ju(S.x+S.w,S.y+S.h));return new Td(F.x,F.y,ot.x-F.x,ot.y-F.y)},me.prototype.clone=function(){var S=this.sx,F=this.shy,ot=this.shx,mt=this.sy,Et=this.tx,Ot=this.ty;return new me(S,F,ot,mt,Et,Ot)},w.Matrix=me;var Oi=w.matrixMult=function(S,F){return F.multiply(S)},Qi=new me(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=Qi;var Tn=function(S,F){if(!Ko[S]){var ot=(F instanceof of?"Sh":"P")+(Object.keys(vi).length+1).toString(10);F.id=ot,Ko[S]=ot,vi[ot]=F,pi.publish("addPattern",F)}};w.ShadingPattern=of,w.TilingPattern=xg,w.addShadingPattern=function(S,F){return W("addShadingPattern()"),Tn(S,F),this},w.beginTilingPattern=function(S){W("beginTilingPattern()"),Fu(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},w.endTilingPattern=function(S,F){W("endTilingPattern()"),F.stream=Gt[q].join(`
`),Tn(S,F),pi.publish("endTilingPattern",F),Mr.pop().restore()};var dn=w.__private__.newObject=function(){var S=An();return ha(S,!0),S},An=w.__private__.newObjectDeferred=function(){return ct++,gt[ct]=function(){return Tt},ct},ha=function(S,F){return F=typeof F=="boolean"&&F,gt[S]=Tt,F&&ht(S+" 0 obj"),S},rc=w.__private__.newAdditionalObject=function(){var S={objId:An(),content:""};return Yt.push(S),S},da=An(),fa=An(),us=w.__private__.decodeColorString=function(S){var F=S.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ot=parseFloat(F[0]);F=[ot,ot,ot,"r"]}for(var mt="#",Et=0;Et<3;Et++)mt+=("0"+Math.floor(255*parseFloat(F[Et])).toString(16)).slice(-2);return mt},hs=w.__private__.encodeColorString=function(S){var F;typeof S=="string"&&(S={ch1:S});var ot=S.ch1,mt=S.ch2,Et=S.ch3,Ot=S.ch4,Vt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ot=="string"&&ot.charAt(0)!=="#"){var ne=new F4(ot);if(ne.ok)ot=ne.toHex();else if(!/^\d*\.?\d*$/.test(ot))throw new Error('Invalid color "'+ot+'" passed to jsPDF.encodeColorString.')}if(typeof ot=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ot)&&(ot="#"+ot[1]+ot[1]+ot[2]+ot[2]+ot[3]+ot[3]),typeof ot=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ot)){var ge=parseInt(ot.substr(1),16);ot=ge>>16&255,mt=ge>>8&255,Et=255&ge}if(mt===void 0||Ot===void 0&&ot===mt&&mt===Et)if(typeof ot=="string")F=ot+" "+Vt[0];else switch(S.precision){case 2:F=yt(ot/255)+" "+Vt[0];break;case 3:default:F=H(ot/255)+" "+Vt[0]}else if(Ot===void 0||Di(Ot)==="object"){if(Ot&&!isNaN(Ot.a)&&Ot.a===0)return F=["1.","1.","1.",Vt[1]].join(" ");if(typeof ot=="string")F=[ot,mt,Et,Vt[1]].join(" ");else switch(S.precision){case 2:F=[yt(ot/255),yt(mt/255),yt(Et/255),Vt[1]].join(" ");break;default:case 3:F=[H(ot/255),H(mt/255),H(Et/255),Vt[1]].join(" ")}}else if(typeof ot=="string")F=[ot,mt,Et,Ot,Vt[2]].join(" ");else switch(S.precision){case 2:F=[yt(ot),yt(mt),yt(Et),yt(Ot),Vt[2]].join(" ");break;case 3:default:F=[H(ot),H(mt),H(Et),H(Ot),Vt[2]].join(" ")}return F},Gs=w.__private__.getFilters=function(){return o},Jn=w.__private__.putStream=function(S){var F=(S=S||{}).data||"",ot=S.filters||Gs(),mt=S.alreadyAppliedFilters||[],Et=S.addLength1||!1,Ot=F.length,Vt=S.objectId,ne=function(pn){return pn};if(m!==null&&Vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(ne=Un.encryptor(Vt,0));var ge={};ot===!0&&(ot=["FlateEncode"]);var Be=S.additionalKeyValues||[],je=(ge=Ce.API.processDataByFilters!==void 0?Ce.API.processDataByFilters(F,ot):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(mt)?mt.join(" "):mt.toString());if(ge.data.length!==0&&(Be.push({key:"Length",value:ge.data.length}),Et===!0&&Be.push({key:"Length1",value:Ot})),je.length!=0)if(je.split("/").length-1==1)Be.push({key:"Filter",value:je});else{Be.push({key:"Filter",value:"["+je+"]"});for(var ai=0;ai<Be.length;ai+=1)if(Be[ai].key==="DecodeParms"){for(var Vi=[],Zi=0;Zi<ge.reverseChain.split("/").length-1;Zi+=1)Vi.push("null");Vi.push(Be[ai].value),Be[ai].value="["+Vi.join(" ")+"]"}}ht("<<");for(var fn=0;fn<Be.length;fn++)ht("/"+Be[fn].key+" "+Be[fn].value);ht(">>"),ge.data.length!==0&&(ht("stream"),ht(ne(ge.data)),ht("endstream"))},Ci=w.__private__.putPage=function(S){var F=S.number,ot=S.data,mt=S.objId,Et=S.contentsObjId;ha(mt,!0),ht("<</Type /Page"),ht("/Parent "+S.rootDictionaryObjId+" 0 R"),ht("/Resources "+S.resourceDictionaryObjId+" 0 R"),ht("/MediaBox ["+parseFloat(it(S.mediaBox.bottomLeftX))+" "+parseFloat(it(S.mediaBox.bottomLeftY))+" "+it(S.mediaBox.topRightX)+" "+it(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&ht("/CropBox ["+it(S.cropBox.bottomLeftX)+" "+it(S.cropBox.bottomLeftY)+" "+it(S.cropBox.topRightX)+" "+it(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&ht("/BleedBox ["+it(S.bleedBox.bottomLeftX)+" "+it(S.bleedBox.bottomLeftY)+" "+it(S.bleedBox.topRightX)+" "+it(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&ht("/TrimBox ["+it(S.trimBox.bottomLeftX)+" "+it(S.trimBox.bottomLeftY)+" "+it(S.trimBox.topRightX)+" "+it(S.trimBox.topRightY)+"]"),S.artBox!==null&&ht("/ArtBox ["+it(S.artBox.bottomLeftX)+" "+it(S.artBox.bottomLeftY)+" "+it(S.artBox.topRightX)+" "+it(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&ht("/UserUnit "+S.userUnit),pi.publish("putPage",{objId:mt,pageContext:Oe[F],pageNumber:F,page:ot}),ht("/Contents "+Et+" 0 R"),ht(">>"),ht("endobj");var Ot=ot.join(`
`);return P===R.ADVANCED&&(Ot+=`
Q`),ha(Et,!0),Jn({data:Ot,filters:Gs(),objectId:Et}),ht("endobj"),mt},Qo=w.__private__.putPages=function(){var S,F,ot=[];for(S=1;S<=en;S++)Oe[S].objId=An(),Oe[S].contentsObjId=An();for(S=1;S<=en;S++)ot.push(Ci({number:S,data:Gt[S],objId:Oe[S].objId,contentsObjId:Oe[S].contentsObjId,mediaBox:Oe[S].mediaBox,cropBox:Oe[S].cropBox,bleedBox:Oe[S].bleedBox,trimBox:Oe[S].trimBox,artBox:Oe[S].artBox,userUnit:Oe[S].userUnit,rootDictionaryObjId:da,resourceDictionaryObjId:fa}));ha(da,!0),ht("<</Type /Pages");var mt="/Kids [";for(F=0;F<en;F++)mt+=ot[F]+" 0 R ";ht(mt+"]"),ht("/Count "+en),ht(">>"),ht("endobj"),pi.publish("postPutPages")},oc=function(S){pi.publish("putFont",{font:S,out:ht,newObject:dn,putStream:Jn}),S.isAlreadyPutted!==!0&&(S.objectNumber=dn(),ht("<<"),ht("/Type /Font"),ht("/BaseFont /"+fg(S.postScriptName)),ht("/Subtype /Type1"),typeof S.encoding=="string"&&ht("/Encoding /"+S.encoding),ht("/FirstChar 32"),ht("/LastChar 255"),ht(">>"),ht("endobj"))},Ma=function(){for(var S in li)li.hasOwnProperty(S)&&(y===!1||y===!0&&A.hasOwnProperty(S))&&oc(li[S])},Wa=function(S){S.objectNumber=dn();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[it(S.x),it(S.y),it(S.x+S.width),it(S.y+S.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ot=S.pages[1].join(`
`);Jn({data:ot,additionalKeyValues:F,objectId:S.objectNumber}),ht("endobj")},Eu=function(){for(var S in Cn)Cn.hasOwnProperty(S)&&Wa(Cn[S])},vd=function(S,F){var ot,mt=[],Et=1/(F-1);for(ot=0;ot<1;ot+=Et)mt.push(ot);if(mt.push(1),S[0].offset!=0){var Ot={offset:0,color:S[0].color};S.unshift(Ot)}if(S[S.length-1].offset!=1){var Vt={offset:1,color:S[S.length-1].color};S.push(Vt)}for(var ne="",ge=0,Be=0;Be<mt.length;Be++){for(ot=mt[Be];ot>S[ge+1].offset;)ge++;var je=S[ge].offset,ai=(ot-je)/(S[ge+1].offset-je),Vi=S[ge].color,Zi=S[ge+1].color;ne+=at(Math.round((1-ai)*Vi[0]+ai*Zi[0]).toString(16))+at(Math.round((1-ai)*Vi[1]+ai*Zi[1]).toString(16))+at(Math.round((1-ai)*Vi[2]+ai*Zi[2]).toString(16))}return ne.trim()},Sp=function(S,F){F||(F=21);var ot=dn(),mt=vd(S.colors,F),Et=[];Et.push({key:"FunctionType",value:"0"}),Et.push({key:"Domain",value:"[0.0 1.0]"}),Et.push({key:"Size",value:"["+F+"]"}),Et.push({key:"BitsPerSample",value:"8"}),Et.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Et.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jn({data:mt,additionalKeyValues:Et,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ot}),ht("endobj"),S.objectNumber=dn(),ht("<< /ShadingType "+S.type),ht("/ColorSpace /DeviceRGB");var Ot="/Coords ["+it(parseFloat(S.coords[0]))+" "+it(parseFloat(S.coords[1]))+" ";S.type===2?Ot+=it(parseFloat(S.coords[2]))+" "+it(parseFloat(S.coords[3])):Ot+=it(parseFloat(S.coords[2]))+" "+it(parseFloat(S.coords[3]))+" "+it(parseFloat(S.coords[4]))+" "+it(parseFloat(S.coords[5])),ht(Ot+="]"),S.matrix&&ht("/Matrix ["+S.matrix.toString()+"]"),ht("/Function "+ot+" 0 R"),ht("/Extend [true true]"),ht(">>"),ht("endobj")},Um=function(S,F){var ot=An(),mt=dn();F.push({resourcesOid:ot,objectOid:mt}),S.objectNumber=mt;var Et=[];Et.push({key:"Type",value:"/Pattern"}),Et.push({key:"PatternType",value:"1"}),Et.push({key:"PaintType",value:"1"}),Et.push({key:"TilingType",value:"1"}),Et.push({key:"BBox",value:"["+S.boundingBox.map(it).join(" ")+"]"}),Et.push({key:"XStep",value:it(S.xStep)}),Et.push({key:"YStep",value:it(S.yStep)}),Et.push({key:"Resources",value:ot+" 0 R"}),S.matrix&&Et.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Jn({data:S.stream,additionalKeyValues:Et,objectId:S.objectNumber}),ht("endobj")},ao=function(S){var F;for(F in vi)vi.hasOwnProperty(F)&&(vi[F]instanceof of?Sp(vi[F]):vi[F]instanceof xg&&Um(vi[F],S))},lc=function(S){for(var F in S.objectNumber=dn(),ht("<<"),S)switch(F){case"opacity":ht("/ca "+yt(S[F]));break;case"stroke-opacity":ht("/CA "+yt(S[F]))}ht(">>"),ht("endobj")},$a=function(){var S;for(S in Ki)Ki.hasOwnProperty(S)&&lc(Ki[S])},cc=function(){for(var S in ht("/XObject <<"),Cn)Cn.hasOwnProperty(S)&&Cn[S].objectNumber>=0&&ht("/"+S+" "+Cn[S].objectNumber+" 0 R");pi.publish("putXobjectDict"),ht(">>")},_p=function(){Un.oid=dn(),ht("<<"),ht("/Filter /Standard"),ht("/V "+Un.v),ht("/R "+Un.r),ht("/U <"+Un.toHexString(Un.U)+">"),ht("/O <"+Un.toHexString(Un.O)+">"),ht("/P "+Un.P),ht(">>"),ht("endobj")},ro=function(){for(var S in ht("/Font <<"),li)li.hasOwnProperty(S)&&(y===!1||y===!0&&A.hasOwnProperty(S))&&ht("/"+S+" "+li[S].objectNumber+" 0 R");ht(">>")},yd=function(){if(Object.keys(vi).length>0){for(var S in ht("/Shading <<"),vi)vi.hasOwnProperty(S)&&vi[S]instanceof of&&vi[S].objectNumber>=0&&ht("/"+S+" "+vi[S].objectNumber+" 0 R");pi.publish("putShadingPatternDict"),ht(">>")}},Zo=function(S){if(Object.keys(vi).length>0){for(var F in ht("/Pattern <<"),vi)vi.hasOwnProperty(F)&&vi[F]instanceof w.TilingPattern&&vi[F].objectNumber>=0&&vi[F].objectNumber<S&&ht("/"+F+" "+vi[F].objectNumber+" 0 R");pi.publish("putTilingPatternDict"),ht(">>")}},Hm=function(){if(Object.keys(Ki).length>0){var S;for(S in ht("/ExtGState <<"),Ki)Ki.hasOwnProperty(S)&&Ki[S].objectNumber>=0&&ht("/"+S+" "+Ki[S].objectNumber+" 0 R");pi.publish("putGStateDict"),ht(">>")}},nn=function(S){ha(S.resourcesOid,!0),ht("<<"),ht("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ro(),yd(),Zo(S.objectOid),Hm(),cc(),ht(">>"),ht("endobj")},Ns=function(){var S=[];Ma(),$a(),Eu(),ao(S),pi.publish("putResources"),S.forEach(nn),nn({resourcesOid:fa,objectOid:Number.MAX_SAFE_INTEGER}),pi.publish("postPutResources")},wd=function(){pi.publish("putAdditionalObjects");for(var S=0;S<Yt.length;S++){var F=Yt[S];ha(F.objId,!0),ht(F.content),ht("endobj")}pi.publish("postPutAdditionalObjects")},Np=function(S){Li[S.fontName]=Li[S.fontName]||{},Li[S.fontName][S.fontStyle]=S.id},Jo=function(S,F,ot,mt,Et){var Ot={id:"F"+(Object.keys(li).length+1).toString(10),postScriptName:S,fontName:F,fontStyle:ot,encoding:mt,isStandardFont:Et||!1,metadata:{}};return pi.publish("addFont",{font:Ot,instance:this}),li[Ot.id]=Ot,Np(Ot),Ot.id},Ep=function(S){for(var F=0,ot=Xt.length;F<ot;F++){var mt=Jo.call(this,S[F][0],S[F][1],S[F][2],Xt[F][3],!0);y===!1&&(A[mt]=!0);var Et=S[F][0].split("-");Np({id:mt,fontName:Et[0],fontStyle:Et[1]||""})}pi.publish("addFonts",{fonts:li,dictionary:Li})},Vs=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(mt){var F=mt.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var ot="Error in function "+F.split(`
`)[0].split("<")[0]+": "+mt.message;if(!Me.console)throw new Error(ot);Me.console.error(ot,mt),Me.alert&&alert(ot)}},S.foo.bar=S,S.foo},Lu=function(S,F){var ot,mt,Et,Ot,Vt,ne,ge,Be,je;if(Et=(F=F||{}).sourceEncoding||"Unicode",Vt=F.outputEncoding,(F.autoencode||Vt)&&li[Ke].metadata&&li[Ke].metadata[Et]&&li[Ke].metadata[Et].encoding&&(Ot=li[Ke].metadata[Et].encoding,!Vt&&li[Ke].encoding&&(Vt=li[Ke].encoding),!Vt&&Ot.codePages&&(Vt=Ot.codePages[0]),typeof Vt=="string"&&(Vt=Ot[Vt]),Vt)){for(ge=!1,ne=[],ot=0,mt=S.length;ot<mt;ot++)(Be=Vt[S.charCodeAt(ot)])?ne.push(String.fromCharCode(Be)):ne.push(S[ot]),ne[ot].charCodeAt(0)>>8&&(ge=!0);S=ne.join("")}for(ot=S.length;ge===void 0&&ot!==0;)S.charCodeAt(ot-1)>>8&&(ge=!0),ot--;if(!ge)return S;for(ne=F.noBOM?[]:[254,255],ot=0,mt=S.length;ot<mt;ot++){if((je=(Be=S.charCodeAt(ot))>>8)>>8)throw new Error("Character at position "+ot+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ne.push(je),ne.push(Be-(je<<8))}return String.fromCharCode.apply(void 0,ne)},Ui=w.__private__.pdfEscape=w.pdfEscape=function(S,F){return Lu(S,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uc=w.__private__.beginPage=function(S){Gt[++en]=[],Oe[en]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},oo(en),jt(Gt[q])},Ad=function(S,F){var ot,mt,Et;switch(e=F||e,typeof S=="string"&&(ot=E(S.toLowerCase()),Array.isArray(ot)&&(mt=ot[0],Et=ot[1])),Array.isArray(S)&&(mt=S[0]*se,Et=S[1]*se),isNaN(mt)&&(mt=a[0],Et=a[1]),(mt>14400||Et>14400)&&(Gi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),mt=Math.min(14400,mt),Et=Math.min(14400,Et)),a=[mt,Et],e.substr(0,1)){case"l":Et>mt&&(a=[Et,mt]);break;case"p":mt>Et&&(a=[Et,mt])}uc(a),Rp(nl),ht(Ka),Cd!==0&&ht(Cd+" J"),Ou!==0&&ht(Ou+" j"),pi.publish("addPage",{pageNumber:en})},xd=function(S){S>0&&S<=en&&(Gt.splice(S,1),Oe.splice(S,1),en--,q>en&&(q=en),this.setPage(q))},oo=function(S){S>0&&S<=en&&(q=S)},Lp=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return Gt.length-1},Sd=function(S,F,ot){var mt,Et=void 0;return ot=ot||{},S=S!==void 0?S:li[Ke].fontName,F=F!==void 0?F:li[Ke].fontStyle,mt=S.toLowerCase(),Li[mt]!==void 0&&Li[mt][F]!==void 0?Et=Li[mt][F]:Li[S]!==void 0&&Li[S][F]!==void 0?Et=Li[S][F]:ot.disableWarning===!1&&Gi.warn("Unable to look up font label for font '"+S+"', '"+F+"'. Refer to getFontList() for available fonts."),Et||ot.noFallback||(Et=Li.times[F])==null&&(Et=Li.times.normal),Et},tl=w.__private__.putInfo=function(){var S=dn(),F=function(mt){return mt};for(var ot in m!==null&&(F=Un.encryptor(S,0)),ht("<<"),ht("/Producer ("+Ui(F("jsPDF "+Ce.version))+")"),pe)pe.hasOwnProperty(ot)&&pe[ot]&&ht("/"+ot.substr(0,1).toUpperCase()+ot.substr(1)+" ("+Ui(F(pe[ot]))+")");ht("/CreationDate ("+Ui(F(_t))+")"),ht(">>"),ht("endobj")},_d=w.__private__.putCatalog=function(S){var F=(S=S||{}).rootDictionaryObjId||da;switch(dn(),ht("<<"),ht("/Type /Catalog"),ht("/Pages "+F+" 0 R"),te||(te="fullwidth"),te){case"fullwidth":ht("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ht("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ht("/OpenAction [3 0 R /Fit]");break;case"original":ht("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ot=""+te;ot.substr(ot.length-1)==="%"&&(te=parseInt(te)/100),typeof te=="number"&&ht("/OpenAction [3 0 R /XYZ null null "+yt(te)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":ht("/PageLayout /OneColumn");break;case"single":ht("/PageLayout /SinglePage");break;case"two":case"twoleft":ht("/PageLayout /TwoColumnLeft");break;case"tworight":ht("/PageLayout /TwoColumnRight")}Fe&&ht("/PageMode /"+Fe),pi.publish("putCatalog"),ht(">>"),ht("endobj")},Cp=w.__private__.putTrailer=function(){ht("trailer"),ht("<<"),ht("/Size "+(ct+1)),ht("/Root "+ct+" 0 R"),ht("/Info "+(ct-1)+" 0 R"),m!==null&&ht("/Encrypt "+Un.oid+" 0 R"),ht("/ID [ <"+B+"> <"+B+"> ]"),ht(">>")},Tp=w.__private__.putHeader=function(){ht("%PDF-"+L),ht("%")},Nd=w.__private__.putXRef=function(){var S="0000000000";ht("xref"),ht("0 "+(ct+1)),ht("0000000000 65535 f ");for(var F=1;F<=ct;F++)typeof gt[F]=="function"?ht((S+gt[F]()).slice(-10)+" 00000 n "):gt[F]!==void 0?ht((S+gt[F]).slice(-10)+" 00000 n "):ht("0000000000 00000 n ")},lo=w.__private__.buildDocument=function(){xe(),jt(St),pi.publish("buildDocument"),Tp(),Qo(),wd(),Ns(),m!==null&&_p(),tl(),_d();var S=Tt;return Nd(),Cp(),ht("startxref"),ht(""+S),ht("%%EOF"),jt(Gt[q]),St.join(`
`)},Cu=w.__private__.getBlob=function(S){return new Blob([fe(S)],{type:"application/pdf"})},co=w.output=w.__private__.output=Vs(function(S,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",S){case void 0:return lo();case"save":w.save(F.filename);break;case"arraybuffer":return fe(lo());case"blob":return Cu(lo());case"bloburi":case"bloburl":if(Me.URL!==void 0&&typeof Me.URL.createObjectURL=="function")return Me.URL&&Me.URL.createObjectURL(Cu(lo()))||void 0;Gi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ot="",mt=lo();try{ot=mw(mt)}catch{ot=mw(unescape(encodeURIComponent(mt)))}return"data:application/pdf;filename="+F.filename+";base64,"+ot;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Me)==="[object Window]"){var Et="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(Et=F.pdfObjectUrl,Ot="");var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Et+'"'+Ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",ne=Me.open();return ne!==null&&ne.document.write(Vt),ne}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Me)==="[object Window]"){var ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Be=Me.open();if(Be!==null){Be.document.write(ge);var je=this;Be.document.documentElement.querySelector("#pdfViewer").onload=function(){Be.document.title=F.filename,Be.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(je.output("bloburl"))}}return Be}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Me)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ai='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',Vi=Me.open();if(Vi!==null&&(Vi.document.write(ai),Vi.document.title=F.filename),Vi||typeof safari>"u")return Vi;break;case"datauri":case"dataurl":return Me.document.location.href=this.output("datauristring",F);default:return null}}),Tu=function(S){return Array.isArray(so)===!0&&so.indexOf(S)>-1};switch(i){case"pt":se=1;break;case"mm":se=72/25.4;break;case"cm":se=72/2.54;break;case"in":se=72;break;case"px":se=Tu("px_scaling")==1?.75:96/72;break;case"pc":case"em":se=12;break;case"ex":se=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);se=i}var Un=null;ft(),Q();var el=function(S){return m!==null?Un.encryptor(S,0):function(F){return F}},uo=w.__private__.getPageInfo=w.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Oe[S].objId,pageNumber:S,pageContext:Oe[S]}},ke=w.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in Oe)if(Oe[F].objId===S)break;return uo(F)},Ed=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Oe[q].objId,pageNumber:q,pageContext:Oe[q]}};w.addPage=function(){return Ad.apply(this,arguments),this},w.setPage=function(){return oo.apply(this,arguments),jt.call(this,Gt[q]),this},w.insertPage=function(S){return this.addPage(),this.movePage(q,S),this},w.movePage=function(S,F){var ot,mt;if(S>F){ot=Gt[S],mt=Oe[S];for(var Et=S;Et>F;Et--)Gt[Et]=Gt[Et-1],Oe[Et]=Oe[Et-1];Gt[F]=ot,Oe[F]=mt,this.setPage(F)}else if(S<F){ot=Gt[S],mt=Oe[S];for(var Ot=S;Ot<F;Ot++)Gt[Ot]=Gt[Ot+1],Oe[Ot]=Oe[Ot+1];Gt[F]=ot,Oe[F]=mt,this.setPage(F)}return this},w.deletePage=function(){return xd.apply(this,arguments),this},w.__private__.text=w.text=function(S,F,ot,mt,Et){var Ot,Vt,ne,ge,Be,je,ai,Vi,Zi,fn=(mt=mt||{}).scope||this;if(typeof S=="number"&&typeof F=="number"&&(typeof ot=="string"||Array.isArray(ot))){var pn=ot;ot=F,F=S,S=pn}if(arguments[3]instanceof me?(W("The transform parameter of text() with a Matrix value"),Zi=Et):(ne=arguments[4],ge=arguments[5],Di(ai=arguments[3])==="object"&&ai!==null||(typeof ne=="string"&&(ge=ne,ne=null),typeof ai=="string"&&(ge=ai,ai=null),typeof ai=="number"&&(ne=ai,ai=null),mt={flags:ai,angle:ne,align:ge})),isNaN(F)||isNaN(ot)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return fn;var Hn="",Qa=!1,ma=typeof mt.lineHeightFactor=="number"?mt.lineHeightFactor:pa,Za=fn.internal.scaleFactor;function Rd(Qe){return Qe=Qe.split("	").join(Array(mt.TabLen||9).join(" ")),Ui(Qe,ai)}function fo(Qe){for(var Ze,ji=Qe.concat(),gn=[],Pa=ji.length;Pa--;)typeof(Ze=ji.shift())=="string"?gn.push(Ze):Array.isArray(Qe)&&(Ze.length===1||Ze[1]===void 0&&Ze[2]===void 0)?gn.push(Ze[0]):gn.push([Ze[0],Ze[1],Ze[2]]);return gn}function po(Qe,Ze){var ji;if(typeof Qe=="string")ji=Ze(Qe)[0];else if(Array.isArray(Qe)){for(var gn,Pa,ml=Qe.concat(),bl=[],bo=ml.length;bo--;)typeof(gn=ml.shift())=="string"?bl.push(Ze(gn)[0]):Array.isArray(gn)&&typeof gn[0]=="string"&&(Pa=Ze(gn[0],gn[1],gn[2]),bl.push([Pa[0],Pa[1],Pa[2]]));ji=bl}return ji}var zu=!1,ol=!0;if(typeof S=="string")zu=!0;else if(Array.isArray(S)){var qu=S.concat();Vt=[];for(var pc,Mn=qu.length;Mn--;)(typeof(pc=qu.shift())!="string"||Array.isArray(pc)&&typeof pc[0]!="string")&&(ol=!1);zu=ol}if(zu===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var ll=Zt/fn.internal.scaleFactor,gc=ll*(ma-1);switch(mt.baseline){case"bottom":ot-=gc;break;case"top":ot+=ll-gc;break;case"hanging":ot+=ll-2*gc;break;case"middle":ot+=ll/2-gc}if((je=mt.maxWidth||0)>0&&(typeof S=="string"?S=fn.splitTextToSize(S,je):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Qe,Ze){return Qe.concat(fn.splitTextToSize(Ze,je))},[]))),Ot={text:S,x:F,y:ot,options:mt,mutex:{pdfEscape:Ui,activeFontKey:Ke,fonts:li,activeFontSize:Zt}},pi.publish("preProcessText",Ot),S=Ot.text,ne=(mt=Ot.options).angle,!(Zi instanceof me)&&ne&&typeof ne=="number"){ne*=Math.PI/180,mt.rotationDirection===0&&(ne=-ne),P===R.ADVANCED&&(ne=-ne);var mc=Math.cos(ne),Uu=Math.sin(ne);Zi=new me(mc,Uu,-Uu,mc,0,0)}else ne&&ne instanceof me&&(Zi=ne);P!==R.ADVANCED||Zi||(Zi=Qi),(Be=mt.charSpace||Pu)!==void 0&&(Hn+=it(J(Be))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Vi=mt.horizontalScale)!==void 0&&(Hn+=it(100*Vi)+` Tz
`),mt.lang;var Xs=-1,Wm=mt.renderingMode!==void 0?mt.renderingMode:mt.stroke,Dd=fn.internal.getCurrentPageInfo().pageContext;switch(Wm){case 0:case!1:case"fill":Xs=0;break;case 1:case!0:case"stroke":Xs=1;break;case 2:case"fillThenStroke":Xs=2;break;case 3:case"invisible":Xs=3;break;case 4:case"fillAndAddForClipping":Xs=4;break;case 5:case"strokeAndAddPathForClipping":Xs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xs=6;break;case 7:case"addToPathForClipping":Xs=7}var Pp=Dd.usedRenderingMode!==void 0?Dd.usedRenderingMode:-1;Xs!==-1?Hn+=Xs+` Tr
`:Pp!==-1&&(Hn+=`0 Tr
`),Xs!==-1&&(Dd.usedRenderingMode=Xs),ge=mt.align||"left";var Da,Gn=Zt*ma,cl=fn.internal.pageSize.getWidth(),Pd=li[Ke];Be=mt.charSpace||Pu,je=mt.maxWidth||0,ai=Object.assign({autoencode:!0,noBOM:!0},mt.flags);var go=[],ul=function(Qe){return fn.getStringUnitWidth(Qe,{font:Pd,charSpace:Be,fontSize:Zt,doKerning:!1})*Zt/Za};if(Object.prototype.toString.call(S)==="[object Array]"){var Es;Vt=fo(S),ge!=="left"&&(Da=Vt.map(ul));var ts,hl=0;if(ge==="right"){F-=Da[0],S=[],Mn=Vt.length;for(var Ws=0;Ws<Mn;Ws++)Ws===0?(ts=ga(F),Es=Pr(ot)):(ts=J(hl-Da[Ws]),Es=-Gn),S.push([Vt[Ws],ts,Es]),hl=Da[Ws]}else if(ge==="center"){F-=Da[0]/2,S=[],Mn=Vt.length;for(var Ja=0;Ja<Mn;Ja++)Ja===0?(ts=ga(F),Es=Pr(ot)):(ts=J((hl-Da[Ja])/2),Es=-Gn),S.push([Vt[Ja],ts,Es]),hl=Da[Ja]}else if(ge==="left"){S=[],Mn=Vt.length;for(var Or=0;Or<Mn;Or++)S.push(Vt[Or])}else if(ge==="justify"&&Pd.encoding==="Identity-H"){S=[],Mn=Vt.length,je=je!==0?je:cl;for(var tr=0,sn=0;sn<Mn;sn++)if(Es=sn===0?Pr(ot):-Gn,ts=sn===0?ga(F):tr,sn<Mn-1){var er=J((je-Da[sn])/(Vt[sn].split(" ").length-1)),xn=Vt[sn].split(" ");S.push([xn[0]+" ",ts,Es]),tr=0;for(var $s=1;$s<xn.length;$s++){var bc=(ul(xn[$s-1]+" "+xn[$s])-ul(xn[$s]))*Za+er;$s==xn.length-1?S.push([xn[$s],bc,0]):S.push([xn[$s]+" ",bc,0]),tr-=bc}}else S.push([Vt[sn],ts,Es]);S.push(["",tr,0])}else{if(ge!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Mn=Vt.length,je=je!==0?je:cl,sn=0;sn<Mn;sn++)Es=sn===0?Pr(ot):-Gn,ts=sn===0?ga(F):0,sn<Mn-1?go.push(it(J((je-Da[sn])/(Vt[sn].split(" ").length-1)))):go.push(0),S.push([Vt[sn],ts,Es])}}var jr=typeof mt.R2L=="boolean"?mt.R2L:ve;jr===!0&&(S=po(S,function(Qe,Ze,ji){return[Qe.split("").reverse().join(""),Ze,ji]})),Ot={text:S,x:F,y:ot,options:mt,mutex:{pdfEscape:Ui,activeFontKey:Ke,fonts:li,activeFontSize:Zt}},pi.publish("postProcessText",Ot),S=Ot.text,Qa=Ot.mutex.isHex||!1;var Hu=li[Ke].encoding;Hu!=="WinAnsiEncoding"&&Hu!=="StandardEncoding"||(S=po(S,function(Qe,Ze,ji){return[Rd(Qe),Ze,ji]})),Vt=fo(S),S=[];for(var dl,fl,pl,vc=0,Gu=1,gl=Array.isArray(Vt[0])?Gu:vc,mo="",yc=function(Qe,Ze,ji){var gn="";return ji instanceof me?(ji=typeof mt.angle=="number"?Oi(ji,new me(1,0,0,1,Qe,Ze)):Oi(new me(1,0,0,1,Qe,Ze),ji),P===R.ADVANCED&&(ji=Oi(new me(1,0,0,-1,0,0),ji)),gn=ji.join(" ")+` Tm
`):gn=it(Qe)+" "+it(Ze)+` Td
`,gn},an=0;an<Vt.length;an++){switch(mo="",gl){case Gu:pl=(Qa?"<":"(")+Vt[an][0]+(Qa?">":")"),dl=parseFloat(Vt[an][1]),fl=parseFloat(Vt[an][2]);break;case vc:pl=(Qa?"<":"(")+Vt[an]+(Qa?">":")"),dl=ga(F),fl=Pr(ot)}go!==void 0&&go[an]!==void 0&&(mo=go[an]+` Tw
`),an===0?S.push(mo+yc(dl,fl,Zi)+pl):gl===vc?S.push(mo+pl):gl===Gu&&S.push(mo+yc(dl,fl,Zi)+pl)}S=gl===vc?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var ba=`BT
/`;return ba+=Ke+" "+Zt+` Tf
`,ba+=it(Zt*ma)+` TL
`,ba+=dc+`
`,ba+=Hn,ba+=S,ht(ba+="ET"),A[Ke]=!0,fn};var Mp=w.__private__.clip=w.clip=function(S){return ht(S==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return Mp("evenodd")},w.__private__.discardPath=w.discardPath=function(){return ht("n"),this};var Ys=w.__private__.isValidStyle=function(S){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(F=!0),F};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(S){return Ys(S)&&(p=S),this};var ka=w.__private__.getStyle=w.getStyle=function(S){var F=p;switch(S){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=S}return F},Mu=w.close=function(){return ht("h"),this};w.stroke=function(){return ht("S"),this},w.fill=function(S){return kr("f",S),this},w.fillEvenOdd=function(S){return kr("f*",S),this},w.fillStroke=function(S){return kr("B",S),this},w.fillStrokeEvenOdd=function(S){return kr("B*",S),this};var kr=function(S,F){Di(F)==="object"?ku(F,S):ht(S)},Ra=function(S){S===null||P===R.ADVANCED&&S===void 0||(S=ka(S),ht(S))};function Ld(S,F,ot,mt,Et){var Ot=new xg(F||this.boundingBox,ot||this.xStep,mt||this.yStep,this.gState,Et||this.matrix);Ot.stream=this.stream;var Vt=S+"$$"+this.cloneIndex+++"$$";return Tn(Vt,Ot),Ot}var ku=function(S,F){var ot=Ko[S.key],mt=vi[ot];if(mt instanceof of)ht("q"),ht(kp(F)),mt.gState&&w.setGState(mt.gState),ht(S.matrix.toString()+" cm"),ht("/"+ot+" sh"),ht("Q");else if(mt instanceof xg){var Et=new me(1,0,0,-1,0,rl());S.matrix&&(Et=Et.multiply(S.matrix||Qi),ot=Ld.call(mt,S.key,S.boundingBox,S.xStep,S.yStep,Et).id),ht("q"),ht("/Pattern cs"),ht("/"+ot+" scn"),mt.gState&&w.setGState(mt.gState),ht(F),ht("Q")}},kp=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},il=w.moveTo=function(S,F){return ht(it(J(S))+" "+it(rt(F))+" m"),this},Rr=w.lineTo=function(S,F){return ht(it(J(S))+" "+it(rt(F))+" l"),this},ho=w.curveTo=function(S,F,ot,mt,Et,Ot){return ht([it(J(S)),it(rt(F)),it(J(ot)),it(rt(mt)),it(J(Et)),it(rt(Ot)),"c"].join(" ")),this};w.__private__.line=w.line=function(S,F,ot,mt,Et){if(isNaN(S)||isNaN(F)||isNaN(ot)||isNaN(mt)||!Ys(Et))throw new Error("Invalid arguments passed to jsPDF.line");return P===R.COMPAT?this.lines([[ot-S,mt-F]],S,F,[1,1],Et||"S"):this.lines([[ot-S,mt-F]],S,F,[1,1]).stroke()},w.__private__.lines=w.lines=function(S,F,ot,mt,Et,Ot){var Vt,ne,ge,Be,je,ai,Vi,Zi,fn,pn,Hn,Qa;if(typeof S=="number"&&(Qa=ot,ot=F,F=S,S=Qa),mt=mt||[1,1],Ot=Ot||!1,isNaN(F)||isNaN(ot)||!Array.isArray(S)||!Array.isArray(mt)||!Ys(Et)||typeof Ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(il(F,ot),Vt=mt[0],ne=mt[1],Be=S.length,pn=F,Hn=ot,ge=0;ge<Be;ge++)(je=S[ge]).length===2?(pn=je[0]*Vt+pn,Hn=je[1]*ne+Hn,Rr(pn,Hn)):(ai=je[0]*Vt+pn,Vi=je[1]*ne+Hn,Zi=je[2]*Vt+pn,fn=je[3]*ne+Hn,pn=je[4]*Vt+pn,Hn=je[5]*ne+Hn,ho(ai,Vi,Zi,fn,pn,Hn));return Ot&&Mu(),Ra(Et),this},w.path=function(S){for(var F=0;F<S.length;F++){var ot=S[F],mt=ot.c;switch(ot.op){case"m":il(mt[0],mt[1]);break;case"l":Rr(mt[0],mt[1]);break;case"c":ho.apply(this,mt);break;case"h":Mu()}}return this},w.__private__.rect=w.rect=function(S,F,ot,mt,Et){if(isNaN(S)||isNaN(F)||isNaN(ot)||isNaN(mt)||!Ys(Et))throw new Error("Invalid arguments passed to jsPDF.rect");return P===R.COMPAT&&(mt=-mt),ht([it(J(S)),it(rt(F)),it(J(ot)),it(J(mt)),"re"].join(" ")),Ra(Et),this},w.__private__.triangle=w.triangle=function(S,F,ot,mt,Et,Ot,Vt){if(isNaN(S)||isNaN(F)||isNaN(ot)||isNaN(mt)||isNaN(Et)||isNaN(Ot)||!Ys(Vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ot-S,mt-F],[Et-ot,Ot-mt],[S-Et,F-Ot]],S,F,[1,1],Vt,!0),this},w.__private__.roundedRect=w.roundedRect=function(S,F,ot,mt,Et,Ot,Vt){if(isNaN(S)||isNaN(F)||isNaN(ot)||isNaN(mt)||isNaN(Et)||isNaN(Ot)||!Ys(Vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ne=4/3*(Math.SQRT2-1);return Et=Math.min(Et,.5*ot),Ot=Math.min(Ot,.5*mt),this.lines([[ot-2*Et,0],[Et*ne,0,Et,Ot-Ot*ne,Et,Ot],[0,mt-2*Ot],[0,Ot*ne,-Et*ne,Ot,-Et,Ot],[2*Et-ot,0],[-Et*ne,0,-Et,-Ot*ne,-Et,-Ot],[0,2*Ot-mt],[0,-Ot*ne,Et*ne,-Ot,Et,-Ot]],S+Et,F,[1,1],Vt,!0),this},w.__private__.ellipse=w.ellipse=function(S,F,ot,mt,Et){if(isNaN(S)||isNaN(F)||isNaN(ot)||isNaN(mt)||!Ys(Et))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ot=4/3*(Math.SQRT2-1)*ot,Vt=4/3*(Math.SQRT2-1)*mt;return il(S+ot,F),ho(S+ot,F-Vt,S+Ot,F-mt,S,F-mt),ho(S-Ot,F-mt,S-ot,F-Vt,S-ot,F),ho(S-ot,F+Vt,S-Ot,F+mt,S,F+mt),ho(S+Ot,F+mt,S+ot,F+Vt,S+ot,F),Ra(Et),this},w.__private__.circle=w.circle=function(S,F,ot,mt){if(isNaN(S)||isNaN(F)||isNaN(ot)||!Ys(mt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,F,ot,ot,mt)},w.setFont=function(S,F,ot){return ot&&(F=st(F,ot)),Ke=Sd(S,F,{disableWarning:!1}),this};var ds=w.__private__.getFont=w.getFont=function(){return li[Sd.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var S,F,ot={};for(S in Li)if(Li.hasOwnProperty(S))for(F in ot[S]=[],Li[S])Li[S].hasOwnProperty(F)&&ot[S].push(F);return ot},w.addFont=function(S,F,ot,mt,Et){var Ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ot.indexOf(arguments[3])!==-1?Et=arguments[3]:arguments[3]&&Ot.indexOf(arguments[3])==-1&&(ot=st(ot,mt)),Et=Et||"Identity-H",Jo.call(this,S,F,ot,Et)};var pa,nl=c.lineWidth||.200025,Dr=w.__private__.getLineWidth=w.getLineWidth=function(){return nl},Rp=w.__private__.setLineWidth=w.setLineWidth=function(S){return nl=S,ht(it(J(S))+" w"),this};w.__private__.setLineDash=Ce.API.setLineDash=Ce.API.setLineDashPattern=function(S,F){if(S=S||[],F=F||0,isNaN(F)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ot){return it(J(ot))}).join(" "),F=it(J(F)),ht("["+S+"] "+F+" d"),this};var Ru=w.__private__.getLineHeight=w.getLineHeight=function(){return Zt*pa};w.__private__.getLineHeight=w.getLineHeight=function(){return Zt*pa};var Du=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(pa=S),this},sl=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return pa};Du(c.lineHeight);var ga=w.__private__.getHorizontalCoordinate=function(S){return J(S)},Pr=w.__private__.getVerticalCoordinate=function(S){return P===R.ADVANCED?S:Oe[q].mediaBox.topRightY-Oe[q].mediaBox.bottomLeftY-J(S)},Gm=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(S){return it(ga(S))},al=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(S){return it(Pr(S))},Ka=c.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return us(Ka)},w.__private__.setStrokeColor=w.setDrawColor=function(S,F,ot,mt){return Ka=hs({ch1:S,ch2:F,ch3:ot,ch4:mt,pdfColorType:"draw",precision:2}),ht(Ka),this};var hc=c.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return us(hc)},w.__private__.setFillColor=w.setFillColor=function(S,F,ot,mt){return hc=hs({ch1:S,ch2:F,ch3:ot,ch4:mt,pdfColorType:"fill",precision:2}),ht(hc),this};var dc=c.textColor||"0 g",Vm=w.__private__.getTextColor=w.getTextColor=function(){return us(dc)};w.__private__.setTextColor=w.setTextColor=function(S,F,ot,mt){return dc=hs({ch1:S,ch2:F,ch3:ot,ch4:mt,pdfColorType:"text",precision:3}),this};var Pu=c.charSpace,Ym=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Pu||0)};w.__private__.setCharSpace=w.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Pu=S,this};var Cd=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(S){var F=w.CapJoinStyles[S];if(F===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cd=F,ht(F+" J"),this};var Ou=0;w.__private__.setLineJoin=w.setLineJoin=function(S){var F=w.CapJoinStyles[S];if(F===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ou=F,ht(F+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ht(it(J(S))+" M"),this},w.GState=Ub,w.setGState=function(S){(S=typeof S=="string"?Ki[ca[S]]:Dp(null,S)).equals(ua)||(ht("/"+S.id+" gs"),ua=S)};var Dp=function(S,F){if(!S||!ca[S]){var ot=!1;for(var mt in Ki)if(Ki.hasOwnProperty(mt)&&Ki[mt].equals(F)){ot=!0;break}if(ot)F=Ki[mt];else{var Et="GS"+(Object.keys(Ki).length+1).toString(10);Ki[Et]=F,F.id=Et}return S&&(ca[S]=F.id),pi.publish("addGState",F),F}};w.addGState=function(S,F){return Dp(S,F),this},w.saveGraphicsState=function(){return ht("q"),Hs.push({key:Ke,size:Zt,color:dc}),this},w.restoreGraphicsState=function(){ht("Q");var S=Hs.pop();return Ke=S.key,Zt=S.size,dc=S.color,ua=null,this},w.setCurrentTransformationMatrix=function(S){return ht(S.toString()+" cm"),this},w.comment=function(S){return ht("#"+S),this};var ju=function(S,F){var ot=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ot},set:function(Ot){isNaN(Ot)||(ot=parseFloat(Ot))}});var mt=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return mt},set:function(Ot){isNaN(Ot)||(mt=parseFloat(Ot))}});var Et="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Et},set:function(Ot){Et=Ot.toString()}}),this},Td=function(S,F,ot,mt){ju.call(this,S,F),this.type="rect";var Et=ot||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Et},set:function(Vt){isNaN(Vt)||(Et=parseFloat(Vt))}});var Ot=mt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ot},set:function(Vt){isNaN(Vt)||(Ot=parseFloat(Vt))}}),this},Md=function(){this.page=en,this.currentPage=q,this.pages=Gt.slice(0),this.pagesContext=Oe.slice(0),this.x=cs,this.y=si,this.matrix=Us,this.width=fc(q),this.height=rl(q),this.outputDestination=Kt,this.id="",this.objectNumber=-1};Md.prototype.restore=function(){en=this.page,q=this.currentPage,Oe=this.pagesContext,Gt=this.pages,cs=this.x,si=this.y,Us=this.matrix,Bu(q,this.width),kd(q,this.height),Kt=this.outputDestination};var Fu=function(S,F,ot,mt,Et){Mr.push(new Md),en=q=0,Gt=[],cs=S,si=F,Us=Et,uc([ot,mt])},Xm=function(S){if(Xa[S])Mr.pop().restore();else{var F=new Md,ot="Xo"+(Object.keys(Cn).length+1).toString(10);F.id=ot,Xa[S]=ot,Cn[ot]=F,pi.publish("addFormObject",F),Mr.pop().restore()}};for(var Iu in w.beginFormObject=function(S,F,ot,mt,Et){return Fu(S,F,ot,mt,Et),this},w.endFormObject=function(S){return Xm(S),this},w.doFormObject=function(S,F){var ot=Cn[Xa[S]];return ht("q"),ht(F.toString()+" cm"),ht("/"+ot.id+" Do"),ht("Q"),this},w.getFormObject=function(S){var F=Cn[Xa[S]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},w.save=function(S,F){return S=S||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(nf(Cu(lo()),S),typeof nf.unload=="function"&&Me.setTimeout&&setTimeout(nf.unload,911),this):new Promise(function(ot,mt){try{var Et=nf(Cu(lo()),S);typeof nf.unload=="function"&&Me.setTimeout&&setTimeout(nf.unload,911),ot(Et)}catch(Ot){mt(Ot.message)}})},Ce.API)Ce.API.hasOwnProperty(Iu)&&(Iu==="events"&&Ce.API.events.length?function(S,F){var ot,mt,Et;for(Et=F.length-1;Et!==-1;Et--)ot=F[Et][0],mt=F[Et][1],S.subscribe.apply(S,[ot].concat(typeof mt=="function"?[mt]:mt))}(pi,Ce.API.events):w[Iu]=Ce.API[Iu]);var fc=w.getPageWidth=function(S){return(Oe[S=S||q].mediaBox.topRightX-Oe[S].mediaBox.bottomLeftX)/se},Bu=w.setPageWidth=function(S,F){Oe[S].mediaBox.topRightX=F*se+Oe[S].mediaBox.bottomLeftX},rl=w.getPageHeight=function(S){return(Oe[S=S||q].mediaBox.topRightY-Oe[S].mediaBox.bottomLeftY)/se},kd=w.setPageHeight=function(S,F){Oe[S].mediaBox.topRightY=F*se+Oe[S].mediaBox.bottomLeftY};return w.internal={pdfEscape:Ui,getStyle:ka,getFont:ds,getFontSize:ee,getCharSpace:Ym,getTextColor:Vm,getLineHeight:Ru,getLineHeightFactor:sl,getLineWidth:Dr,write:Se,getHorizontalCoordinate:ga,getVerticalCoordinate:Pr,getCoordinateString:Gm,getVerticalCoordinateString:al,collections:{},newObject:dn,newAdditionalObject:rc,newObjectDeferred:An,newObjectDeferredBegin:ha,getFilters:Gs,putStream:Jn,events:pi,scaleFactor:se,pageSize:{getWidth:function(){return fc(q)},setWidth:function(S){Bu(q,S)},getHeight:function(){return rl(q)},setHeight:function(S){kd(q,S)}},encryptionOptions:m,encryption:Un,getEncryptor:el,output:co,getNumberOfPages:Lp,pages:Gt,out:ht,f2:yt,f3:H,getPageInfo:uo,getPageInfoByObjId:ke,getCurrentPageInfo:Ed,getPDFVersion:N,Point:ju,Rectangle:Td,Matrix:me,hasHotfix:Tu},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return fc(q)},set:function(S){Bu(q,S)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return rl(q)},set:function(S){kd(q,S)},enumerable:!0,configurable:!0}),Ep.call(w,Xt),Ke="F1",Ad(a,e),pi.publish("initialized"),w}dg.prototype.lsbFirstWord=function(c){return String.fromCharCode(c>>0&255,c>>8&255,c>>16&255,c>>24&255)},dg.prototype.toHexString=function(c){return c.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dg.prototype.hexToBytes=function(c){for(var t=[],e=0;e<c.length;e+=2)t.push(String.fromCharCode(parseInt(c.substr(e,2),16)));return t.join("")},dg.prototype.processOwnerPassword=function(c,t){return vw(bw(t).substr(0,5),c)},dg.prototype.encryptor=function(c,t){var e=bw(this.encryptionKey+String.fromCharCode(255&c,c>>8&255,c>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return vw(e,i)}},Ub.prototype.equals=function(c){var t,e="id,objectNumber,equals";if(!c||Di(c)!==Di(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!c.hasOwnProperty(t)||this[t]!==c[t])return!1;i++}for(t in c)c.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return i===0},Ce.API={events:[]},Ce.version="3.0.1";var Ln=Ce.API,GA=1,wp=function(c){return c.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ug=function(c){return c.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qe=function(c){return c.toFixed(2)},vh=function(c){return c.toFixed(5)};Ln.__acroform__={};var Ya=function(c,t){c.prototype=Object.create(t.prototype),c.prototype.constructor=c},TS=function(c){return c*GA},Rl=function(c){var t=new q4,e=de.internal.getHeight(c)||0,i=de.internal.getWidth(c)||0;return t.BBox=[0,0,Number(qe(i)),Number(qe(e))],t},k8=Ln.__acroform__.setBit=function(c,t){if(c=c||0,t=t||0,isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return c|=1<<t},R8=Ln.__acroform__.clearBit=function(c,t){if(c=c||0,t=t||0,isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return c&=~(1<<t)},D8=Ln.__acroform__.getBit=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(c&1<<t)==0?0:1},In=Ln.__acroform__.getBitForPdf=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return D8(c,t-1)},Bn=Ln.__acroform__.setBitForPdf=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return k8(c,t-1)},zn=Ln.__acroform__.clearBitForPdf=function(c,t){if(isNaN(c)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return R8(c,t-1)},P8=Ln.__acroform__.calculateCoordinates=function(c,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,a=c[0],r=c[1],o=c[2],u=c[3],h={};return h.lowerLeft_X=e(a)||0,h.lowerLeft_Y=i(r+u)||0,h.upperRight_X=e(a+o)||0,h.upperRight_Y=i(r)||0,[Number(qe(h.lowerLeft_X)),Number(qe(h.lowerLeft_Y)),Number(qe(h.upperRight_X)),Number(qe(h.upperRight_Y))]},O8=function(c){if(c.appearanceStreamContent)return c.appearanceStreamContent;if(c.V||c.DV){var t=[],e=c._V||c.DV,i=yw(c,e),a=c.scope.internal.getFont(c.fontName,c.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(c.scope.__private__.encodeColorString(c.color)),t.push("/"+a+" "+qe(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var r=Rl(c);return r.scope=c.scope,r.stream=t.join(`
`),r}},yw=function(c,t){var e=c.fontSize===0?c.maxFontSize:c.fontSize,i={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=c.multiline?a.map(function(H){return H.split(`
`)}):a.map(function(H){return[H]});var r=e,o=de.internal.getHeight(c)||0;o=o<0?-o:o;var u=de.internal.getWidth(c)||0;u=u<0?-u:u;var h=function(H,J,ut){if(H+1<a.length){var rt=J+" "+a[H+1][0];return X5(rt,c,ut).width<=u-4}return!1};r++;t:for(;r>0;){t="",r--;var p,m,y=X5("3",c,r).height,A=c.multiline?o-r:(o-y)/2,w=A+=2,L=0,N=0,M=0;if(r<=0){t=`(...) Tj
`,t+="% Width of Text: "+X5(t,c,r=12).width+", FieldWidth:"+u+`
`;break}for(var E="",R=0,P=0;P<a.length;P++)if(a.hasOwnProperty(P)){var K=!1;if(a[P].length!==1&&M!==a[P].length-1){if((y+2)*(R+2)+2>o)continue t;E+=a[P][M],K=!0,N=P,P--}else{E=(E+=a[P][M]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var X=parseInt(P),st=h(X,E,r),it=P>=a.length-1;if(st&&!it){E+=" ",M=0;continue}if(st||it){if(it)N=X;else if(c.multiline&&(y+2)*(R+2)+2>o)continue t}else{if(!c.multiline||(y+2)*(R+2)+2>o)continue t;N=X}}for(var W="",lt=L;lt<=N;lt++){var yt=a[lt];if(c.multiline){if(lt===N){W+=yt[M]+" ",M=(M+1)%yt.length;continue}if(lt===L){W+=yt[yt.length-1]+" ";continue}}W+=yt[0]+" "}switch(W=W.substr(W.length-1)==" "?W.substr(0,W.length-1):W,m=X5(W,c,r).width,c.textAlign){case"right":p=u-m-2;break;case"center":p=(u-m)/2;break;case"left":default:p=2}t+=qe(p)+" "+qe(w)+` Td
`,t+="("+wp(W)+`) Tj
`,t+=-qe(p)+` 0 Td
`,w=-(r+2),m=0,L=K?N:N+1,R++,E=""}break}return i.text=t,i.fontSize=r,i},X5=function(c,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(c,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},j8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},F8=function(c,t){var e={type:"reference",object:c};t.internal.getPageInfo(c.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})===void 0&&t.internal.getPageInfo(c.page).pageContext.annotations.push(e)},I8=function(c,t){for(var e in c)if(c.hasOwnProperty(e)){var i=e,a=c[e];t.internal.newObjectDeferredBegin(a.objId,!0),Di(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete c[i]}},B8=function(c,t){if(t.scope=c,c.internal!==void 0&&(c.internal.acroformPlugin===void 0||c.internal.acroformPlugin.isInitialized===!1)){if(Wo.FieldNum=0,c.internal.acroformPlugin=JSON.parse(JSON.stringify(j8)),c.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");GA=c.internal.scaleFactor,c.internal.acroformPlugin.acroFormDictionaryRoot=new U4,c.internal.acroformPlugin.acroFormDictionaryRoot.scope=c,c.internal.acroformPlugin.acroFormDictionaryRoot._eventID=c.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(c)}),c.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var r=i[a];r.objId=void 0,r.hasAnnotation&&F8(r,e)}})(c)}),c.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(c)}),c.internal.events.subscribe("postPutPages",function(e){(function(i,a){var r=!i;for(var o in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var u=i[o],h=[],p=u.Rect;if(u.Rect&&(u.Rect=P8(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=de.createDefaultAppearanceStream(u),Di(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=p,u.hasAppearanceStream&&!u.appearanceStreamContent){var m=O8(u);h.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(u.appearanceStreamContent){var y="";for(var A in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(A)){var w=u.appearanceStreamContent[A];if(y+="/"+A+" ",y+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var o in w)if(w.hasOwnProperty(o)){var L=w[o];typeof L=="function"&&(L=L.call(a,u)),y+="/"+o+" "+L+" ",a.internal.acroformPlugin.xForms.indexOf(L)>=0||a.internal.acroformPlugin.xForms.push(L)}}else typeof(L=w)=="function"&&(L=L.call(a,u)),y+="/"+o+" "+L,a.internal.acroformPlugin.xForms.indexOf(L)>=0||a.internal.acroformPlugin.xForms.push(L);y+=">>"}h.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:u.objId}),a.internal.out("endobj")}r&&I8(a.internal.acroformPlugin.xForms,a)})(e,c)}),c.internal.acroformPlugin.isInitialized=!0}},z4=Ln.__acroform__.arrayToPdfArray=function(c,t,e){var i=function(o){return o};if(Array.isArray(c)){for(var a="[",r=0;r<c.length;r++)switch(r!==0&&(a+=" "),Di(c[r])){case"boolean":case"number":case"object":a+=c[r].toString();break;case"string":c[r].substr(0,1)!=="/"?(t!==void 0&&e&&(i=e.internal.getEncryptor(t)),a+="("+wp(i(c[r].toString()))+")"):a+=c[r].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ky=function(c,t,e){var i=function(a){return a};return t!==void 0&&e&&(i=e.internal.getEncryptor(t)),(c=c||"").toString(),c="("+wp(i(c))+")"},ec=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(c){this._objId=c}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ec.prototype.toString=function(){return this.objId+" 0 R"},ec.prototype.putStream=function(){var c=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:c,objectId:this.objId}),this.scope.internal.out("endobj")},ec.prototype.getKeyValueListForStream=function(){var c=[],t=Object.getOwnPropertyNames(this).filter(function(r){return r!="content"&&r!="appearanceStreamContent"&&r!="scope"&&r!="objId"&&r.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var i=t[e],a=this[i];a&&(Array.isArray(a)?c.push({key:i,value:z4(a,this.objId,this.scope)}):a instanceof ec?(a.scope=this.scope,c.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&c.push({key:i,value:a}))}return c};var q4=function(){ec.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var c,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){c=e.trim()},get:function(){return c||null}})};Ya(q4,ec);var U4=function(){ec.call(this);var c,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(c){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+wp(e(c))+")"}},set:function(e){c=e}})};Ya(U4,ec);var Wo=function c(){ec.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');t=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!In(t,3)},set:function(E){E?this.F=Bn(t,3):this.F=zn(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');e=E}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(E){i=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(E){i[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(E){i[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(E){i[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(E){i[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof Hb)return;r="FieldObject"+c.FieldNum++}var E=function(R){return R};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+wp(E(r))+")"},set:function(E){r=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(E){r=E}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(E){h=E}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/GA:p},set:function(E){p=E}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(E){m=E}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Hb||this instanceof mp))return Ky(y,this.objId,this.scope)},set:function(E){E=E.toString(),y=E}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof _s?A:Ky(A,this.objId,this.scope)},set:function(E){E=E.toString(),A=this instanceof _s?E:E.substr(0,1)==="("?ug(E.substr(1,E.length-2)):ug(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _s?ug(A.substr(1,A.length-1)):A},set:function(E){E=E.toString(),A=this instanceof _s?"/"+E:E}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof _s?w:Ky(w,this.objId,this.scope)},set:function(E){E=E.toString(),w=this instanceof _s?E:E.substr(0,1)==="("?ug(E.substr(1,E.length-2)):ug(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _s?ug(w.substr(1,w.length-1)):w},set:function(E){E=E.toString(),w=this instanceof _s?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var L,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(E){E=!!E,N=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(L)return L},set:function(E){L=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,1)},set:function(E){E?this.Ff=Bn(this.Ff,1):this.Ff=zn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,2)},set:function(E){E?this.Ff=Bn(this.Ff,2):this.Ff=zn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,3)},set:function(E){E?this.Ff=Bn(this.Ff,3):this.Ff=zn(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');M=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(M){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};Ya(Wo,ec);var Eg=function(){Wo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var c=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z4(t,this.objId,this.scope)},set:function(e){var i,a;a=[],typeof(i=e)=="string"&&(a=function(r,o,u){u||(u=1);for(var h,p=[];h=o.exec(r);)p.push(h[u]);return p}(i,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,18)},set:function(e){e?this.Ff=Bn(this.Ff,18):this.Ff=zn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Bn(this.Ff,19):this.Ff=zn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,20)},set:function(e){e?(this.Ff=Bn(this.Ff,20),t.sort()):this.Ff=zn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,22)},set:function(e){e?this.Ff=Bn(this.Ff,22):this.Ff=zn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,23)},set:function(e){e?this.Ff=Bn(this.Ff,23):this.Ff=zn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,27)},set:function(e){e?this.Ff=Bn(this.Ff,27):this.Ff=zn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ya(Eg,Wo);var Lg=function(){Eg.call(this),this.fontName="helvetica",this.combo=!1};Ya(Lg,Eg);var Cg=function(){Lg.call(this),this.combo=!0};Ya(Cg,Lg);var sb=function(){Cg.call(this),this.edit=!0};Ya(sb,Cg);var _s=function(){Wo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,15)},set:function(e){e?this.Ff=Bn(this.Ff,15):this.Ff=zn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,16)},set:function(e){e?this.Ff=Bn(this.Ff,16):this.Ff=zn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,17)},set:function(e){e?this.Ff=Bn(this.Ff,17):this.Ff=zn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,26)},set:function(e){e?this.Ff=Bn(this.Ff,26):this.Ff=zn(this.Ff,26)}});var c,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(r){return r};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,a=[];for(i in a.push("<<"),t)a.push("/"+i+" ("+wp(e(t[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){Di(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return c.substr(1,c.length-1)},set:function(e){c="/"+e}})};Ya(_s,Wo);var ab=function(){_s.call(this),this.pushButton=!0};Ya(ab,_s);var Tg=function(){_s.call(this),this.radio=!0,this.pushButton=!1;var c=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return c},set:function(t){c=t!==void 0?t:[]}})};Ya(Tg,_s);var Hb=function(){var c,t;Wo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return c},set:function(a){c=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var r,o=[];for(r in o.push("<<"),i)o.push("/"+r+" ("+wp(a(i[r]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Di(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=de.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ya(Hb,Wo),Tg.prototype.setAppearance=function(c){if(!("createAppearanceStream"in c)||!("getCA"in c))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=c.createAppearanceStream(e.optionName),e.caption=c.getCA()}},Tg.prototype.createOption=function(c){var t=new Hb;return t.Parent=this,t.optionName=c,this.Kids.push(t),z8.call(this.scope,t),t};var rb=function(){_s.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=de.CheckBox.createAppearanceStream()};Ya(rb,_s);var mp=function(){Wo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,13)},set:function(t){t?this.Ff=Bn(this.Ff,13):this.Ff=zn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,21)},set:function(t){t?this.Ff=Bn(this.Ff,21):this.Ff=zn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,23)},set:function(t){t?this.Ff=Bn(this.Ff,23):this.Ff=zn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,24)},set:function(t){t?this.Ff=Bn(this.Ff,24):this.Ff=zn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,25)},set:function(t){t?this.Ff=Bn(this.Ff,25):this.Ff=zn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,26)},set:function(t){t?this.Ff=Bn(this.Ff,26):this.Ff=zn(this.Ff,26)}});var c=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return c},set:function(t){c=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return c},set:function(t){Number.isInteger(t)&&(c=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ya(mp,Wo);var ob=function(){mp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!In(this.Ff,14)},set:function(c){c?this.Ff=Bn(this.Ff,14):this.Ff=zn(this.Ff,14)}}),this.password=!0};Ya(ob,mp);var de={CheckBox:{createAppearanceStream:function(){return{N:{On:de.CheckBox.YesNormal},D:{On:de.CheckBox.YesPushDown,Off:de.CheckBox.OffPushDown}}},YesPushDown:function(c){var t=Rl(c);t.scope=c.scope;var e=[],i=c.scope.internal.getFont(c.fontName,c.fontStyle).id,a=c.scope.__private__.encodeColorString(c.color),r=yw(c,c.caption);return e.push("0.749023 g"),e.push("0 0 "+qe(de.internal.getWidth(c))+" "+qe(de.internal.getHeight(c))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+qe(r.fontSize)+" Tf "+a),e.push("BT"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(c){var t=Rl(c);t.scope=c.scope;var e=c.scope.internal.getFont(c.fontName,c.fontStyle).id,i=c.scope.__private__.encodeColorString(c.color),a=[],r=de.internal.getHeight(c),o=de.internal.getWidth(c),u=yw(c,c.caption);return a.push("1 g"),a.push("0 0 "+qe(o)+" "+qe(r)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+qe(o-1)+" "+qe(r-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+qe(u.fontSize)+" Tf "+i),a.push(u.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(c){var t=Rl(c);t.scope=c.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+qe(de.internal.getWidth(c))+" "+qe(de.internal.getHeight(c))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(c){var t={D:{Off:de.RadioButton.Circle.OffPushDown},N:{}};return t.N[c]=de.RadioButton.Circle.YesNormal,t.D[c]=de.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(c){var t=Rl(c);t.scope=c.scope;var e=[],i=de.internal.getWidth(c)<=de.internal.getHeight(c)?de.internal.getWidth(c)/4:de.internal.getHeight(c)/4;i=Number((.9*i).toFixed(5));var a=de.internal.Bezier_C,r=Number((i*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+vh(de.internal.getWidth(c)/2)+" "+vh(de.internal.getHeight(c)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),e.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),e.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),e.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(c){var t=Rl(c);t.scope=c.scope;var e=[],i=de.internal.getWidth(c)<=de.internal.getHeight(c)?de.internal.getWidth(c)/4:de.internal.getHeight(c)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),r=Number((a*de.internal.Bezier_C).toFixed(5)),o=Number((i*de.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+vh(de.internal.getWidth(c)/2)+" "+vh(de.internal.getHeight(c)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),e.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),e.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),e.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+vh(de.internal.getWidth(c)/2)+" "+vh(de.internal.getHeight(c)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(c){var t=Rl(c);t.scope=c.scope;var e=[],i=de.internal.getWidth(c)<=de.internal.getHeight(c)?de.internal.getWidth(c)/4:de.internal.getHeight(c)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),r=Number((a*de.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+vh(de.internal.getWidth(c)/2)+" "+vh(de.internal.getHeight(c)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+r+" "+r+" "+a+" 0 "+a+" c"),e.push("-"+r+" "+a+" -"+a+" "+r+" -"+a+" 0 c"),e.push("-"+a+" -"+r+" -"+r+" -"+a+" 0 -"+a+" c"),e.push(r+" -"+a+" "+a+" -"+r+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(c){var t={D:{Off:de.RadioButton.Cross.OffPushDown},N:{}};return t.N[c]=de.RadioButton.Cross.YesNormal,t.D[c]=de.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(c){var t=Rl(c);t.scope=c.scope;var e=[],i=de.internal.calculateCross(c);return e.push("q"),e.push("1 1 "+qe(de.internal.getWidth(c)-2)+" "+qe(de.internal.getHeight(c)-2)+" re"),e.push("W"),e.push("n"),e.push(qe(i.x1.x)+" "+qe(i.x1.y)+" m"),e.push(qe(i.x2.x)+" "+qe(i.x2.y)+" l"),e.push(qe(i.x4.x)+" "+qe(i.x4.y)+" m"),e.push(qe(i.x3.x)+" "+qe(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(c){var t=Rl(c);t.scope=c.scope;var e=de.internal.calculateCross(c),i=[];return i.push("0.749023 g"),i.push("0 0 "+qe(de.internal.getWidth(c))+" "+qe(de.internal.getHeight(c))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+qe(de.internal.getWidth(c)-2)+" "+qe(de.internal.getHeight(c)-2)+" re"),i.push("W"),i.push("n"),i.push(qe(e.x1.x)+" "+qe(e.x1.y)+" m"),i.push(qe(e.x2.x)+" "+qe(e.x2.y)+" l"),i.push(qe(e.x4.x)+" "+qe(e.x4.y)+" m"),i.push(qe(e.x3.x)+" "+qe(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(c){var t=Rl(c);t.scope=c.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+qe(de.internal.getWidth(c))+" "+qe(de.internal.getHeight(c))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(c){var t=c.scope.internal.getFont(c.fontName,c.fontStyle).id,e=c.scope.__private__.encodeColorString(c.color);return"/"+t+" "+c.fontSize+" Tf "+e}};de.internal={Bezier_C:.551915024494,calculateCross:function(c){var t=de.internal.getWidth(c),e=de.internal.getHeight(c),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},de.internal.getWidth=function(c){var t=0;return Di(c)==="object"&&(t=TS(c.Rect[2])),t},de.internal.getHeight=function(c){var t=0;return Di(c)==="object"&&(t=TS(c.Rect[3])),t};var z8=Ln.addField=function(c){if(B8(this,c),!(c instanceof Wo))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=c).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),c.page=c.scope.internal.getCurrentPageInfo().pageNumber,this};Ln.AcroFormChoiceField=Eg,Ln.AcroFormListBox=Lg,Ln.AcroFormComboBox=Cg,Ln.AcroFormEditBox=sb,Ln.AcroFormButton=_s,Ln.AcroFormPushButton=ab,Ln.AcroFormRadioButton=Tg,Ln.AcroFormCheckBox=rb,Ln.AcroFormTextField=mp,Ln.AcroFormPasswordField=ob,Ln.AcroFormAppearance=de,Ln.AcroForm={ChoiceField:Eg,ListBox:Lg,ComboBox:Cg,EditBox:sb,Button:_s,PushButton:ab,RadioButton:Tg,CheckBox:rb,TextField:mp,PasswordField:ob,Appearance:de},Ce.AcroForm={ChoiceField:Eg,ListBox:Lg,ComboBox:Cg,EditBox:sb,Button:_s,PushButton:ab,RadioButton:Tg,CheckBox:rb,TextField:mp,PasswordField:ob,Appearance:de};Ce.AcroForm;function H4(c){return c.reduce(function(t,e,i){return t[e]=i,t},{})}(function(c){c.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=c.__addimage__.getImageFileTypeByImageData=function(H,J){var ut,rt,_t,B,z,Q=t;if((J=J||t)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(st(H))for(z in e)for(_t=e[z],ut=0;ut<_t.length;ut+=1){for(B=!0,rt=0;rt<_t[ut].length;rt+=1)if(_t[ut][rt]!==void 0&&_t[ut][rt]!==H[rt]){B=!1;break}if(B===!0){Q=z;break}}else for(z in e)for(_t=e[z],ut=0;ut<_t.length;ut+=1){for(B=!0,rt=0;rt<_t[ut].length;rt+=1)if(_t[ut][rt]!==void 0&&_t[ut][rt]!==H.charCodeAt(rt)){B=!1;break}if(B===!0){Q=z;break}}return Q===t&&J!==t&&(Q=J),Q},a=function H(J){for(var ut=this.internal.write,rt=this.internal.putStream,_t=(0,this.internal.getFilters)();_t.indexOf("FlateEncode")!==-1;)_t.splice(_t.indexOf("FlateEncode"),1);J.objectId=this.internal.newObject();var B=[];if(B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Image"}),B.push({key:"Width",value:J.width}),B.push({key:"Height",value:J.height}),J.colorSpace===M.INDEXED?B.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(J.palette.length/3-1)+" "+("sMask"in J&&J.sMask!==void 0?J.objectId+2:J.objectId+1)+" 0 R]"}):(B.push({key:"ColorSpace",value:"/"+J.colorSpace}),J.colorSpace===M.DEVICE_CMYK&&B.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),B.push({key:"BitsPerComponent",value:J.bitsPerComponent}),"decodeParameters"in J&&J.decodeParameters!==void 0&&B.push({key:"DecodeParms",value:"<<"+J.decodeParameters+">>"}),"transparency"in J&&Array.isArray(J.transparency)){for(var z="",Q=0,pt=J.transparency.length;Q<pt;Q++)z+=J.transparency[Q]+" "+J.transparency[Q]+" ";B.push({key:"Mask",value:"["+z+"]"})}J.sMask!==void 0&&B.push({key:"SMask",value:J.objectId+1+" 0 R"});var O=J.filter!==void 0?["/"+J.filter]:void 0;if(rt({data:J.data,additionalKeyValues:B,alreadyAppliedFilters:O,objectId:J.objectId}),ut("endobj"),"sMask"in J&&J.sMask!==void 0){var ft="/Predictor "+J.predictor+" /Colors 1 /BitsPerComponent "+J.bitsPerComponent+" /Columns "+J.width,k={width:J.width,height:J.height,colorSpace:"DeviceGray",bitsPerComponent:J.bitsPerComponent,decodeParameters:ft,data:J.sMask};"filter"in J&&(k.filter=J.filter),H.call(this,k)}if(J.colorSpace===M.INDEXED){var q=this.internal.newObject();rt({data:W(new Uint8Array(J.palette)),objectId:q}),ut("endobj")}},r=function(){var H=this.internal.collections.addImage_images;for(var J in H)a.call(this,H[J])},o=function(){var H,J=this.internal.collections.addImage_images,ut=this.internal.write;for(var rt in J)ut("/I"+(H=J[rt]).index,H.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",o))},h=function(){var H=this.internal.collections.addImage_images;return u.call(this),H},p=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(H){return typeof c["process"+H.toUpperCase()]=="function"},y=function(H){return Di(H)==="object"&&H.nodeType===1},A=function(H,J){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var ut=""+H.getAttribute("src");if(ut.indexOf("data:image/")===0)return o0(unescape(ut).split("base64,").pop());var rt=c.loadFile(ut,!0);if(rt!==void 0)return rt}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var _t;switch(J){case"PNG":_t="image/png";break;case"WEBP":_t="image/webp";break;case"JPEG":case"JPG":default:_t="image/jpeg"}return o0(H.toDataURL(_t,1).split("base64,").pop())}},w=function(H){var J=this.internal.collections.addImage_images;if(J){for(var ut in J)if(H===J[ut].alias)return J[ut]}},L=function(H,J,ut){return H||J||(H=-96,J=-96),H<0&&(H=-1*ut.width*72/H/this.internal.scaleFactor),J<0&&(J=-1*ut.height*72/J/this.internal.scaleFactor),H===0&&(H=J*ut.width/ut.height),J===0&&(J=H*ut.height/ut.width),[H,J]},N=function(H,J,ut,rt,_t,B){var z=L.call(this,ut,rt,_t),Q=this.internal.getCoordinateString,pt=this.internal.getVerticalCoordinateString,O=h.call(this);if(ut=z[0],rt=z[1],O[_t.index]=_t,B){B*=Math.PI/180;var ft=Math.cos(B),k=Math.sin(B),q=function(at){return at.toFixed(4)},et=[q(ft),q(k),q(-1*k),q(ft),0,0,"cm"]}this.internal.write("q"),B?(this.internal.write([1,"0","0",1,Q(H),pt(J+rt),"cm"].join(" ")),this.internal.write(et.join(" ")),this.internal.write([Q(ut),"0","0",Q(rt),"0","0","cm"].join(" "))):this.internal.write([Q(ut),"0","0",Q(rt),Q(H),pt(J+rt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_t.index+" Do"),this.internal.write("Q")},M=c.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};c.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=c.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=c.__addimage__.sHashCode=function(H){var J,ut,rt=0;if(typeof H=="string")for(ut=H.length,J=0;J<ut;J++)rt=(rt<<5)-rt+H.charCodeAt(J),rt|=0;else if(st(H))for(ut=H.byteLength/2,J=0;J<ut;J++)rt=(rt<<5)-rt+H[J],rt|=0;return rt},P=c.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var J=!0;return H.length===0&&(J=!1),H.length%4!=0&&(J=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(J=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(J=!1),J},K=c.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var J=H.indexOf(",");return J<0?null:H.substring(0,J).trim().endsWith("base64")?H.substring(J+1):null},X=c.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};c.__addimage__.isArrayBuffer=function(H){return X()&&H instanceof ArrayBuffer};var st=c.__addimage__.isArrayBufferView=function(H){return X()&&typeof Uint32Array<"u"&&(H instanceof Int8Array||H instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)},it=c.__addimage__.binaryStringToUint8Array=function(H){for(var J=H.length,ut=new Uint8Array(J),rt=0;rt<J;rt++)ut[rt]=H.charCodeAt(rt);return ut},W=c.__addimage__.arrayBufferToBinaryString=function(H){for(var J="",ut=st(H)?H:new Uint8Array(H),rt=0;rt<ut.length;rt+=8192)J+=String.fromCharCode.apply(null,ut.subarray(rt,rt+8192));return J};c.addImage=function(){var H,J,ut,rt,_t,B,z,Q,pt;if(typeof arguments[1]=="number"?(J=t,ut=arguments[1],rt=arguments[2],_t=arguments[3],B=arguments[4],z=arguments[5],Q=arguments[6],pt=arguments[7]):(J=arguments[1],ut=arguments[2],rt=arguments[3],_t=arguments[4],B=arguments[5],z=arguments[6],Q=arguments[7],pt=arguments[8]),Di(H=arguments[0])==="object"&&!y(H)&&"imageData"in H){var O=H;H=O.imageData,J=O.format||J||t,ut=O.x||ut||0,rt=O.y||rt||0,_t=O.w||O.width||_t,B=O.h||O.height||B,z=O.alias||z,Q=O.compression||Q,pt=O.rotation||O.angle||pt}var ft=this.internal.getFilters();if(Q===void 0&&ft.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(ut)||isNaN(rt))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var k=lt.call(this,H,J,z,Q);return N.call(this,ut,rt,_t,B,k,pt),this};var lt=function(H,J,ut,rt){var _t,B,z;if(typeof H=="string"&&i(H)===t){H=unescape(H);var Q=yt(H,!1);(Q!==""||(Q=c.loadFile(H,!0))!==void 0)&&(H=Q)}if(y(H)&&(H=A(H,J)),J=i(H,J),!m(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(((z=ut)==null||z.length===0)&&(ut=function(pt){return typeof pt=="string"||st(pt)?R(pt):st(pt.data)?R(pt.data):null}(H)),(_t=w.call(this,ut))||(X()&&(H instanceof Uint8Array||J==="RGBA"||(B=H,H=it(H))),_t=this["process"+J.toUpperCase()](H,p.call(this),ut,function(pt){return pt&&typeof pt=="string"&&(pt=pt.toUpperCase()),pt in c.image_compression?pt:E.NONE}(rt),B)),!_t)throw new Error("An unknown error occurred whilst processing the image.");return _t},yt=c.__addimage__.convertBase64ToBinaryString=function(H,J){J=typeof J!="boolean"||J;var ut,rt="";if(typeof H=="string"){var _t;ut=(_t=K(H))!==null&&_t!==void 0?_t:H;try{rt=o0(ut)}catch(B){if(J)throw P(ut)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+B.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return rt};c.getImageProperties=function(H){var J,ut,rt="";if(y(H)&&(H=A(H)),typeof H=="string"&&i(H)===t&&((rt=yt(H,!1))===""&&(rt=c.loadFile(H)||""),H=rt),ut=i(H),!m(ut))throw new Error("addImage does not support files of type '"+ut+"', please ensure that a plugin for '"+ut+"' support is added.");if(!X()||H instanceof Uint8Array||(H=it(H)),!(J=this["process"+ut.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return J.fileType=ut,J}})(Ce.API),function(c){var t=function(e){if(e!==void 0&&e!="")return!0};Ce.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),c.events.push(["putPage",function(e){for(var i,a,r,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(e.objId),p=e.pageContext.annotations,m=!1,y=0;y<p.length&&!m;y++)switch((i=p[y]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var A=0;A<p.length;A++){i=p[A];var w=this.internal.pdfEscape,L=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(N.objId),R=i.title||"Note";r="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y)+"] ")+"/Contents ("+w(E(i.contents))+")",r+=" /Popup "+M.objId+" 0 R",r+=" /P "+h.objId+" 0 R",r+=" /T ("+w(E(R))+") >>",N.content=r;var P=N.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(i.bounds.x+30)+" "+u(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+u(i.bounds.y)+"] ")+" /Parent "+P,i.open&&(r+=" /Open true"),r+=" >>",M.content=r,this.internal.write(N.objId,"0 R",M.objId,"0 R");break;case"freetext":a="/Rect ["+o(i.bounds.x)+" "+u(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+u(i.bounds.y+i.bounds.h)+"] ";var K=i.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+w(L(i.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+K+")",r+=" /Border [0 0 0]",r+=" >>",this.internal.write(r);break;case"link":if(i.options.name){var X=this.annotations._nameMap[i.options.name];i.options.pageNumber=X.page,i.options.top=X.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",r="",i.options.url)r="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+w(L(i.options.url))+") >>";else if(i.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,r+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var st=u(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),r+=" /XYZ "+i.options.left+" "+st+" "+i.options.zoom+"]"}r!=""&&(r+=" >>",this.internal.write(r))}}this.internal.write("]")}}]),c.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},c.link=function(e,i,a,r,o){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(e),y:p(i),w:h(e+a),h:p(i+r)},options:o,type:"link"})},c.textWithLink=function(e,i,a,r){var o,u,h=this.getTextWidth(e),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(r.maxWidth!==void 0){u=r.maxWidth;var m=this.splitTextToSize(e,u).length;o=Math.ceil(p*m)}else u=h,o=p;return this.text(e,i,a,r),a+=.2*p,r.align==="center"&&(i-=h/2),r.align==="right"&&(i-=h),this.link(i,a-p,u,o,r),h},c.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor}}(Ce.API),function(c){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];c.__arabicParser__={};var r=c.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},o=c.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},u=c.__arabicParser__.isArabicEndLetter=function(N){return o(N)&&r(N)&&t[N.charCodeAt(0)].length<=2},h=c.__arabicParser__.isArabicAlfLetter=function(N){return o(N)&&a.indexOf(N.charCodeAt(0))>=0};c.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return o(N)&&r(N)&&t[N.charCodeAt(0)].length>=1};var p=c.__arabicParser__.arabicLetterHasFinalForm=function(N){return o(N)&&r(N)&&t[N.charCodeAt(0)].length>=2};c.__arabicParser__.arabicLetterHasInitialForm=function(N){return o(N)&&r(N)&&t[N.charCodeAt(0)].length>=3};var m=c.__arabicParser__.arabicLetterHasMedialForm=function(N){return o(N)&&r(N)&&t[N.charCodeAt(0)].length==4},y=c.__arabicParser__.resolveLigatures=function(N){var M=0,E=e,R="",P=0;for(M=0;M<N.length;M+=1)E[N.charCodeAt(M)]!==void 0?(P++,typeof(E=E[N.charCodeAt(M)])=="number"&&(R+=String.fromCharCode(E),E=e,P=0),M===N.length-1&&(E=e,R+=N.charAt(M-(P-1)),M-=P-1,P=0)):(E=e,R+=N.charAt(M-P),M-=P,P=0);return R};c.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&i[N.charCodeAt(0)]!==void 0};var A=c.__arabicParser__.getCorrectForm=function(N,M,E){return o(N)?r(N)===!1?-1:!p(N)||!o(M)&&!o(E)||!o(E)&&u(M)||u(N)&&!o(M)||u(N)&&h(M)||u(N)&&u(M)?0:m(N)&&o(M)&&!u(M)&&o(E)&&p(E)?3:u(N)||!o(E)?1:2:-1},w=function(N){var M=0,E=0,R=0,P="",K="",X="",st=(N=N||"").split("\\s+"),it=[];for(M=0;M<st.length;M+=1){for(it.push(""),E=0;E<st[M].length;E+=1)P=st[M][E],K=st[M][E-1],X=st[M][E+1],o(P)?(R=A(P,K,X),it[M]+=R!==-1?String.fromCharCode(t[P.charCodeAt(0)][R]):P):it[M]+=P;it[M]=y(it[M])}return it.join(" ")},L=c.__arabicParser__.processArabic=c.processArabic=function(){var N,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(M)){var R=0;for(E=[],R=0;R<M.length;R+=1)Array.isArray(M[R])?E.push([w(M[R][0]),M[R][1],M[R][2]]):E.push([w(M[R])]);N=E}else N=w(M);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};c.events.push(["preProcessText",L])}(Ce.API),Ce.API.autoPrint=function(c){var t;switch((c=c||{}).variant=c.variant||"non-conform",c.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(c){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(u){r=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var a;if((e=e||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},c.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ce.API),function(c){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(N){h=N}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(N){A=N}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var L=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return L},set:function(N){L=N}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},c.setHeaderFunction=function(h){return i.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},c.getTextDimensions=function(h,p){i.call(this);var m=(p=p||{}).fontSize||this.getFontSize(),y=p.font||this.getFont(),A=p.scaleFactor||this.internal.scaleFactor,w=0,L=0,N=0,M=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var E=p.maxWidth;E>0?typeof h=="string"?h=this.splitTextToSize(h,E):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(P,K){return P.concat(M.splitTextToSize(K,E))},[])):h=Array.isArray(h)?h:[h];for(var R=0;R<h.length;R++)w<(N=this.getStringUnitWidth(h[R],{font:y})*m)&&(w=N);return w!==0&&(L=h.length),{w:w/=A,h:Math.max((L*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/A,0)}},c.cellAddPage=function(){i.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new r(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=c.cell=function(){var h;h=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var p=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,A=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=y.top,w&&A&&(this.printHeaderRow(h.lineNumber,!0),h.y+=A[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,e===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-m,h.y+m,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+m,{align:"center",baseline:"top",maxWidth:h.width-m-m}):this.text(h.text,h.x+m,h.y+m,{align:"left",baseline:"top",maxWidth:h.width-m-m})),this.internal.__cell__.lastCell=h,this};c.table=function(h,p,m,y,A){if(i.call(this),!m)throw new Error("No data for PDF table.");var w,L,N,M,E=[],R=[],P=[],K={},X={},st=[],it=[],W=(A=A||{}).autoSize||!1,lt=A.printHeaders!==!1,yt=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,H=A.margins||Object.assign({width:this.getPageWidth()},t),J=typeof A.padding=="number"?A.padding:3,ut=A.headerBackgroundColor||"#c8c8c8",rt=A.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=lt,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=yt,this.internal.__cell__.padding=J,this.internal.__cell__.headerBackgroundColor=ut,this.internal.__cell__.headerTextColor=rt,this.setFontSize(yt),y==null)R=E=Object.keys(m[0]),P=E.map(function(){return"left"});else if(Array.isArray(y)&&Di(y[0])==="object")for(E=y.map(function(O){return O.name}),R=y.map(function(O){return O.prompt||O.name||""}),P=y.map(function(O){return O.align||"left"}),w=0;w<y.length;w+=1)X[y[w].name]=y[w].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(R=E=y,P=E.map(function(){return"left"}));if(W||Array.isArray(y)&&typeof y[0]=="string")for(w=0;w<E.length;w+=1){for(K[M=E[w]]=m.map(function(O){return O[M]}),this.setFont(void 0,"bold"),st.push(this.getTextDimensions(R[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),L=K[M],this.setFont(void 0,"normal"),N=0;N<L.length;N+=1)st.push(this.getTextDimensions(L[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[M]=Math.max.apply(null,st)+J+J,st=[]}if(lt){var _t={};for(w=0;w<E.length;w+=1)_t[E[w]]={},_t[E[w]].text=R[w],_t[E[w]].align=P[w];var B=u.call(this,_t,X);it=E.map(function(O){return new r(h,p,X[O],B,_t[O].text,void 0,_t[O].align)}),this.setTableHeaderRow(it),this.printHeaderRow(1,!1)}var z=y.reduce(function(O,ft){return O[ft.name]=ft.align,O},{});for(w=0;w<m.length;w+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:w,data:m[w]},this);var Q=u.call(this,m[w],X);for(N=0;N<E.length;N+=1){var pt=m[w][E[N]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:w,col:N,data:pt},this),o.call(this,new r(h,p,X[E[N]],Q,pt,w+2,z[E[N]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var u=function(h,p){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(h).map(function(w){var L=h[w];return this.splitTextToSize(L.hasOwnProperty("text")?L.text:L,p[w]-m-m)},this).map(function(w){return this.getLineHeightFactor()*w.length*y/A+m+m},this).reduce(function(w,L){return Math.max(w,L)},0)};c.setTableHeaderRow=function(h){i.call(this),this.internal.__cell__.tableHeaderRow=h},c.printHeaderRow=function(h,p){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){m=this.internal.__cell__.tableHeaderRow[w].clone(),p&&(m.y=this.internal.__cell__.margins.top||0,A.push(m)),m.lineNumber=h;var L=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,m),this.setTextColor(L)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),e=!1}}(Ce.API);var G4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},V4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ww=H4(V4),Y4=[100,200,300,400,500,600,700,800,900],q8=H4(Y4);function Aw(c){var t=c.family.replace(/"|'/g,"").toLowerCase(),e=function(r){return G4[r=r||"normal"]?r:"normal"}(c.style),i=function(r){if(!r)return 400;if(typeof r=="number")return r>=100&&r<=900&&r%100==0?r:400;if(/^\d00$/.test(r))return parseInt(r);switch(r){case"bold":return 700;case"normal":default:return 400}}(c.weight),a=function(r){return typeof ww[r=r||"normal"]=="number"?r:"normal"}(c.stretch);return{family:t,style:e,weight:i,stretch:a,src:c.src||[],ref:c.ref||{name:t,style:[a,e,i].join(" ")}}}function MS(c,t,e,i){var a;for(a=e;a>=0&&a<t.length;a+=i)if(c[t[a]])return c[t[a]];for(a=e;a>=0&&a<t.length;a-=i)if(c[t[a]])return c[t[a]]}var U8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},kS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RS(c){return[c.stretch,c.style,c.weight,c.family].join(" ")}function H8(c,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",a=Object.assign({},U8,e.genericFontFamilies||{}),r=null,o=null,u=0;u<t.length;++u)if(a[(r=Aw(t[u])).family]&&(r.family=a[r.family]),c.hasOwnProperty(r.family)){o=c[r.family];break}if(!(o=o||c[i]))throw new Error("Could not find a font-family for the rule '"+RS(r)+"' and default family '"+i+"'.");if(o=function(h,p){if(p[h])return p[h];var m=ww[h],y=m<=ww.normal?-1:1,A=MS(p,V4,m,y);if(!A)throw new Error("Could not find a matching font-stretch value for "+h);return A}(r.stretch,o),o=function(h,p){if(p[h])return p[h];for(var m=G4[h],y=0;y<m.length;++y)if(p[m[y]])return p[m[y]];throw new Error("Could not find a matching font-style for "+h)}(r.style,o),!(o=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var m=q8[h],y=MS(p,Y4,m,h<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+h);return y}(r.weight,o)))throw new Error("Failed to resolve a font for the rule '"+RS(r)+"'.");return o}function DS(c){return c.trimLeft()}function G8(c,t){for(var e=0;e<c.length;){if(c.charAt(e)===t)return[c.substring(0,e),c.substring(e+1)];e+=1}return null}function V8(c){var t=c.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],c.substring(t[0].length)]}var W5,PS,OS,Qy=["times"];(function(c){var t,e,i,a,r,o,u,h,p,m=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new h,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new o,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new o,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};c.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,p=new m}]);var y=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=k;Object.defineProperty(this,"pdf",{get:function(){return q}});var et=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return et},set:function(jt){et=!!jt}});var at=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return at},set:function(jt){at=!!jt}});var ct=0;Object.defineProperty(this,"posX",{get:function(){return ct},set:function(jt){isNaN(jt)||(ct=jt)}});var gt=0;Object.defineProperty(this,"posY",{get:function(){return gt},set:function(jt){isNaN(jt)||(gt=jt)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(jt){var ht;typeof jt=="number"?ht=[jt,jt,jt,jt]:((ht=new Array(4))[0]=jt[0],ht[1]=jt.length>=2?jt[1]:ht[0],ht[2]=jt.length>=3?jt[2]:ht[0],ht[3]=jt.length>=4?jt[3]:ht[1]),p.margin=ht}});var St=!1;Object.defineProperty(this,"autoPaging",{get:function(){return St},set:function(jt){St=jt}});var Tt=0;Object.defineProperty(this,"lastBreak",{get:function(){return Tt},set:function(jt){Tt=jt}});var Yt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Yt},set:function(jt){Yt=jt}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(jt){jt instanceof m&&(p=jt)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(jt){p.path=jt}});var Gt=[];Object.defineProperty(this,"ctxStack",{get:function(){return Gt},set:function(jt){Gt=jt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(jt){var ht;ht=A(jt),this.ctx.fillStyle=ht.style,this.ctx.isFillTransparent=ht.a===0,this.ctx.fillOpacity=ht.a,this.pdf.setFillColor(ht.r,ht.g,ht.b,{a:ht.a}),this.pdf.setTextColor(ht.r,ht.g,ht.b,{a:ht.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(jt){var ht=A(jt);this.ctx.strokeStyle=ht.style,this.ctx.isStrokeTransparent=ht.a===0,this.ctx.strokeOpacity=ht.a,ht.a===0?this.pdf.setDrawColor(255,255,255):(ht.a,this.pdf.setDrawColor(ht.r,ht.g,ht.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(jt){["butt","round","square"].indexOf(jt)!==-1&&(this.ctx.lineCap=jt,this.pdf.setLineCap(jt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(jt){isNaN(jt)||(this.ctx.lineWidth=jt,this.pdf.setLineWidth(jt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(jt){["bevel","round","miter"].indexOf(jt)!==-1&&(this.ctx.lineJoin=jt,this.pdf.setLineJoin(jt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(jt){isNaN(jt)||(this.ctx.miterLimit=jt,this.pdf.setMiterLimit(jt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(jt){this.ctx.textBaseline=jt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(jt){["right","end","center","left","start"].indexOf(jt)!==-1&&(this.ctx.textAlign=jt)}});var $t=null;function Kt(jt,ht){if($t===null){var Se=function(fe){var Xt=[];return Object.keys(fe).forEach(function(Zt){fe[Zt].forEach(function(te){var ee=null;switch(te){case"bold":ee={family:Zt,weight:"bold"};break;case"italic":ee={family:Zt,style:"italic"};break;case"bolditalic":ee={family:Zt,weight:"bold",style:"italic"};break;case"":case"normal":ee={family:Zt}}ee!==null&&(ee.ref={name:Zt,style:te},Xt.push(ee))})}),Xt}(jt.getFontList());$t=function(fe){for(var Xt={},Zt=0;Zt<fe.length;++Zt){var te=Aw(fe[Zt]),ee=te.family,ve=te.stretch,Fe=te.style,Ge=te.weight;Xt[ee]=Xt[ee]||{},Xt[ee][ve]=Xt[ee][ve]||{},Xt[ee][ve][Fe]=Xt[ee][ve][Fe]||{},Xt[ee][ve][Fe][Ge]=te}return Xt}(Se.concat(ht))}return $t}var xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return xe},set:function(jt){$t=null,xe=jt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(jt){var ht;if(this.ctx.font=jt,(ht=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(jt))!==null){var Se=ht[1];ht[2];var fe=ht[3],Xt=ht[4];ht[5];var Zt=ht[6],te=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xt)[2];Xt=Math.floor(te==="px"?parseFloat(Xt)*this.pdf.internal.scaleFactor:te==="em"?parseFloat(Xt)*this.pdf.getFontSize():parseFloat(Xt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xt);var ee=function(pe){var Ke,se,cs=[],si=pe.trim();if(si==="")return Qy;if(si in kS)return[kS[si]];for(;si!=="";){switch(se=null,Ke=(si=DS(si)).charAt(0)){case'"':case"'":se=G8(si.substring(1),Ke);break;default:se=V8(si)}if(se===null||(cs.push(se[0]),(si=DS(se[1]))!==""&&si.charAt(0)!==","))return Qy;si=si.replace(/^,/,"")}return cs}(Zt);if(this.fontFaces){var ve=H8(Kt(this.pdf,this.fontFaces),ee.map(function(pe){return{family:pe,stretch:"normal",weight:fe,style:Se}}));this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var Fe="";(fe==="bold"||parseInt(fe,10)>=700||Se==="bold")&&(Fe="bold"),Se==="italic"&&(Fe+="italic"),Fe.length===0&&(Fe="normal");for(var Ge="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pe=0;Pe<ee.length;Pe++){if(this.pdf.internal.getFont(ee[Pe],Fe,{noFallback:!0,disableWarning:!0})!==void 0){Ge=ee[Pe];break}if(Fe==="bolditalic"&&this.pdf.internal.getFont(ee[Pe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=ee[Pe],Fe="bold";else if(this.pdf.internal.getFont(ee[Pe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=ee[Pe],Fe="normal";break}}if(Ge===""){for(var ni=0;ni<ee.length;ni++)if(ze[ee[ni]]){Ge=ze[ee[ni]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Fe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(jt){this.ctx.globalCompositeOperation=jt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(jt){this.ctx.globalAlpha=jt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(jt){this.ctx.lineDashOffset=jt,ft.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(jt){this.ctx.lineDash=jt,ft.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(jt){this.ctx.ignoreClearRect=!!jt}})};y.prototype.setLineDash=function(k){this.lineDash=k},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){K.call(this,"fill",!1)},y.prototype.stroke=function(){K.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(k,q){if(isNaN(k)||isNaN(q))throw Gi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var et=this.ctx.transform.applyToPoint(new o(k,q));this.path.push({type:"mt",x:et.x,y:et.y}),this.ctx.lastPoint=new o(k,q)},y.prototype.closePath=function(){var k=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Di(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){k=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(k.x,k.y)},y.prototype.lineTo=function(k,q){if(isNaN(k)||isNaN(q))throw Gi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var et=this.ctx.transform.applyToPoint(new o(k,q));this.path.push({type:"lt",x:et.x,y:et.y}),this.ctx.lastPoint=new o(et.x,et.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),K.call(this,null,!0)},y.prototype.quadraticCurveTo=function(k,q,et,at){if(isNaN(et)||isNaN(at)||isNaN(k)||isNaN(q))throw Gi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ct=this.ctx.transform.applyToPoint(new o(et,at)),gt=this.ctx.transform.applyToPoint(new o(k,q));this.path.push({type:"qct",x1:gt.x,y1:gt.y,x:ct.x,y:ct.y}),this.ctx.lastPoint=new o(ct.x,ct.y)},y.prototype.bezierCurveTo=function(k,q,et,at,ct,gt){if(isNaN(ct)||isNaN(gt)||isNaN(k)||isNaN(q)||isNaN(et)||isNaN(at))throw Gi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var St=this.ctx.transform.applyToPoint(new o(ct,gt)),Tt=this.ctx.transform.applyToPoint(new o(k,q)),Yt=this.ctx.transform.applyToPoint(new o(et,at));this.path.push({type:"bct",x1:Tt.x,y1:Tt.y,x2:Yt.x,y2:Yt.y,x:St.x,y:St.y}),this.ctx.lastPoint=new o(St.x,St.y)},y.prototype.arc=function(k,q,et,at,ct,gt){if(isNaN(k)||isNaN(q)||isNaN(et)||isNaN(at)||isNaN(ct))throw Gi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(gt=!!gt,!this.ctx.transform.isIdentity){var St=this.ctx.transform.applyToPoint(new o(k,q));k=St.x,q=St.y;var Tt=this.ctx.transform.applyToPoint(new o(0,et)),Yt=this.ctx.transform.applyToPoint(new o(0,0));et=Math.sqrt(Math.pow(Tt.x-Yt.x,2)+Math.pow(Tt.y-Yt.y,2))}Math.abs(ct-at)>=2*Math.PI&&(at=0,ct=2*Math.PI),this.path.push({type:"arc",x:k,y:q,radius:et,startAngle:at,endAngle:ct,counterclockwise:gt})},y.prototype.arcTo=function(k,q,et,at,ct){throw new Error("arcTo not implemented.")},y.prototype.rect=function(k,q,et,at){if(isNaN(k)||isNaN(q)||isNaN(et)||isNaN(at))throw Gi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,q),this.lineTo(k+et,q),this.lineTo(k+et,q+at),this.lineTo(k,q+at),this.lineTo(k,q),this.lineTo(k+et,q),this.lineTo(k,q)},y.prototype.fillRect=function(k,q,et,at){if(isNaN(k)||isNaN(q)||isNaN(et)||isNaN(at))throw Gi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var ct={};this.lineCap!=="butt"&&(ct.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ct.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,q,et,at),this.fill(),ct.hasOwnProperty("lineCap")&&(this.lineCap=ct.lineCap),ct.hasOwnProperty("lineJoin")&&(this.lineJoin=ct.lineJoin)}},y.prototype.strokeRect=function(k,q,et,at){if(isNaN(k)||isNaN(q)||isNaN(et)||isNaN(at))throw Gi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");L.call(this)||(this.beginPath(),this.rect(k,q,et,at),this.stroke())},y.prototype.clearRect=function(k,q,et,at){if(isNaN(k)||isNaN(q)||isNaN(et)||isNaN(at))throw Gi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,q,et,at))},y.prototype.save=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,et=0;et<this.pdf.internal.getNumberOfPages();et++)this.pdf.setPage(et+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var at=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=at}},y.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,et=0;et<this.pdf.internal.getNumberOfPages();et++)this.pdf.setPage(et+1),this.pdf.internal.out("Q");this.pdf.setPage(q),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(k){var q,et,at,ct;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))q=0,et=0,at=0,ct=0;else{var gt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(gt!==null)q=parseInt(gt[1]),et=parseInt(gt[2]),at=parseInt(gt[3]),ct=1;else if((gt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)q=parseInt(gt[1]),et=parseInt(gt[2]),at=parseInt(gt[3]),ct=parseFloat(gt[4]);else{if(ct=1,typeof k=="string"&&k.charAt(0)!=="#"){var St=new F4(k);k=St.ok?St.toHex():"#000000"}k.length===4?(q=k.substring(1,2),q+=q,et=k.substring(2,3),et+=et,at=k.substring(3,4),at+=at):(q=k.substring(1,3),et=k.substring(3,5),at=k.substring(5,7)),q=parseInt(q,16),et=parseInt(et,16),at=parseInt(at,16)}}return{r:q,g:et,b:at,a:ct,style:k}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},L=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(k,q,et,at){if(isNaN(q)||isNaN(et)||typeof k!="string")throw Gi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(at=isNaN(at)?void 0:at,!w.call(this)){var ct=Q(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;J.call(this,{text:k,x:q,y:et,scale:gt,angle:ct,align:this.textAlign,maxWidth:at})}},y.prototype.strokeText=function(k,q,et,at){if(isNaN(q)||isNaN(et)||typeof k!="string")throw Gi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!L.call(this)){at=isNaN(at)?void 0:at;var ct=Q(this.ctx.transform.rotation),gt=this.ctx.transform.scaleX;J.call(this,{text:k,x:q,y:et,scale:gt,renderingMode:"stroke",angle:ct,align:this.textAlign,maxWidth:at})}},y.prototype.measureText=function(k){if(typeof k!="string")throw Gi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,et=this.pdf.internal.scaleFactor,at=q.internal.getFontSize(),ct=q.getStringUnitWidth(k)*at/q.internal.scaleFactor,gt=function(St){var Tt=(St=St||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Tt}}),this};return new gt({width:ct*=Math.round(96*et/72*1e4)/1e4})},y.prototype.scale=function(k,q){if(isNaN(k)||isNaN(q))throw Gi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var et=new h(k,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(et)},y.prototype.rotate=function(k){if(isNaN(k))throw Gi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new h(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},y.prototype.translate=function(k,q){if(isNaN(k)||isNaN(q))throw Gi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var et=new h(1,0,0,1,k,q);this.ctx.transform=this.ctx.transform.multiply(et)},y.prototype.transform=function(k,q,et,at,ct,gt){if(isNaN(k)||isNaN(q)||isNaN(et)||isNaN(at)||isNaN(ct)||isNaN(gt))throw Gi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var St=new h(k,q,et,at,ct,gt);this.ctx.transform=this.ctx.transform.multiply(St)},y.prototype.setTransform=function(k,q,et,at,ct,gt){k=isNaN(k)?1:k,q=isNaN(q)?0:q,et=isNaN(et)?0:et,at=isNaN(at)?1:at,ct=isNaN(ct)?0:ct,gt=isNaN(gt)?0:gt,this.ctx.transform=new h(k,q,et,at,ct,gt)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(k,q,et,at,ct,gt,St,Tt,Yt){var Gt=this.pdf.getImageProperties(k),$t=1,Kt=1,xe=1,jt=1;at!==void 0&&Tt!==void 0&&(xe=Tt/at,jt=Yt/ct,$t=Gt.width/at*Tt/at,Kt=Gt.height/ct*Yt/ct),gt===void 0&&(gt=q,St=et,q=0,et=0),at!==void 0&&Tt===void 0&&(Tt=at,Yt=ct),at===void 0&&Tt===void 0&&(Tt=Gt.width,Yt=Gt.height);for(var ht,Se=this.ctx.transform.decompose(),fe=Q(Se.rotate.shx),Xt=new h,Zt=(Xt=(Xt=(Xt=Xt.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale)).applyToRectangle(new u(gt-q*xe,St-et*jt,at*$t,ct*Kt)),te=M.call(this,Zt),ee=[],ve=0;ve<te.length;ve+=1)ee.indexOf(te[ve])===-1&&ee.push(te[ve]);if(P(ee),this.autoPaging)for(var Fe=ee[0],Ge=ee[ee.length-1],ze=Fe;ze<Ge+1;ze++){this.pdf.setPage(ze);var Pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ni=ze===1?this.posY+this.margin[0]:this.margin[0],pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],se=ze===1?0:pe+(ze-2)*Ke;if(this.ctx.clip_path.length!==0){var cs=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(ht,this.posX+this.margin[3],-se+ni+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=cs}var si=JSON.parse(JSON.stringify(Zt));si=R([si],this.posX+this.margin[3],-se+ni+this.ctx.prevPageLastElemOffset)[0];var Us=(ze>Fe||ze<Ge)&&N.call(this);Us&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,Ke,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",si.x,si.y,si.w,si.h,null,null,fe),Us&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,fe)};var M=function(k,q,et){var at=[];q=q||this.pdf.internal.pageSize.width,et=et||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ct=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":at.push(Math.floor((k.y+ct)/et)+1);break;case"arc":at.push(Math.floor((k.y+ct-k.radius)/et)+1),at.push(Math.floor((k.y+ct+k.radius)/et)+1);break;case"qct":var gt=pt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);at.push(Math.floor((gt.y+ct)/et)+1),at.push(Math.floor((gt.y+gt.h+ct)/et)+1);break;case"bct":var St=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);at.push(Math.floor((St.y+ct)/et)+1),at.push(Math.floor((St.y+St.h+ct)/et)+1);break;case"rect":at.push(Math.floor((k.y+ct)/et)+1),at.push(Math.floor((k.y+k.h+ct)/et)+1)}for(var Tt=0;Tt<at.length;Tt+=1)for(;this.pdf.internal.getNumberOfPages()<at[Tt];)E.call(this);return at},E=function(){var k=this.fillStyle,q=this.strokeStyle,et=this.font,at=this.lineCap,ct=this.lineWidth,gt=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=q,this.font=et,this.lineCap=at,this.lineWidth=ct,this.lineJoin=gt},R=function(k,q,et){for(var at=0;at<k.length;at++)switch(k[at].type){case"bct":k[at].x2+=q,k[at].y2+=et;case"qct":k[at].x1+=q,k[at].y1+=et;case"mt":case"lt":case"arc":default:k[at].x+=q,k[at].y+=et}return k},P=function(k){return k.sort(function(q,et){return q-et})},K=function(k,q){for(var et,at,ct=this.fillStyle,gt=this.strokeStyle,St=this.lineCap,Tt=this.lineWidth,Yt=Math.abs(Tt*this.ctx.transform.scaleX),Gt=this.lineJoin,$t=JSON.parse(JSON.stringify(this.path)),Kt=JSON.parse(JSON.stringify(this.path)),xe=[],jt=0;jt<Kt.length;jt++)if(Kt[jt].x!==void 0)for(var ht=M.call(this,Kt[jt]),Se=0;Se<ht.length;Se+=1)xe.indexOf(ht[Se])===-1&&xe.push(ht[Se]);for(var fe=0;fe<xe.length;fe++)for(;this.pdf.internal.getNumberOfPages()<xe[fe];)E.call(this);if(P(xe),this.autoPaging)for(var Xt=xe[0],Zt=xe[xe.length-1],te=Xt;te<Zt+1;te++){this.pdf.setPage(te),this.fillStyle=ct,this.strokeStyle=gt,this.lineCap=St,this.lineWidth=Yt,this.lineJoin=Gt;var ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=te===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=te===1?0:Fe+(te-2)*Ge;if(this.ctx.clip_path.length!==0){var Pe=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(et,this.posX+this.margin[3],-ze+ve+this.ctx.prevPageLastElemOffset),X.call(this,k,!0),this.path=Pe}if(at=JSON.parse(JSON.stringify($t)),this.path=R(at,this.posX+this.margin[3],-ze+ve+this.ctx.prevPageLastElemOffset),q===!1||te===0){var ni=(te>Xt||te<Zt)&&N.call(this);ni&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ee,Ge,null).clip().discardPath()),X.call(this,k,q),ni&&this.pdf.restoreGraphicsState()}this.lineWidth=Tt}else this.lineWidth=Yt,X.call(this,k,q),this.lineWidth=Tt;this.path=$t},X=function(k,q){if((k!=="stroke"||q||!L.call(this))&&(k==="stroke"||q||!w.call(this))){for(var et,at,ct=[],gt=this.path,St=0;St<gt.length;St++){var Tt=gt[St];switch(Tt.type){case"begin":ct.push({begin:!0});break;case"close":ct.push({close:!0});break;case"mt":ct.push({start:Tt,deltas:[],abs:[]});break;case"lt":var Yt=ct.length;if(gt[St-1]&&!isNaN(gt[St-1].x)&&(et=[Tt.x-gt[St-1].x,Tt.y-gt[St-1].y],Yt>0)){for(;Yt>=0;Yt--)if(ct[Yt-1].close!==!0&&ct[Yt-1].begin!==!0){ct[Yt-1].deltas.push(et),ct[Yt-1].abs.push(Tt);break}}break;case"bct":et=[Tt.x1-gt[St-1].x,Tt.y1-gt[St-1].y,Tt.x2-gt[St-1].x,Tt.y2-gt[St-1].y,Tt.x-gt[St-1].x,Tt.y-gt[St-1].y],ct[ct.length-1].deltas.push(et);break;case"qct":var Gt=gt[St-1].x+2/3*(Tt.x1-gt[St-1].x),$t=gt[St-1].y+2/3*(Tt.y1-gt[St-1].y),Kt=Tt.x+2/3*(Tt.x1-Tt.x),xe=Tt.y+2/3*(Tt.y1-Tt.y),jt=Tt.x,ht=Tt.y;et=[Gt-gt[St-1].x,$t-gt[St-1].y,Kt-gt[St-1].x,xe-gt[St-1].y,jt-gt[St-1].x,ht-gt[St-1].y],ct[ct.length-1].deltas.push(et);break;case"arc":ct.push({deltas:[],abs:[],arc:!0}),Array.isArray(ct[ct.length-1].abs)&&ct[ct.length-1].abs.push(Tt)}}at=q?null:k==="stroke"?"stroke":"fill";for(var Se=!1,fe=0;fe<ct.length;fe++)if(ct[fe].arc)for(var Xt=ct[fe].abs,Zt=0;Zt<Xt.length;Zt++){var te=Xt[Zt];te.type==="arc"?W.call(this,te.x,te.y,te.radius,te.startAngle,te.endAngle,te.counterclockwise,void 0,q,!Se):ut.call(this,te.x,te.y),Se=!0}else if(ct[fe].close===!0)this.pdf.internal.out("h"),Se=!1;else if(ct[fe].begin!==!0){var ee=ct[fe].start.x,ve=ct[fe].start.y;rt.call(this,ct[fe].deltas,ee,ve),Se=!0}at&&lt.call(this,at),q&&yt.call(this)}},st=function(k){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,et=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-et;case"top":return k+q-et;case"hanging":return k+q-2*et;case"middle":return k+q/2-et;case"ideographic":return k;case"alphabetic":default:return k}},it=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(q,et){this.colorStops.push([q,et])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var W=function(k,q,et,at,ct,gt,St,Tt,Yt){for(var Gt=B.call(this,et,at,ct,gt),$t=0;$t<Gt.length;$t++){var Kt=Gt[$t];$t===0&&(Yt?H.call(this,Kt.x1+k,Kt.y1+q):ut.call(this,Kt.x1+k,Kt.y1+q)),_t.call(this,k,q,Kt.x2,Kt.y2,Kt.x3,Kt.y3,Kt.x4,Kt.y4)}Tt?yt.call(this):lt.call(this,St)},lt=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},yt=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(k,q){this.pdf.internal.out(e(k)+" "+i(q)+" m")},J=function(k){var q;switch(k.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var et=this.pdf.getTextDimensions(k.text),at=st.call(this,k.y),ct=it.call(this,at)-et.h,gt=this.ctx.transform.applyToPoint(new o(k.x,at)),St=this.ctx.transform.decompose(),Tt=new h;Tt=(Tt=(Tt=Tt.multiply(St.translate)).multiply(St.skew)).multiply(St.scale);for(var Yt,Gt,$t,Kt=this.ctx.transform.applyToRectangle(new u(k.x,at,et.w,et.h)),xe=Tt.applyToRectangle(new u(k.x,ct,et.w,et.h)),jt=M.call(this,xe),ht=[],Se=0;Se<jt.length;Se+=1)ht.indexOf(jt[Se])===-1&&ht.push(jt[Se]);if(P(ht),this.autoPaging)for(var fe=ht[0],Xt=ht[ht.length-1],Zt=fe;Zt<Xt+1;Zt++){this.pdf.setPage(Zt);var te=Zt===1?this.posY+this.margin[0]:this.margin[0],ee=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],Fe=ve-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],ze=Ge-this.margin[3],Pe=Zt===1?0:ee+(Zt-2)*Fe;if(this.ctx.clip_path.length!==0){var ni=this.path;Yt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Yt,this.posX+this.margin[3],-1*Pe+te),X.call(this,"fill",!0),this.path=ni}var pe=R([JSON.parse(JSON.stringify(xe))],this.posX+this.margin[3],-Pe+te+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Gt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Gt*k.scale),$t=this.lineWidth,this.lineWidth=$t*k.scale);var Ke=this.autoPaging!=="text";if(Ke||pe.y+pe.h<=ve){if(Ke||pe.y>=te&&pe.x<=Ge){var se=Ke?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Ge-pe.x)[0],cs=R([JSON.parse(JSON.stringify(Kt))],this.posX+this.margin[3],-Pe+te+this.ctx.prevPageLastElemOffset)[0],si=Ke&&(Zt>fe||Zt<Xt)&&N.call(this);si&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,Fe,null).clip().discardPath()),this.pdf.text(se,cs.x,cs.y,{angle:k.angle,align:q,renderingMode:k.renderingMode}),si&&this.pdf.restoreGraphicsState()}}else pe.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-pe.y);k.scale>=.01&&(this.pdf.setFontSize(Gt),this.lineWidth=$t)}else k.scale>=.01&&(Gt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Gt*k.scale),$t=this.lineWidth,this.lineWidth=$t*k.scale),this.pdf.text(k.text,gt.x+this.posX,gt.y+this.posY,{angle:k.angle,align:q,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Gt),this.lineWidth=$t)},ut=function(k,q,et,at){et=et||0,at=at||0,this.pdf.internal.out(e(k+et)+" "+i(q+at)+" l")},rt=function(k,q,et){return this.pdf.lines(k,q,et,null,null)},_t=function(k,q,et,at,ct,gt,St,Tt){this.pdf.internal.out([t(a(et+k)),t(r(at+q)),t(a(ct+k)),t(r(gt+q)),t(a(St+k)),t(r(Tt+q)),"c"].join(" "))},B=function(k,q,et,at){for(var ct=2*Math.PI,gt=Math.PI/2;q>et;)q-=ct;var St=Math.abs(et-q);St<ct&&at&&(St=ct-St);for(var Tt=[],Yt=at?-1:1,Gt=q;St>1e-5;){var $t=Gt+Yt*Math.min(St,gt);Tt.push(z.call(this,k,Gt,$t)),St-=Math.abs($t-Gt),Gt=$t}return Tt},z=function(k,q,et){var at=(et-q)/2,ct=k*Math.cos(at),gt=k*Math.sin(at),St=ct,Tt=-gt,Yt=St*St+Tt*Tt,Gt=Yt+St*ct+Tt*gt,$t=4/3*(Math.sqrt(2*Yt*Gt)-Gt)/(St*gt-Tt*ct),Kt=St-$t*Tt,xe=Tt+$t*St,jt=Kt,ht=-xe,Se=at+q,fe=Math.cos(Se),Xt=Math.sin(Se);return{x1:k*Math.cos(q),y1:k*Math.sin(q),x2:Kt*fe-xe*Xt,y2:Kt*Xt+xe*fe,x3:jt*fe-ht*Xt,y3:jt*Xt+ht*fe,x4:k*Math.cos(et),y4:k*Math.sin(et)}},Q=function(k){return 180*k/Math.PI},pt=function(k,q,et,at,ct,gt){var St=k+.5*(et-k),Tt=q+.5*(at-q),Yt=ct+.5*(et-ct),Gt=gt+.5*(at-gt),$t=Math.min(k,ct,St,Yt),Kt=Math.max(k,ct,St,Yt),xe=Math.min(q,gt,Tt,Gt),jt=Math.max(q,gt,Tt,Gt);return new u($t,xe,Kt-$t,jt-xe)},O=function(k,q,et,at,ct,gt,St,Tt){var Yt,Gt,$t,Kt,xe,jt,ht,Se,fe,Xt,Zt,te,ee,ve,Fe=et-k,Ge=at-q,ze=ct-et,Pe=gt-at,ni=St-ct,pe=Tt-gt;for(Gt=0;Gt<41;Gt++)fe=(ht=($t=k+(Yt=Gt/40)*Fe)+Yt*((xe=et+Yt*ze)-$t))+Yt*(xe+Yt*(ct+Yt*ni-xe)-ht),Xt=(Se=(Kt=q+Yt*Ge)+Yt*((jt=at+Yt*Pe)-Kt))+Yt*(jt+Yt*(gt+Yt*pe-jt)-Se),Gt==0?(Zt=fe,te=Xt,ee=fe,ve=Xt):(Zt=Math.min(Zt,fe),te=Math.min(te,Xt),ee=Math.max(ee,fe),ve=Math.max(ve,Xt));return new u(Math.round(Zt),Math.round(te),Math.round(ee-Zt),Math.round(ve-te))},ft=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,q,et=(k=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:q}));this.prevLineDash!==et&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=et)}}})(Ce.API),function(c){var t=function(r){var o,u,h,p,m,y,A,w,L,N;for(u=[],h=0,p=(r+=o="\0\0\0\0".slice(r.length%4||4)).length;p>h;h+=4)(m=(r.charCodeAt(h)<<24)+(r.charCodeAt(h+1)<<16)+(r.charCodeAt(h+2)<<8)+r.charCodeAt(h+3))!==0?(y=(m=((m=((m=((m=(m-(N=m%85))/85)-(L=m%85))/85)-(w=m%85))/85)-(A=m%85))/85)%85,u.push(y+33,A+33,w+33,L+33,N+33)):u.push(122);return function(M,E){for(var R=E;R>0;R--)M.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},e=function(r){var o,u,h,p,m,y=String,A="length",w=255,L="charCodeAt",N="slice",M="replace";for(r[N](-2),r=r[N](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),h=[],p=0,m=(r+=o="uuuuu"[N](r[A]%5||5))[A];m>p;p+=5)u=52200625*(r[L](p)-33)+614125*(r[L](p+1)-33)+7225*(r[L](p+2)-33)+85*(r[L](p+3)-33)+(r[L](p+4)-33),h.push(w&u>>24,w&u>>16,w&u>>8,w&u);return function(E,R){for(var P=R;P>0;P--)E.pop()}(h,o[A]),y.fromCharCode.apply(y,h)},i=function(r){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((r=r.replace(/\s/g,"")).indexOf(">")!==-1&&(r=r.substr(0,r.indexOf(">"))),r.length%2&&(r+="0"),o.test(r)===!1)return"";for(var u="",h=0;h<r.length;h+=2)u+=String.fromCharCode("0x"+(r[h]+r[h+1]));return u},a=function(r){for(var o=new Uint8Array(r.length),u=r.length;u--;)o[u]=r.charCodeAt(u);return r=(o=gw(o)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};c.processDataByFilters=function(r,o){var u=0,h=r||"",p=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":h=e(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=a(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(Ce.API),function(c){c.loadFile=function(t,e,i){return function(a,r,o){r=r!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(h,p,m){var y=new XMLHttpRequest,A=0,w=function(L){var N=L.length,M=[],E=String.fromCharCode;for(A=0;A<N;A+=1)M.push(E(255&L.charCodeAt(A)));return M.join("")};if(y.open("GET",h,!p),y.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(y.onload=function(){y.status===200?m(w(this.responseText)):m(void 0)}),y.send(null),p&&y.status===200)return w(y.responseText)}(a,r,o)}catch{}return u}(t,e,i)},c.loadImageFile=c.loadFile}(Ce.API),function(c){function t(){return(Me.html2canvas?Promise.resolve(Me.html2canvas):uw(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(Me.DOMPurify?Promise.resolve(Me.DOMPurify):uw(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var u=Di(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(o,u){var h=document.createElement(o);for(var p in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[p]=u.style[p];return h},r=function o(u){var h=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),p=o.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,o,1,[o])).set(u)};(r.prototype=Object.create(Promise.prototype)).constructor=r,r.convert=function(o,u){return o.__proto__=u||r.prototype,o},r.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},r.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(h){switch(i(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(h){return this.set({src:a("div",{innerHTML:o,dompurify:h})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},r.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},r.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(p,m){for(var y=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),A=p.firstChild;A;A=A.nextSibling)m!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||y.appendChild(h(A,m));return p.nodeType===1&&(p.nodeName==="CANVAS"?(y.width=p.width,y.height=p.height,y.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(y.value=p.value),y.addEventListener("load",function(){y.scrollTop=p.scrollTop,y.scrollLeft=p.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},r.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},r.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var h=this.opt.jsPDF,p=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var A=0;A<p.length;++A){var w=p[A],L=w.src.find(function(N){return N.format==="truetype"});L&&h.addFont(L.url,w.ref.name,w.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},r.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},r.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},r.prototype.output=function(o,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},r.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},r.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},r.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},r.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},r.prototype.set=function(o){if(i(o)!=="object")return this;var u=Object.keys(o||{}).map(function(h){if(h in r.template.prop)return function(){this.prop[h]=o[h]};switch(h){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[h]=o[h]}}},this);return this.then(function(){return this.thenList(u)})},r.prototype.get=function(o,u){return this.then(function(){var h=o in r.template.prop?this.prop[o]:this.opt[o];return u?u(h):h})},r.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},r.prototype.setPageSize=function(o){function u(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(o=o||Ce.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},r.prototype.setProgress=function(o,u,h,p){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},r.prototype.updateProgress=function(o,u,h,p){return this.setProgress(o?this.progress.val+o:null,u||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},r.prototype.then=function(o,u){var h=this;return this.thenCore(o,u,function(p,m){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,p),y}).then(p,m).then(function(y){return h.updateProgress(1),y})})},r.prototype.thenCore=function(o,u,h){h=h||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:r.convert(Object.assign({},this),Promise.prototype),m=h.call(p,o,u);return r.convert(m,this.__proto__)},r.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},r.prototype.thenList=function(o){var u=this;return o.forEach(function(h){u=u.thenCore(h)}),u},r.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return r.convert(u,this)},r.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},r.prototype.error=function(o){return this.then(function(){throw new Error(o)})},r.prototype.using=r.prototype.set,r.prototype.saveAs=r.prototype.save,r.prototype.export=r.prototype.output,r.prototype.run=r.prototype.then,Ce.getPageSize=function(o,u,h){if(Di(o)==="object"){var p=o;o=p.orientation,u=p.unit||u,h=p.format||h}u=u||"mm",h=h||"a4",o=(""+(o||"P")).toLowerCase();var m,y=(""+h).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var w,L=0,N=0;if(A.hasOwnProperty(y))L=A[y][1]/m,N=A[y][0]/m;else try{L=h[1],N=h[0]}catch{throw new Error("Invalid format: "+h)}if(o==="p"||o==="portrait")o="p",N>L&&(w=N,N=L,L=w);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",L>N&&(w=N,N=L,L=w)}return{width:N,height:L,unit:u,k:m,orientation:o}},c.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Aw):null;var h=new r(u);return u.worker?h:h.from(o).doCallback()}}(Ce.API),Ce.API.addJS=function(c){return OS=c,this.internal.events.subscribe("postPutResources",function(){W5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(W5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),PS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+OS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){W5!==void 0&&PS!==void 0&&this.internal.out("/Names <</JavaScript "+W5+" 0 R>>")}),this},function(c){var t;c.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),r=0;r<a.length;r++){var o=a[r],u=i.exec(o);if(u!=null){var h=u[1];e.internal.newObjectDeferredBegin(h,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,m=[];for(r=0;r<p;r++){var y=e.internal.newObject();m.push(y);var A=e.internal.getPageInfo(r+1);e.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var w=e.internal.newObject();for(e.internal.write("<< /Names [ "),r=0;r<m.length;r++)e.internal.write("(page_"+(r+1)+")"+m[r]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+w+" 0 R"),e.internal.write(">>","endobj")}}]),c.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),c.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,a,r){var o={title:a,options:r,children:[]};return i==null&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<i.children.length;r++){var o=i.children[r];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),r>0&&this.line("/Prev "+this.makeRef(i.children[r-1])),r<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[r+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var h=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var p=0;p<i.children.length;p++)this.renderItems(i.children[p])},e.outline.line=function(i){this.ctx.val+=i+`\r
`},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(i,a){for(var r=0;r<a.children.length;r++)i.count++,this.count_r(i,a.children[r]);return i.count}}])}(Ce.API),function(c){var t=[192,193,194,195,196,197,198,199];c.processJPEG=function(e,i,a,r,o,u){var h,p=this.decode.DCT_DECODE,m=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(h=function(y){for(var A,w=256*y.charCodeAt(4)+y.charCodeAt(5),L=y.length,N={width:0,height:0,numcomponents:1},M=4;M<L;M+=2){if(M+=w,t.indexOf(y.charCodeAt(M+1))!==-1){A=256*y.charCodeAt(M+5)+y.charCodeAt(M+6),N={width:256*y.charCodeAt(M+7)+y.charCodeAt(M+8),height:A,numcomponents:y.charCodeAt(M+9)};break}w=256*y.charCodeAt(M+2)+y.charCodeAt(M+3)}return N}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}m={data:e,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:p,index:i,alias:a}}return m}}(Ce.API);var hg,$5,jS,FS,IS,Y8=function(){var c,t,e;function i(r){var o,u,h,p,m,y,A,w,L,N,M,E,R,P;for(this.data=r,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),L=(function(){var K,X;for(X=[],K=0;K<4;++K)X.push(String.fromCharCode(this.data[this.pos++]));return X}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),p=this.readUInt16()||100,y.delay=1e3*m/p,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(L==="fdAT"&&(this.pos+=4,o-=4),r=(y!=null?y.data:void 0)||this.imgData,E=0;0<=o?E<o:E>o;0<=o?++E:--E)r.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((N=h-this.transparency.indexed.length)>0)for(R=0;0<=N?R<N:R>N;0<=N?++R:--R)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":A=(M=this.read(o)).indexOf(0),w=String.fromCharCode.apply(String,M.slice(0,A)),this.text[w]=String.fromCharCode.apply(String,M.slice(A+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(r){var o,u;for(u=[],o=0;0<=r?o<r:o>r;0<=r?++o:--o)u.push(this.data[this.pos++]);return u},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(r){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),h=0,p=this;if(r==null&&(r=this.imgData),r.length===0)return new Uint8Array(0);function m(y,A,w,L){var N,M,E,R,P,K,X,st,it,W,lt,yt,H,J,ut,rt,_t,B,z,Q,pt,O=Math.ceil((p.width-y)/w),ft=Math.ceil((p.height-A)/L),k=p.width==O&&p.height==ft;for(J=o*O,yt=k?u:new Uint8Array(J*ft),K=r.length,H=0,M=0;H<ft&&h<K;){switch(r[h++]){case 0:for(R=_t=0;_t<J;R=_t+=1)yt[M++]=r[h++];break;case 1:for(R=B=0;B<J;R=B+=1)N=r[h++],P=R<o?0:yt[M-o],yt[M++]=(N+P)%256;break;case 2:for(R=z=0;z<J;R=z+=1)N=r[h++],E=(R-R%o)/o,ut=H&&yt[(H-1)*J+E*o+R%o],yt[M++]=(ut+N)%256;break;case 3:for(R=Q=0;Q<J;R=Q+=1)N=r[h++],E=(R-R%o)/o,P=R<o?0:yt[M-o],ut=H&&yt[(H-1)*J+E*o+R%o],yt[M++]=(N+Math.floor((P+ut)/2))%256;break;case 4:for(R=pt=0;pt<J;R=pt+=1)N=r[h++],E=(R-R%o)/o,P=R<o?0:yt[M-o],H===0?ut=rt=0:(ut=yt[(H-1)*J+E*o+R%o],rt=E&&yt[(H-1)*J+(E-1)*o+R%o]),X=P+ut-rt,st=Math.abs(X-P),W=Math.abs(X-ut),lt=Math.abs(X-rt),it=st<=W&&st<=lt?P:W<=lt?ut:rt,yt[M++]=(N+it)%256;break;default:throw new Error("Invalid filter algorithm: "+r[h-1])}if(!k){var q=((A+H*L)*p.width+y)*o,et=H*J;for(R=0;R<O;R+=1){for(var at=0;at<o;at+=1)u[q++]=yt[et++];q+=(w-1)*o}}H++}}return r=_8(r),p.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),u},i.prototype.decodePalette=function(){var r,o,u,h,p,m,y,A,w;for(u=this.palette,m=this.transparency.indexed||[],p=new Uint8Array((m.length||0)+u.length),h=0,r=0,o=y=0,A=u.length;y<A;o=y+=3)p[h++]=u[o],p[h++]=u[o+1],p[h++]=u[o+2],p[h++]=(w=m[r++])!=null?w:255;return p},i.prototype.copyToImageData=function(r,o){var u,h,p,m,y,A,w,L,N,M,E;if(h=this.colors,N=null,u=this.hasAlphaChannel,this.palette.length&&(N=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),h=4,u=!0),L=(p=r.data||r).length,y=N||o,m=A=0,h===1)for(;m<L;)w=N?4*o[m/4]:A,M=y[w++],p[m++]=M,p[m++]=M,p[m++]=M,p[m++]=u?y[w++]:255,A=w;else for(;m<L;)w=N?4*o[m/4]:A,p[m++]=y[w++],p[m++]=y[w++],p[m++]=y[w++],p[m++]=u?y[w++]:255,A=w},i.prototype.decode=function(){var r;return r=new Uint8Array(this.width*this.height*4),this.copyToImageData(r,this.decodePixels()),r};var a=function(){if(Object.prototype.toString.call(Me)==="[object Window]"){try{t=Me.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),c=function(r){var o;if(a()===!0)return e.width=r.width,e.height=r.height,e.clearRect(0,0,r.width,r.height),e.putImageData(r,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(r){var o,u,h,p,m,y,A,w;if(this.animation){for(w=[],u=m=0,y=(A=this.animation.frames).length;m<y;u=++m)o=A[u],h=r.createImageData(o.width,o.height),p=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(h,p),o.imageData=h,w.push(o.image=c(h));return w}},i.prototype.renderFrame=function(r,o){var u,h,p;return u=(h=this.animation.frames)[o],p=h[o-1],o===0&&r.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?r.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&r.putImageData(p.imageData,p.xOffset,p.yOffset),u.blendOp===0&&r.clearRect(u.xOffset,u.yOffset,u.width,u.height),r.drawImage(u.image,u.xOffset,u.yOffset)},i.prototype.animate=function(r){var o,u,h,p,m,y,A=this;return u=0,y=this.animation,p=y.numFrames,h=y.frames,m=y.numPlays,(o=function(){var w,L;if(w=u++%p,L=h[w],A.renderFrame(r,w),p>1&&u/p<m)return A.animation._timeout=setTimeout(o,L.delay)})()},i.prototype.stopAnimation=function(){var r;return clearTimeout((r=this.animation)!=null?r._timeout:void 0)},i.prototype.render=function(r){var o,u;return r._png&&r._png.stopAnimation(),r._png=this,r.width=this.width,r.height=this.height,o=r.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function X8(c){var t=0;if(c[t++]!==71||c[t++]!==73||c[t++]!==70||c[t++]!==56||(c[t++]+1&253)!=56||c[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=c[t++]|c[t++]<<8,i=c[t++]|c[t++]<<8,a=c[t++],r=a>>7,o=1<<(7&a)+1;c[t++],c[t++];var u=null,h=null;r&&(u=t,h=o,t+=3*o);var p=!0,m=[],y=0,A=null,w=0,L=null;for(this.width=e,this.height=i;p&&t<c.length;)switch(c[t++]){case 33:switch(c[t++]){case 255:if(c[t]!==11||c[t+1]==78&&c[t+2]==69&&c[t+3]==84&&c[t+4]==83&&c[t+5]==67&&c[t+6]==65&&c[t+7]==80&&c[t+8]==69&&c[t+9]==50&&c[t+10]==46&&c[t+11]==48&&c[t+12]==3&&c[t+13]==1&&c[t+16]==0)t+=14,L=c[t++]|c[t++]<<8,t++;else for(t+=12;;){if(!((H=c[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;case 249:if(c[t++]!==4||c[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=c[t++];y=c[t++]|c[t++]<<8,A=c[t++],(1&N)==0&&(A=null),w=N>>2&7,t++;break;case 254:for(;;){if(!((H=c[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;default:throw new Error("Unknown graphic control label: 0x"+c[t-1].toString(16))}break;case 44:var M=c[t++]|c[t++]<<8,E=c[t++]|c[t++]<<8,R=c[t++]|c[t++]<<8,P=c[t++]|c[t++]<<8,K=c[t++],X=K>>6&1,st=1<<(7&K)+1,it=u,W=h,lt=!1;K>>7&&(lt=!0,it=t,W=st,t+=3*st);var yt=t;for(t++;;){var H;if(!((H=c[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}m.push({x:M,y:E,width:R,height:P,has_local_palette:lt,palette_offset:it,palette_size:W,data_offset:yt,data_length:t-yt,transparent_index:A,interlaced:!!X,delay:y,disposal:w});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+c[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return L},this.frameInfo=function(J){if(J<0||J>=m.length)throw new Error("Frame index out of range.");return m[J]},this.decodeAndBlitFrameBGRA=function(J,ut){var rt=this.frameInfo(J),_t=rt.width*rt.height,B=new Uint8Array(_t);BS(c,rt.data_offset,B,_t);var z=rt.palette_offset,Q=rt.transparent_index;Q===null&&(Q=256);var pt=rt.width,O=e-pt,ft=pt,k=4*(rt.y*e+rt.x),q=4*((rt.y+rt.height)*e+rt.x),et=k,at=4*O;rt.interlaced===!0&&(at+=4*e*7);for(var ct=8,gt=0,St=B.length;gt<St;++gt){var Tt=B[gt];if(ft===0&&(ft=pt,(et+=at)>=q&&(at=4*O+4*e*(ct-1),et=k+(pt+O)*(ct<<1),ct>>=1)),Tt===Q)et+=4;else{var Yt=c[z+3*Tt],Gt=c[z+3*Tt+1],$t=c[z+3*Tt+2];ut[et++]=$t,ut[et++]=Gt,ut[et++]=Yt,ut[et++]=255}--ft}},this.decodeAndBlitFrameRGBA=function(J,ut){var rt=this.frameInfo(J),_t=rt.width*rt.height,B=new Uint8Array(_t);BS(c,rt.data_offset,B,_t);var z=rt.palette_offset,Q=rt.transparent_index;Q===null&&(Q=256);var pt=rt.width,O=e-pt,ft=pt,k=4*(rt.y*e+rt.x),q=4*((rt.y+rt.height)*e+rt.x),et=k,at=4*O;rt.interlaced===!0&&(at+=4*e*7);for(var ct=8,gt=0,St=B.length;gt<St;++gt){var Tt=B[gt];if(ft===0&&(ft=pt,(et+=at)>=q&&(at=4*O+4*e*(ct-1),et=k+(pt+O)*(ct<<1),ct>>=1)),Tt===Q)et+=4;else{var Yt=c[z+3*Tt],Gt=c[z+3*Tt+1],$t=c[z+3*Tt+2];ut[et++]=Yt,ut[et++]=Gt,ut[et++]=$t,ut[et++]=255}--ft}}}function BS(c,t,e,i){for(var a=c[t++],r=1<<a,o=r+1,u=o+1,h=a+1,p=(1<<h)-1,m=0,y=0,A=0,w=c[t++],L=new Int32Array(4096),N=null;;){for(;m<16&&w!==0;)y|=c[t++]<<m,m+=8,w===1?w=c[t++]:--w;if(m<h)break;var M=y&p;if(y>>=h,m-=h,M!==r){if(M===o)break;for(var E=M<u?M:N,R=0,P=E;P>r;)P=L[P]>>8,++R;var K=P;if(A+R+(E!==M?1:0)>i)return void Gi.log("Warning, gif stream longer than expected.");e[A++]=K;var X=A+=R;for(E!==M&&(e[A++]=K),P=E;R--;)P=L[P],e[--X]=255&P,P>>=8;N!==null&&u<4096&&(L[u++]=N<<8|K,u>=p+1&&h<12&&(++h,p=p<<1|1)),N=M}else u=o+1,p=(1<<(h=a+1))-1,N=null}return A!==i&&Gi.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Zy(c){var t,e,i,a,r,o=Math.floor,u=new Array(64),h=new Array(64),p=new Array(64),m=new Array(64),y=new Array(65535),A=new Array(65535),w=new Array(64),L=new Array(64),N=[],M=0,E=7,R=new Array(64),P=new Array(64),K=new Array(64),X=new Array(256),st=new Array(2048),it=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],W=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],lt=[0,1,2,3,4,5,6,7,8,9,10,11],yt=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],J=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ut=[0,1,2,3,4,5,6,7,8,9,10,11],rt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_t=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function B(k,q){for(var et=0,at=0,ct=new Array,gt=1;gt<=16;gt++){for(var St=1;St<=k[gt];St++)ct[q[at]]=[],ct[q[at]][0]=et,ct[q[at]][1]=gt,at++,et++;et*=2}return ct}function z(k){for(var q=k[0],et=k[1]-1;et>=0;)q&1<<et&&(M|=1<<E),et--,--E<0&&(M==255?(Q(255),Q(0)):Q(M),E=7,M=0)}function Q(k){N.push(k)}function pt(k){Q(k>>8&255),Q(255&k)}function O(k,q,et,at,ct){for(var gt,St=ct[0],Tt=ct[240],Yt=function(Xt,Zt){var te,ee,ve,Fe,Ge,ze,Pe,ni,pe,Ke,se=0;for(pe=0;pe<8;++pe){te=Xt[se],ee=Xt[se+1],ve=Xt[se+2],Fe=Xt[se+3],Ge=Xt[se+4],ze=Xt[se+5],Pe=Xt[se+6];var cs=te+(ni=Xt[se+7]),si=te-ni,Us=ee+Pe,li=ee-Pe,Li=ve+ze,Hs=ve-ze,vi=Fe+Ge,Ko=Fe-Ge,Ki=cs+vi,ca=cs-vi,ua=Us+Li,en=Us-Li;Xt[se]=Ki+ua,Xt[se+4]=Ki-ua;var Oe=.707106781*(en+ca);Xt[se+2]=ca+Oe,Xt[se+6]=ca-Oe;var pi=.382683433*((Ki=Ko+Hs)-(en=li+si)),so=.5411961*Ki+pi,Cn=1.306562965*en+pi,Xa=.707106781*(ua=Hs+li),Mr=si+Xa,me=si-Xa;Xt[se+5]=me+so,Xt[se+3]=me-so,Xt[se+1]=Mr+Cn,Xt[se+7]=Mr-Cn,se+=8}for(se=0,pe=0;pe<8;++pe){te=Xt[se],ee=Xt[se+8],ve=Xt[se+16],Fe=Xt[se+24],Ge=Xt[se+32],ze=Xt[se+40],Pe=Xt[se+48];var Oi=te+(ni=Xt[se+56]),Qi=te-ni,Tn=ee+Pe,dn=ee-Pe,An=ve+ze,ha=ve-ze,rc=Fe+Ge,da=Fe-Ge,fa=Oi+rc,us=Oi-rc,hs=Tn+An,Gs=Tn-An;Xt[se]=fa+hs,Xt[se+32]=fa-hs;var Jn=.707106781*(Gs+us);Xt[se+16]=us+Jn,Xt[se+48]=us-Jn;var Ci=.382683433*((fa=da+ha)-(Gs=dn+Qi)),Qo=.5411961*fa+Ci,oc=1.306562965*Gs+Ci,Ma=.707106781*(hs=ha+dn),Wa=Qi+Ma,Eu=Qi-Ma;Xt[se+40]=Eu+Qo,Xt[se+24]=Eu-Qo,Xt[se+8]=Wa+oc,Xt[se+56]=Wa-oc,se++}for(pe=0;pe<64;++pe)Ke=Xt[pe]*Zt[pe],w[pe]=Ke>0?Ke+.5|0:Ke-.5|0;return w}(k,q),Gt=0;Gt<64;++Gt)L[it[Gt]]=Yt[Gt];var $t=L[0]-et;et=L[0],$t==0?z(at[0]):(z(at[A[gt=32767+$t]]),z(y[gt]));for(var Kt=63;Kt>0&&L[Kt]==0;)Kt--;if(Kt==0)return z(St),et;for(var xe,jt=1;jt<=Kt;){for(var ht=jt;L[jt]==0&&jt<=Kt;)++jt;var Se=jt-ht;if(Se>=16){xe=Se>>4;for(var fe=1;fe<=xe;++fe)z(Tt);Se&=15}gt=32767+L[jt],z(ct[(Se<<4)+A[gt]]),z(y[gt]),jt++}return Kt!=63&&z(St),et}function ft(k){k=Math.min(Math.max(k,1),100),r!=k&&(function(q){for(var et=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],at=0;at<64;at++){var ct=o((et[at]*q+50)/100);ct=Math.min(Math.max(ct,1),255),u[it[at]]=ct}for(var gt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],St=0;St<64;St++){var Tt=o((gt[St]*q+50)/100);Tt=Math.min(Math.max(Tt,1),255),h[it[St]]=Tt}for(var Yt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Gt=0,$t=0;$t<8;$t++)for(var Kt=0;Kt<8;Kt++)p[Gt]=1/(u[it[Gt]]*Yt[$t]*Yt[Kt]*8),m[Gt]=1/(h[it[Gt]]*Yt[$t]*Yt[Kt]*8),Gt++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),r=k)}this.encode=function(k,q){q&&ft(q),N=new Array,M=0,E=7,pt(65496),pt(65504),pt(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),pt(1),pt(1),Q(0),Q(0),function(){pt(65499),pt(132),Q(0);for(var ee=0;ee<64;ee++)Q(u[ee]);Q(1);for(var ve=0;ve<64;ve++)Q(h[ve])}(),function(ee,ve){pt(65472),pt(17),Q(8),pt(ve),pt(ee),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(k.width,k.height),function(){pt(65476),pt(418),Q(0);for(var ee=0;ee<16;ee++)Q(W[ee+1]);for(var ve=0;ve<=11;ve++)Q(lt[ve]);Q(16);for(var Fe=0;Fe<16;Fe++)Q(yt[Fe+1]);for(var Ge=0;Ge<=161;Ge++)Q(H[Ge]);Q(1);for(var ze=0;ze<16;ze++)Q(J[ze+1]);for(var Pe=0;Pe<=11;Pe++)Q(ut[Pe]);Q(17);for(var ni=0;ni<16;ni++)Q(rt[ni+1]);for(var pe=0;pe<=161;pe++)Q(_t[pe])}(),pt(65498),pt(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var et=0,at=0,ct=0;M=0,E=7,this.encode.displayName="_encode_";for(var gt,St,Tt,Yt,Gt,$t,Kt,xe,jt,ht=k.data,Se=k.width,fe=k.height,Xt=4*Se,Zt=0;Zt<fe;){for(gt=0;gt<Xt;){for(Gt=Xt*Zt+gt,Kt=-1,xe=0,jt=0;jt<64;jt++)$t=Gt+(xe=jt>>3)*Xt+(Kt=4*(7&jt)),Zt+xe>=fe&&($t-=Xt*(Zt+1+xe-fe)),gt+Kt>=Xt&&($t-=gt+Kt-Xt+4),St=ht[$t++],Tt=ht[$t++],Yt=ht[$t++],R[jt]=(st[St]+st[Tt+256>>0]+st[Yt+512>>0]>>16)-128,P[jt]=(st[St+768>>0]+st[Tt+1024>>0]+st[Yt+1280>>0]>>16)-128,K[jt]=(st[St+1280>>0]+st[Tt+1536>>0]+st[Yt+1792>>0]>>16)-128;et=O(R,p,et,t,i),at=O(P,m,at,e,a),ct=O(K,m,ct,e,a),gt+=32}Zt+=8}if(E>=0){var te=[];te[1]=E+1,te[0]=(1<<E+1)-1,z(te)}return pt(65497),new Uint8Array(N)},c=c||50,function(){for(var k=String.fromCharCode,q=0;q<256;q++)X[q]=k(q)}(),t=B(W,lt),e=B(J,ut),i=B(yt,H),a=B(rt,_t),function(){for(var k=1,q=2,et=1;et<=15;et++){for(var at=k;at<q;at++)A[32767+at]=et,y[32767+at]=[],y[32767+at][1]=et,y[32767+at][0]=at;for(var ct=-(q-1);ct<=-k;ct++)A[32767+ct]=et,y[32767+ct]=[],y[32767+ct][1]=et,y[32767+ct][0]=q-1+ct;k<<=1,q<<=1}}(),function(){for(var k=0;k<256;k++)st[k]=19595*k,st[k+256>>0]=38470*k,st[k+512>>0]=7471*k+32768,st[k+768>>0]=-11059*k,st[k+1024>>0]=-21709*k,st[k+1280>>0]=32768*k+8421375,st[k+1536>>0]=-27439*k,st[k+1792>>0]=-5329*k}(),ft(c)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ro(c,t){if(this.pos=0,this.buffer=c,this.datav=new DataView(c.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zS(c){function t(W){if(!W)throw Error("assert :P")}function e(W,lt,yt){for(var H=0;4>H;H++)if(W[lt+H]!=yt.charCodeAt(H))return!0;return!1}function i(W,lt,yt,H,J){for(var ut=0;ut<J;ut++)W[lt+ut]=yt[H+ut]}function a(W,lt,yt,H){for(var J=0;J<H;J++)W[lt+J]=yt}function r(W){return new Int32Array(W)}function o(W,lt){for(var yt=[],H=0;H<W;H++)yt.push(new lt);return yt}function u(W,lt){var yt=[];return function H(J,ut,rt){for(var _t=rt[ut],B=0;B<_t&&(J.push(rt.length>ut+1?[]:new lt),!(rt.length<ut+1));B++)H(J[B],ut+1,rt)}(yt,0,W),yt}var h=function(){var W=this;function lt(g,v){for(var _=1<<v-1>>>0;g&_;)_>>>=1;return _?(g&_-1)+_:g}function yt(g,v,_,C,j){t(!(C%_));do g[v+(C-=_)]=j;while(0<C)}function H(g,v,_,C,j){if(t(2328>=j),512>=j)var G=r(512);else if((G=r(j))==null)return 0;return function(V,$,tt,nt,bt,Mt){var Lt,xt,qt=$,Pt=1<<tt,vt=r(16),At=r(16);for(t(bt!=0),t(nt!=null),t(V!=null),t(0<tt),xt=0;xt<bt;++xt){if(15<nt[xt])return 0;++vt[nt[xt]]}if(vt[0]==bt)return 0;for(At[1]=0,Lt=1;15>Lt;++Lt){if(vt[Lt]>1<<Lt)return 0;At[Lt+1]=At[Lt]+vt[Lt]}for(xt=0;xt<bt;++xt)Lt=nt[xt],0<nt[xt]&&(Mt[At[Lt]++]=xt);if(At[15]==1)return(nt=new J).g=0,nt.value=Mt[0],yt(V,qt,1,Pt,nt),Pt;var Ft,Ut=-1,Bt=Pt-1,ae=0,Qt=1,ye=1,Jt=1<<tt;for(xt=0,Lt=1,bt=2;Lt<=tt;++Lt,bt<<=1){if(Qt+=ye<<=1,0>(ye-=vt[Lt]))return 0;for(;0<vt[Lt];--vt[Lt])(nt=new J).g=Lt,nt.value=Mt[xt++],yt(V,qt+ae,bt,Jt,nt),ae=lt(ae,Lt)}for(Lt=tt+1,bt=2;15>=Lt;++Lt,bt<<=1){if(Qt+=ye<<=1,0>(ye-=vt[Lt]))return 0;for(;0<vt[Lt];--vt[Lt]){if(nt=new J,(ae&Bt)!=Ut){for(qt+=Jt,Ft=1<<(Ut=Lt)-tt;15>Ut&&!(0>=(Ft-=vt[Ut]));)++Ut,Ft<<=1;Pt+=Jt=1<<(Ft=Ut-tt),V[$+(Ut=ae&Bt)].g=Ft+tt,V[$+Ut].value=qt-$-Ut}nt.g=Lt-tt,nt.value=Mt[xt++],yt(V,qt+(ae>>tt),bt,Jt,nt),ae=lt(ae,Lt)}}return Qt!=2*At[15]-1?0:Pt}(g,v,_,C,j,G)}function J(){this.value=this.g=0}function ut(){this.value=this.g=0}function rt(){this.G=o(5,J),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Mn,ut)}function _t(g,v,_,C){t(g!=null),t(v!=null),t(2147483648>C),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=v,g.pa=_,g.Jd=v,g.Yc=_+C,g.Zc=4<=C?_+C-4+1:_,gt(g)}function B(g,v){for(var _=0;0<v--;)_|=Tt(g,128)<<v;return _}function z(g,v){var _=B(g,v);return St(g)?-_:_}function Q(g,v,_,C){var j,G=0;for(t(g!=null),t(v!=null),t(4294967288>C),g.Sb=C,g.Ra=0,g.u=0,g.h=0,4<C&&(C=4),j=0;j<C;++j)G+=v[_+j]<<8*j;g.Ra=G,g.bb=C,g.oa=v,g.pa=_}function pt(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<mc-8>>>0,++g.bb,g.u-=8;et(g)&&(g.h=1,g.u=0)}function O(g,v){if(t(0<=v),!g.h&&v<=gc){var _=q(g)&ll[v];return g.u+=v,pt(g),_}return g.h=1,g.u=0}function ft(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(g){return g.Ra>>>(g.u&mc-1)>>>0}function et(g){return t(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>mc}function at(g,v){g.u=v,g.h=et(g)}function ct(g){g.u>=Uu&&(t(g.u>=Uu),pt(g))}function gt(g){t(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(t(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function St(g){return B(g,1)}function Tt(g,v){var _=g.Ca;0>g.b&&gt(g);var C=g.b,j=_*v>>>8,G=(g.I>>>C>j)+0;for(G?(_-=j,g.I-=j+1<<C>>>0):_=j+1,C=_,j=0;256<=C;)j+=8,C>>=8;return C=7^j+Xs[C],g.b-=C,g.Ca=(_<<C)-1,G}function Yt(g,v,_){g[v+0]=_>>24&255,g[v+1]=_>>16&255,g[v+2]=_>>8&255,g[v+3]=_>>0&255}function Gt(g,v){return g[v+0]<<0|g[v+1]<<8}function $t(g,v){return Gt(g,v)|g[v+2]<<16}function Kt(g,v){return Gt(g,v)|Gt(g,v+2)<<16}function xe(g,v){var _=1<<v;return t(g!=null),t(0<v),g.X=r(_),g.X==null?0:(g.Mb=32-v,g.Xa=v,1)}function jt(g,v){t(g!=null),t(v!=null),t(g.Xa==v.Xa),i(v.X,0,g.X,0,1<<v.Xa)}function ht(){this.X=[],this.Xa=this.Mb=0}function Se(g,v,_,C){t(_!=null),t(C!=null);var j=_[0],G=C[0];return j==0&&(j=(g*G+v/2)/v),G==0&&(G=(v*j+g/2)/g),0>=j||0>=G?0:(_[0]=j,C[0]=G,1)}function fe(g,v){return g+(1<<v)-1>>>v}function Xt(g,v){return((4278255360&g)+(4278255360&v)>>>0&4278255360)+((16711935&g)+(16711935&v)>>>0&16711935)>>>0}function Zt(g,v){W[v]=function(_,C,j,G,V,$,tt){var nt;for(nt=0;nt<V;++nt){var bt=W[g]($[tt+nt-1],j,G+nt);$[tt+nt]=Xt(_[C+nt],bt)}}}function te(){this.ud=this.hd=this.jd=0}function ee(g,v){return((4278124286&(g^v))>>>1)+(g&v)>>>0}function ve(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Fe(g,v){return ve(g+(g-v+.5>>1))}function Ge(g,v,_){return Math.abs(v-_)-Math.abs(g-_)}function ze(g,v,_,C,j,G,V){for(C=G[V-1],_=0;_<j;++_)G[V+_]=C=Xt(g[v+_],C)}function Pe(g,v,_,C,j){var G;for(G=0;G<_;++G){var V=g[v+G],$=V>>8&255,tt=16711935&(tt=(tt=16711935&V)+(($<<16)+$));C[j+G]=(4278255360&V)+tt>>>0}}function ni(g,v){v.jd=g>>0&255,v.hd=g>>8&255,v.ud=g>>16&255}function pe(g,v,_,C,j,G){var V;for(V=0;V<C;++V){var $=v[_+V],tt=$>>>8,nt=$,bt=255&(bt=(bt=$>>>16)+((g.jd<<24>>24)*(tt<<24>>24)>>>5));nt=255&(nt=(nt=nt+((g.hd<<24>>24)*(tt<<24>>24)>>>5))+((g.ud<<24>>24)*(bt<<24>>24)>>>5)),j[G+V]=(4278255360&$)+(bt<<16)+nt}}function Ke(g,v,_,C,j){W[v]=function(G,V,$,tt,nt,bt,Mt,Lt,xt){for(tt=Mt;tt<Lt;++tt)for(Mt=0;Mt<xt;++Mt)nt[bt++]=j($[C(G[V++])])},W[g]=function(G,V,$,tt,nt,bt,Mt){var Lt=8>>G.b,xt=G.Ea,qt=G.K[0],Pt=G.w;if(8>Lt)for(G=(1<<G.b)-1,Pt=(1<<Lt)-1;V<$;++V){var vt,At=0;for(vt=0;vt<xt;++vt)vt&G||(At=C(tt[nt++])),bt[Mt++]=j(qt[At&Pt]),At>>=Lt}else W["VP8LMapColor"+_](tt,nt,qt,Pt,bt,Mt,V,$,xt)}}function se(g,v,_,C,j){for(_=v+_;v<_;){var G=g[v++];C[j++]=G>>16&255,C[j++]=G>>8&255,C[j++]=G>>0&255}}function cs(g,v,_,C,j){for(_=v+_;v<_;){var G=g[v++];C[j++]=G>>16&255,C[j++]=G>>8&255,C[j++]=G>>0&255,C[j++]=G>>24&255}}function si(g,v,_,C,j){for(_=v+_;v<_;){var G=(V=g[v++])>>16&240|V>>12&15,V=V>>0&240|V>>28&15;C[j++]=G,C[j++]=V}}function Us(g,v,_,C,j){for(_=v+_;v<_;){var G=(V=g[v++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;C[j++]=G,C[j++]=V}}function li(g,v,_,C,j){for(_=v+_;v<_;){var G=g[v++];C[j++]=G>>0&255,C[j++]=G>>8&255,C[j++]=G>>16&255}}function Li(g,v,_,C,j,G){if(G==0)for(_=v+_;v<_;)Yt(C,((G=g[v++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),j+=32;else i(C,j,g,v,_)}function Hs(g,v){W[v][0]=W[g+"0"],W[v][1]=W[g+"1"],W[v][2]=W[g+"2"],W[v][3]=W[g+"3"],W[v][4]=W[g+"4"],W[v][5]=W[g+"5"],W[v][6]=W[g+"6"],W[v][7]=W[g+"7"],W[v][8]=W[g+"8"],W[v][9]=W[g+"9"],W[v][10]=W[g+"10"],W[v][11]=W[g+"11"],W[v][12]=W[g+"12"],W[v][13]=W[g+"13"],W[v][14]=W[g+"0"],W[v][15]=W[g+"0"]}function vi(g){return g==jd||g==vl||g==yo||g==Yu}function Ko(){this.eb=[],this.size=this.A=this.fb=0}function Ki(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ca(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ko,this.f.kb=new Ki,this.sd=null}function ua(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function en(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Oe(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function pi(g,v){var _=g.T,C=v.ba.f.RGBA,j=C.eb,G=C.fb+g.ka*C.A,V=Yn[v.ba.S],$=g.y,tt=g.O,nt=g.f,bt=g.N,Mt=g.ea,Lt=g.W,xt=v.cc,qt=v.dc,Pt=v.Mc,vt=v.Nc,At=g.ka,Ft=g.ka+g.T,Ut=g.U,Bt=Ut+1>>1;for(At==0?V($,tt,null,null,nt,bt,Mt,Lt,nt,bt,Mt,Lt,j,G,null,null,Ut):(V(v.ec,v.fc,$,tt,xt,qt,Pt,vt,nt,bt,Mt,Lt,j,G-C.A,j,G,Ut),++_);At+2<Ft;At+=2)xt=nt,qt=bt,Pt=Mt,vt=Lt,bt+=g.Rc,Lt+=g.Rc,G+=2*C.A,V($,(tt+=2*g.fa)-g.fa,$,tt,xt,qt,Pt,vt,nt,bt,Mt,Lt,j,G-C.A,j,G,Ut);return tt+=g.fa,g.j+Ft<g.o?(i(v.ec,v.fc,$,tt,Ut),i(v.cc,v.dc,nt,bt,Bt),i(v.Mc,v.Nc,Mt,Lt,Bt),_--):1&Ft||V($,tt,null,null,nt,bt,Mt,Lt,nt,bt,Mt,Lt,j,G+C.A,null,null,Ut),_}function so(g,v,_){var C=g.F,j=[g.J];if(C!=null){var G=g.U,V=v.ba.S,$=V==Ac||V==yo;v=v.ba.f.RGBA;var tt=[0],nt=g.ka;tt[0]=g.T,g.Kb&&(nt==0?--tt[0]:(--nt,j[0]-=g.width),g.j+g.ka+g.T==g.o&&(tt[0]=g.o-g.j-nt));var bt=v.eb;nt=v.fb+nt*v.A,g=Ze(C,j[0],g.width,G,tt,bt,nt+($?0:3),v.A),t(_==tt),g&&vi(V)&&ba(bt,nt,$,G,tt,v.A)}return 0}function Cn(g){var v=g.ma,_=v.ba.S,C=11>_,j=_==Vu||_==Od||_==Ac||_==vo||_==12||vi(_);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ol(v.Oa,g,j?11:12))return 0;if(j&&vi(_)&&Vt(),g.da)alert("todo:use_scaling");else{if(C){if(v.Ib=Oe,g.Kb){if(_=g.U+1>>1,v.memory=r(g.U+2*_),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+g.U,v.Mc=v.cc,v.Nc=v.dc+_,v.Ib=pi,Vt()}}else alert("todo:EmitYUV");j&&(v.Jb=so,C&&Et())}if(C&&!K2){for(g=0;256>g;++g)kv[g]=89858*(g-128)+Rn>>qr,Bd[g]=-22014*(g-128)+Rn,Km[g]=-45773*(g-128),Dn[g]=113618*(g-128)+Rn>>qr;for(g=Al;g<qp;++g)v=76283*(g-16)+Rn>>qr,zd[g-Al]=ma(v,255),Qm[g-Al]=ma(v+8>>4,15);K2=1}return 1}function Xa(g){var v=g.ma,_=g.U,C=g.T;return t(!(1&g.ka)),0>=_||0>=C?0:(_=v.Ib(g,v),v.Jb!=null&&v.Jb(g,v,_),v.Dc+=_,1)}function Mr(g){g.ma.memory=null}function me(g,v,_,C){return O(g,8)!=47?0:(v[0]=O(g,14)+1,_[0]=O(g,14)+1,C[0]=O(g,1),O(g,3)!=0?0:!g.h)}function Oi(g,v){if(4>g)return g+1;var _=g-2>>1;return(2+(1&g)<<_)+O(v,_)+1}function Qi(g,v){return 120<v?v-120:1<=(_=((_=Ao[v-1])>>4)*g+(8-(15&_)))?_:1;var _}function Tn(g,v,_){var C=q(_),j=g[v+=255&C].g-8;return 0<j&&(at(_,_.u+8),C=q(_),v+=g[v].value,v+=C&(1<<j)-1),at(_,_.u+g[v].g),g[v].value}function dn(g,v,_){return _.g+=g.g,_.value+=g.value<<v>>>0,t(8>=_.g),g.g}function An(g,v,_){var C=g.xc;return t((v=C==0?0:g.vc[g.md*(_>>C)+(v>>C)])<g.Wb),g.Ya[v]}function ha(g,v,_,C){var j=g.ab,G=g.c*v,V=g.C;v=V+v;var $=_,tt=C;for(C=g.Ta,_=g.Ua;0<j--;){var nt=g.gc[j],bt=V,Mt=v,Lt=$,xt=tt,qt=(tt=C,$=_,nt.Ea);switch(t(bt<Mt),t(Mt<=nt.nc),nt.hc){case 2:Pp(Lt,xt,(Mt-bt)*qt,tt,$);break;case 0:var Pt=bt,vt=Mt,At=tt,Ft=$,Ut=(Jt=nt).Ea;Pt==0&&(Wm(Lt,xt,null,null,1,At,Ft),ze(Lt,xt+1,0,0,Ut-1,At,Ft+1),xt+=Ut,Ft+=Ut,++Pt);for(var Bt=1<<Jt.b,ae=Bt-1,Qt=fe(Ut,Jt.b),ye=Jt.K,Jt=Jt.w+(Pt>>Jt.b)*Qt;Pt<vt;){var hi=ye,yi=Jt,We=1;for(Dd(Lt,xt,At,Ft-Ut,1,At,Ft);We<Ut;){var Ye=(We&~ae)+Bt;Ye>Ut&&(Ye=Ut),(0,go[hi[yi++]>>8&15])(Lt,xt+ +We,At,Ft+We-Ut,Ye-We,At,Ft+We),We=Ye}xt+=Ut,Ft+=Ut,++Pt&ae||(Jt+=Qt)}Mt!=nt.nc&&i(tt,$-qt,tt,$+(Mt-bt-1)*qt,qt);break;case 1:for(qt=Lt,vt=xt,Ut=(Lt=nt.Ea)-(Ft=Lt&~(At=(xt=1<<nt.b)-1)),Pt=fe(Lt,nt.b),Bt=nt.K,nt=nt.w+(bt>>nt.b)*Pt;bt<Mt;){for(ae=Bt,Qt=nt,ye=new te,Jt=vt+Ft,hi=vt+Lt;vt<Jt;)ni(ae[Qt++],ye),ul(ye,qt,vt,xt,tt,$),vt+=xt,$+=xt;vt<hi&&(ni(ae[Qt++],ye),ul(ye,qt,vt,Ut,tt,$),vt+=Ut,$+=Ut),++bt&At||(nt+=Pt)}break;case 3:if(Lt==tt&&xt==$&&0<nt.b){for(vt=tt,Lt=qt=$+(Mt-bt)*qt-(Ft=(Mt-bt)*fe(nt.Ea,nt.b)),xt=tt,At=$,Pt=[],Ft=(Ut=Ft)-1;0<=Ft;--Ft)Pt[Ft]=xt[At+Ft];for(Ft=Ut-1;0<=Ft;--Ft)vt[Lt+Ft]=Pt[Ft];Da(nt,bt,Mt,tt,qt,tt,$)}else Da(nt,bt,Mt,Lt,xt,tt,$)}$=C,tt=_}tt!=_&&i(C,_,$,tt,G)}function rc(g,v){var _=g.V,C=g.Ba+g.c*g.C,j=v-g.C;if(t(v<=g.l.o),t(16>=j),0<j){var G=g.l,V=g.Ta,$=g.Ua,tt=G.width;if(ha(g,j,_,C),j=$=[$],t((_=g.C)<(C=v)),t(G.v<G.va),C>G.o&&(C=G.o),_<G.j){var nt=G.j-_;_=G.j,j[0]+=nt*tt}if(_>=C?_=0:(j[0]+=4*G.v,G.ka=_-G.j,G.U=G.va-G.v,G.T=C-_,_=1),_){if($=$[0],11>(_=g.ca).S){var bt=_.f.RGBA,Mt=(C=_.S,j=G.U,G=G.T,nt=bt.eb,bt.A),Lt=G;for(bt=bt.fb+g.Ma*bt.A;0<Lt--;){var xt=V,qt=$,Pt=j,vt=nt,At=bt;switch(C){case fs:Es(xt,qt,Pt,vt,At);break;case Vu:ts(xt,qt,Pt,vt,At);break;case jd:ts(xt,qt,Pt,vt,At),ba(vt,At,0,Pt,1,0);break;case Fr:Ja(xt,qt,Pt,vt,At);break;case Od:Li(xt,qt,Pt,vt,At,1);break;case vl:Li(xt,qt,Pt,vt,At,1),ba(vt,At,0,Pt,1,0);break;case Ac:Li(xt,qt,Pt,vt,At,0);break;case yo:Li(xt,qt,Pt,vt,At,0),ba(vt,At,1,Pt,1,0);break;case vo:hl(xt,qt,Pt,vt,At);break;case Yu:hl(xt,qt,Pt,vt,At),Qe(vt,At,Pt,1,0);break;case jp:Ws(xt,qt,Pt,vt,At);break;default:t(0)}$+=tt,bt+=Mt}g.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(g.Ma<=_.height)}}g.C=v,t(g.C<=g.i)}function da(g){var v;if(0<g.ua)return 0;for(v=0;v<g.Wb;++v){var _=g.Ya[v].G,C=g.Ya[v].H;if(0<_[1][C[1]+0].g||0<_[2][C[2]+0].g||0<_[3][C[3]+0].g)return 0}return 1}function fa(g,v,_,C,j,G){if(g.Z!=0){var V=g.qd,$=g.rd;for(t(Br[g.Z]!=null);v<_;++v)Br[g.Z](V,$,C,j,C,j,G),V=C,$=j,j+=G;g.qd=V,g.rd=$}}function us(g,v){var _=g.l.ma,C=_.Z==0||_.Z==1?g.l.j:g.C;if(C=g.C<C?C:g.C,t(v<=g.l.o),v>C){var j=g.l.width,G=_.ca,V=_.tb+j*C,$=g.V,tt=g.Ba+g.c*C,nt=g.gc;t(g.ab==1),t(nt[0].hc==3),cl(nt[0],C,v,$,tt,G,V),fa(_,C,v,G,V,j)}g.C=g.Ma=v}function hs(g,v,_,C,j,G,V){var $=g.$/C,tt=g.$%C,nt=g.m,bt=g.s,Mt=_+g.$,Lt=Mt;j=_+C*j;var xt=_+C*G,qt=280+bt.ua,Pt=g.Pb?$:16777216,vt=0<bt.ua?bt.Wa:null,At=bt.wc,Ft=Mt<xt?An(bt,tt,$):null;t(g.C<G),t(xt<=j);var Ut=!1;t:for(;;){for(;Ut||Mt<xt;){var Bt=0;if($>=Pt){var ae=Mt-_;t((Pt=g).Pb),Pt.wd=Pt.m,Pt.xd=ae,0<Pt.s.ua&&jt(Pt.s.Wa,Pt.s.vb),Pt=$+X2}if(tt&At||(Ft=An(bt,tt,$)),t(Ft!=null),Ft.Qb&&(v[Mt]=Ft.qb,Ut=!0),!Ut)if(ct(nt),Ft.jc){Bt=nt,ae=v;var Qt=Mt,ye=Ft.pd[q(Bt)&Mn-1];t(Ft.jc),256>ye.g?(at(Bt,Bt.u+ye.g),ae[Qt]=ye.value,Bt=0):(at(Bt,Bt.u+ye.g-256),t(256<=ye.value),Bt=ye.value),Bt==0&&(Ut=!0)}else Bt=Tn(Ft.G[0],Ft.H[0],nt);if(nt.h)break;if(Ut||256>Bt){if(!Ut)if(Ft.nd)v[Mt]=(Ft.qb|Bt<<8)>>>0;else{if(ct(nt),Ut=Tn(Ft.G[1],Ft.H[1],nt),ct(nt),ae=Tn(Ft.G[2],Ft.H[2],nt),Qt=Tn(Ft.G[3],Ft.H[3],nt),nt.h)break;v[Mt]=(Qt<<24|Ut<<16|Bt<<8|ae)>>>0}if(Ut=!1,++Mt,++tt>=C&&(tt=0,++$,V!=null&&$<=G&&!($%16)&&V(g,$),vt!=null))for(;Lt<Mt;)Bt=v[Lt++],vt.X[(506832829*Bt&4294967295)>>>vt.Mb]=Bt}else if(280>Bt){if(Bt=Oi(Bt-256,nt),ae=Tn(Ft.G[4],Ft.H[4],nt),ct(nt),ae=Qi(C,ae=Oi(ae,nt)),nt.h)break;if(Mt-_<ae||j-Mt<Bt)break t;for(Qt=0;Qt<Bt;++Qt)v[Mt+Qt]=v[Mt+Qt-ae];for(Mt+=Bt,tt+=Bt;tt>=C;)tt-=C,++$,V!=null&&$<=G&&!($%16)&&V(g,$);if(t(Mt<=j),tt&At&&(Ft=An(bt,tt,$)),vt!=null)for(;Lt<Mt;)Bt=v[Lt++],vt.X[(506832829*Bt&4294967295)>>>vt.Mb]=Bt}else{if(!(Bt<qt))break t;for(Ut=Bt-280,t(vt!=null);Lt<Mt;)Bt=v[Lt++],vt.X[(506832829*Bt&4294967295)>>>vt.Mb]=Bt;Bt=Mt,t(!(Ut>>>(ae=vt).Xa)),v[Bt]=ae.X[Ut],Ut=!0}Ut||t(nt.h==et(nt))}if(g.Pb&&nt.h&&Mt<j)t(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&jt(g.s.vb,g.s.Wa);else{if(nt.h)break t;V!=null&&V(g,$>G?G:$),g.a=0,g.$=Mt-_}return 1}return g.a=3,0}function Gs(g){t(g!=null),g.vc=null,g.yc=null,g.Ya=null;var v=g.Wa;v!=null&&(v.X=null),g.vb=null,t(g!=null)}function Jn(){var g=new Xm;return g==null?null:(g.a=0,g.xb=Xu,Hs("Predictor","VP8LPredictors"),Hs("Predictor","VP8LPredictors_C"),Hs("PredictorAdd","VP8LPredictorsAdd"),Hs("PredictorAdd","VP8LPredictorsAdd_C"),Pp=Pe,ul=pe,Es=se,ts=cs,hl=si,Ws=Us,Ja=li,W.VP8LMapColor32b=Gn,W.VP8LMapColor8b=Pd,g)}function Ci(g,v,_,C,j){var G=1,V=[g],$=[v],tt=C.m,nt=C.s,bt=null,Mt=0;t:for(;;){if(_)for(;G&&O(tt,1);){var Lt=V,xt=$,qt=C,Pt=1,vt=qt.m,At=qt.gc[qt.ab],Ft=O(vt,2);if(qt.Oc&1<<Ft)G=0;else{switch(qt.Oc|=1<<Ft,At.hc=Ft,At.Ea=Lt[0],At.nc=xt[0],At.K=[null],++qt.ab,t(4>=qt.ab),Ft){case 0:case 1:At.b=O(vt,3)+2,Pt=Ci(fe(At.Ea,At.b),fe(At.nc,At.b),0,qt,At.K),At.K=At.K[0];break;case 3:var Ut,Bt=O(vt,8)+1,ae=16<Bt?0:4<Bt?1:2<Bt?2:3;if(Lt[0]=fe(At.Ea,ae),At.b=ae,Ut=Pt=Ci(Bt,1,0,qt,At.K)){var Qt,ye=Bt,Jt=At,hi=1<<(8>>Jt.b),yi=r(hi);if(yi==null)Ut=0;else{var We=Jt.K[0],Ye=Jt.w;for(yi[0]=Jt.K[0][0],Qt=1;Qt<1*ye;++Qt)yi[Qt]=Xt(We[Ye+Qt],yi[Qt-1]);for(;Qt<4*hi;++Qt)yi[Qt]=0;Jt.K[0]=null,Jt.K[0]=yi,Ut=1}}Pt=Ut;break;case 2:break;default:t(0)}G=Pt}}if(V=V[0],$=$[0],G&&O(tt,1)&&!(G=1<=(Mt=O(tt,4))&&11>=Mt)){C.a=3;break t}var Ni;if(Ni=G)e:{var wi,Ie,Ti,_e=C,Te=V,ci=$,di=Mt,Xn=_,Pn=_e.m,mn=_e.s,bn=[null],Sn=1,Fa=0,Ai=Sc[di];i:for(;;){if(Xn&&O(Pn,1)){var _n=O(Pn,3)+2,ir=fe(Te,_n),xl=fe(ci,_n),Ec=ir*xl;if(!Ci(ir,xl,0,_e,bn))break i;for(bn=bn[0],mn.xc=_n,wi=0;wi<Ec;++wi){var Sl=bn[wi]>>8&65535;bn[wi]=Sl,Sl>=Sn&&(Sn=Sl+1)}}if(Pn.h)break i;for(Ie=0;5>Ie;++Ie){var Yi=va[Ie];!Ie&&0<di&&(Yi+=1<<di),Fa<Yi&&(Fa=Yi)}var qd=o(Sn*Ai,J),Up=Sn,Cs=o(Up,rt);if(Cs==null)var Ji=null;else t(65536>=Up),Ji=Cs;var Lc=r(Fa);if(Ji==null||Lc==null||qd==null){_e.a=1;break i}var _l=qd;for(wi=Ti=0;wi<Sn;++wi){var Ks=Ji[wi],Nl=Ks.G,Qs=Ks.H,Ud=0,$u=1,Hp=0;for(Ie=0;5>Ie;++Ie){Yi=va[Ie],Nl[Ie]=_l,Qs[Ie]=Ti,!Ie&&0<di&&(Yi+=1<<di);s:{var Hd,Gp=Yi,Gd=_e,Ku=Lc,J2=_l,t5=Ti,Vd=0,No=Gd.m,Dv=O(No,1);if(a(Ku,0,0,Gp),Dv){var e5=O(No,1)+1,i5=O(No,1),Zm=O(No,i5==0?1:8);Ku[Zm]=1,e5==2&&(Ku[Zm=O(No,8)]=1);var Qu=1}else{var Jm=r(19),t1=O(No,4)+4;if(19<t1){Gd.a=3;var Yd=0;break s}for(Hd=0;Hd<t1;++Hd)Jm[wo[Hd]]=O(No,3);var Vp=void 0,Zu=void 0,n5=Gd,s5=Jm,Eo=Gp,Xd=Ku,Yp=0,nr=n5.m,Ju=8,e1=o(128,J);n:for(;H(e1,0,7,s5,19);){if(O(nr,1)){var a5=2+2*O(nr,3);if((Vp=2+O(nr,a5))>Eo)break n}else Vp=Eo;for(Zu=0;Zu<Eo&&Vp--;){ct(nr);var i1=e1[0+(127&q(nr))];at(nr,nr.u+i1.g);var Cc=i1.value;if(16>Cc)Xd[Zu++]=Cc,Cc!=0&&(Ju=Cc);else{var r5=Cc==16,n1=Cc-16,s1=ja[n1],a1=O(nr,Fp[n1])+s1;if(Zu+a1>Eo)break n;for(var o5=r5?Ju:0;0<a1--;)Xd[Zu++]=o5}}Yp=1;break n}Yp||(n5.a=3),Qu=Yp}(Qu=Qu&&!No.h)&&(Vd=H(J2,t5,8,Ku,Gp)),Qu&&Vd!=0?Yd=Vd:(Gd.a=3,Yd=0)}if(Yd==0)break i;if($u&&xc[Ie]==1&&($u=_l[Ti].g==0),Ud+=_l[Ti].g,Ti+=Yd,3>=Ie){var Tc,Xp=Lc[0];for(Tc=1;Tc<Yi;++Tc)Lc[Tc]>Xp&&(Xp=Lc[Tc]);Hp+=Xp}}if(Ks.nd=$u,Ks.Qb=0,$u&&(Ks.qb=(Nl[3][Qs[3]+0].value<<24|Nl[1][Qs[1]+0].value<<16|Nl[2][Qs[2]+0].value)>>>0,Ud==0&&256>Nl[0][Qs[0]+0].value&&(Ks.Qb=1,Ks.qb+=Nl[0][Qs[0]+0].value<<8)),Ks.jc=!Ks.Qb&&6>Hp,Ks.jc){var Wd,Lo=Ks;for(Wd=0;Wd<Mn;++Wd){var Ur=Wd,Co=Lo.pd[Ur],$d=Lo.G[0][Lo.H[0]+Ur];256<=$d.value?(Co.g=$d.g+256,Co.value=$d.value):(Co.g=0,Co.value=0,Ur>>=dn($d,8,Co),Ur>>=dn(Lo.G[1][Lo.H[1]+Ur],16,Co),Ur>>=dn(Lo.G[2][Lo.H[2]+Ur],0,Co),dn(Lo.G[3][Lo.H[3]+Ur],24,Co))}}}mn.vc=bn,mn.Wb=Sn,mn.Ya=Ji,mn.yc=qd,Ni=1;break e}Ni=0}if(!(G=Ni)){C.a=3;break t}if(0<Mt){if(nt.ua=1<<Mt,!xe(nt.Wa,Mt)){C.a=1,G=0;break t}}else nt.ua=0;var Kd=C,r1=V,l5=$,o1=Kd.s,l1=o1.xc;if(Kd.c=r1,Kd.i=l5,o1.md=fe(r1,l1),o1.wc=l1==0?-1:(1<<l1)-1,_){C.xb=$2;break t}if((bt=r(V*$))==null){C.a=1,G=0;break t}G=(G=hs(C,bt,0,V,$,$,null))&&!tt.h;break t}return G?(j!=null?j[0]=bt:(t(bt==null),t(_)),C.$=0,_||Gs(nt)):Gs(nt),G}function Qo(g,v){var _=g.c*g.i,C=_+v+16*v;return t(g.c<=v),g.V=r(C),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+_+v,1)}function oc(g,v){var _=g.C,C=v-_,j=g.V,G=g.Ba+g.c*_;for(t(v<=g.l.o);0<C;){var V=16<C?16:C,$=g.l.ma,tt=g.l.width,nt=tt*V,bt=$.ca,Mt=$.tb+tt*_,Lt=g.Ta,xt=g.Ua;ha(g,V,j,G),ji(Lt,xt,bt,Mt,nt),fa($,_,_+V,bt,Mt,tt),C-=V,j+=V*g.c,_+=V}t(_==v),g.C=g.Ma=v}function Ma(){this.ub=this.yd=this.td=this.Rb=0}function Wa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Eu(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function vd(){this.Yb=function(){var g=[];return function v(_,C,j){for(var G=j[C],V=0;V<G&&(_.push(j.length>C+1?[]:0),!(j.length<C+1));V++)v(_[V],C+1,j)}(g,0,[3,11]),g}()}function Sp(){this.jb=r(3),this.Wc=u([4,8],vd),this.Xc=u([4,17],vd)}function Um(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function ao(){this.ld=this.La=this.dd=this.tc=0}function lc(){this.Na=this.la=0}function $a(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cc(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _p(){this.uc=this.M=this.Nb=0,this.wa=Array(new ao),this.Y=0,this.ya=Array(new cc),this.aa=0,this.l=new Zo}function ro(){this.y=r(16),this.f=r(8),this.ea=r(8)}function yd(){this.cb=this.a=0,this.sc="",this.m=new ft,this.Od=new Ma,this.Kc=new Wa,this.ed=new Um,this.Qa=new Eu,this.Ic=this.$c=this.Aa=0,this.D=new _p,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ft),this.ia=0,this.pb=o(4,$a),this.Pa=new Sp,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ro),this.Hd=0,this.rb=Array(new lc),this.sb=0,this.wa=Array(new ao),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cc),this.L=this.aa=0,this.gd=u([4,2],ao),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hm(){var g=new yd;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,kn||(kn=Np)),g}function nn(g,v,_){return g.a==0&&(g.a=v,g.sc=_,g.cb=0),0}function Ns(g,v,_){return 3<=_&&g[v+0]==157&&g[v+1]==1&&g[v+2]==42}function wd(g,v){if(g==null)return 0;if(g.a=0,g.sc="OK",v==null)return nn(g,2,"null VP8Io passed to VP8GetHeaders()");var _=v.data,C=v.w,j=v.ha;if(4>j)return nn(g,7,"Truncated header.");var G=_[C+0]|_[C+1]<<8|_[C+2]<<16,V=g.Od;if(V.Rb=!(1&G),V.td=G>>1&7,V.yd=G>>4&1,V.ub=G>>5,3<V.td)return nn(g,3,"Incorrect keyframe parameters.");if(!V.yd)return nn(g,4,"Frame not displayable.");C+=3,j-=3;var $=g.Kc;if(V.Rb){if(7>j)return nn(g,7,"cannot parse picture header");if(!Ns(_,C,j))return nn(g,3,"Bad code word");$.c=16383&(_[C+4]<<8|_[C+3]),$.Td=_[C+4]>>6,$.i=16383&(_[C+6]<<8|_[C+5]),$.Ud=_[C+6]>>6,C+=7,j-=7,g.za=$.c+15>>4,g.Ub=$.i+15>>4,v.width=$.c,v.height=$.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((G=g.Pa).jb,0,255,G.jb.length),t((G=g.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(V.ub>j)return nn(g,7,"bad partition length");_t(G=g.m,_,C,V.ub),C+=V.ub,j-=V.ub,V.Rb&&($.Ld=St(G),$.Kd=St(G)),$=g.Qa;var tt,nt=g.Pa;if(t(G!=null),t($!=null),$.Cb=St(G),$.Cb){if($.Bb=St(G),St(G)){for($.Fb=St(G),tt=0;4>tt;++tt)$.Zb[tt]=St(G)?z(G,7):0;for(tt=0;4>tt;++tt)$.Lb[tt]=St(G)?z(G,6):0}if($.Bb)for(tt=0;3>tt;++tt)nt.jb[tt]=St(G)?B(G,8):255}else $.Bb=0;if(G.Ka)return nn(g,3,"cannot parse segment header");if(($=g.ed).zd=St(G),$.Tb=B(G,6),$.wb=B(G,3),$.Pc=St(G),$.Pc&&St(G)){for(nt=0;4>nt;++nt)St(G)&&($.vd[nt]=z(G,6));for(nt=0;4>nt;++nt)St(G)&&($.od[nt]=z(G,6))}if(g.L=$.Tb==0?0:$.zd?1:2,G.Ka)return nn(g,3,"cannot parse filter header");var bt=j;if(j=tt=C,C=tt+bt,$=bt,g.Xb=(1<<B(g.m,2))-1,bt<3*(nt=g.Xb))_=7;else{for(tt+=3*nt,$-=3*nt,bt=0;bt<nt;++bt){var Mt=_[j+0]|_[j+1]<<8|_[j+2]<<16;Mt>$&&(Mt=$),_t(g.Jc[+bt],_,tt,Mt),tt+=Mt,$-=Mt,j+=3}_t(g.Jc[+nt],_,tt,$),_=tt<C?0:5}if(_!=0)return nn(g,_,"cannot parse partitions");for(_=B(tt=g.m,7),j=St(tt)?z(tt,4):0,C=St(tt)?z(tt,4):0,$=St(tt)?z(tt,4):0,nt=St(tt)?z(tt,4):0,tt=St(tt)?z(tt,4):0,bt=g.Qa,Mt=0;4>Mt;++Mt){if(bt.Cb){var Lt=bt.Zb[Mt];bt.Fb||(Lt+=_)}else{if(0<Mt){g.pb[Mt]=g.pb[0];continue}Lt=_}var xt=g.pb[Mt];xt.Sc[0]=Fd[ma(Lt+j,127)],xt.Sc[1]=Id[ma(Lt+0,127)],xt.Eb[0]=2*Fd[ma(Lt+C,127)],xt.Eb[1]=101581*Id[ma(Lt+$,127)]>>16,8>xt.Eb[1]&&(xt.Eb[1]=8),xt.Qc[0]=Fd[ma(Lt+nt,117)],xt.Qc[1]=Id[ma(Lt+tt,127)],xt.lc=Lt+tt}if(!V.Rb)return nn(g,4,"Not a key frame.");for(St(G),V=g.Pa,_=0;4>_;++_){for(j=0;8>j;++j)for(C=0;3>C;++C)for($=0;11>$;++$)nt=Tt(G,_c[_][j][C][$])?B(G,8):Ir[_][j][C][$],V.Wc[_][j].Yb[C][$]=nt;for(j=0;17>j;++j)V.Xc[_][j]=V.Wc[_][W2[j]]}return g.kc=St(G),g.kc&&(g.Bd=B(G,8)),g.cb=1}function Np(g,v,_,C,j,G,V){var $=v[j].Yb[_];for(_=0;16>j;++j){if(!Tt(g,$[_+0]))return j;for(;!Tt(g,$[_+1]);)if($=v[++j].Yb[0],_=0,j==16)return 16;var tt=v[j+1].Yb;if(Tt(g,$[_+2])){var nt=g,bt=0;if(Tt(nt,(Lt=$)[(Mt=_)+3]))if(Tt(nt,Lt[Mt+6])){for($=0,Mt=2*(bt=Tt(nt,Lt[Mt+8]))+(Lt=Tt(nt,Lt[Mt+9+bt])),bt=0,Lt=rn[Mt];Lt[$];++$)bt+=bt+Tt(nt,Lt[$]);bt+=3+(8<<Mt)}else Tt(nt,Lt[Mt+7])?(bt=7+2*Tt(nt,165),bt+=Tt(nt,145)):bt=5+Tt(nt,159);else bt=Tt(nt,Lt[Mt+4])?3+Tt(nt,Lt[Mt+5]):2;$=tt[2]}else bt=1,$=tt[1];tt=V+gi[j],0>(nt=g).b&&gt(nt);var Mt,Lt=nt.b,xt=(Mt=nt.Ca>>1)-(nt.I>>Lt)>>31;--nt.b,nt.Ca+=xt,nt.Ca|=1,nt.I-=(Mt+1&xt)<<Lt,G[tt]=((bt^xt)-xt)*C[(0<j)+0]}return 16}function Jo(g){var v=g.rb[g.sb-1];v.la=0,v.Na=0,a(g.zc,0,0,g.zc.length),g.ja=0}function Ep(g,v){if(g==null)return 0;if(v==null)return nn(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!wd(g,v))return 0;if(t(g.cb),v.ac==null||v.ac(v)){v.ob&&(g.L=0);var _=_o[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=v.v-_>>4,g.zb=v.j-_>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=v.o+15+_>>4,g.Hb=v.va+15+_>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var C=g.ed;for(_=0;4>_;++_){var j;if(g.Qa.Cb){var G=g.Qa.Lb[_];g.Qa.Fb||(G+=C.Tb)}else G=C.Tb;for(j=0;1>=j;++j){var V=g.gd[_][j],$=G;if(C.Pc&&($+=C.vd[0],j&&($+=C.od[0])),0<($=0>$?0:63<$?63:$)){var tt=$;0<C.wb&&(tt=4<C.wb?tt>>2:tt>>1)>9-C.wb&&(tt=9-C.wb),1>tt&&(tt=1),V.dd=tt,V.tc=2*$+tt,V.ld=40<=$?2:15<=$?1:0}else V.tc=0;V.La=j}}}_=0}else nn(g,6,"Frame setup failed"),_=g.a;if(_=_==0){if(_){g.$c=0,0<g.Aa||(g.Ic=Q2);t:{_=g.Ic,C=4*(tt=g.za);var nt=32*tt,bt=tt+1,Mt=0<g.L?tt*(0<g.Aa?2:1):0,Lt=(g.Aa==2?2:1)*tt;if((V=C+832+(j=3*(16*_+_o[g.L])/2*nt)+(G=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=V)_=0;else{if(V>g.Vb){if(g.Vb=0,g.Ec=r(V),g.Fc=0,g.Ec==null){_=nn(g,1,"no memory during frame initialization.");break t}g.Vb=V}V=g.Ec,$=g.Fc,g.Ac=V,g.Bc=$,$+=C,g.Gd=o(nt,ro),g.Hd=0,g.rb=o(bt+1,lc),g.sb=1,g.wa=Mt?o(Mt,ao):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=tt),t(!0),g.oc=V,g.pc=$,$+=832,g.ya=o(Lt,cc),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=tt),g.R=16*tt,g.B=8*tt,tt=(nt=_o[g.L])*g.R,nt=nt/2*g.B,g.sa=V,g.ta=$+tt,g.qa=g.sa,g.ra=g.ta+16*_*g.R+nt,g.Ha=g.qa,g.Ia=g.ra+8*_*g.B+nt,g.$c=0,$+=j,g.mb=G?V:null,g.nb=G?$:null,t($+G<=g.Fc+g.Vb),Jo(g),a(g.Ac,g.Bc,0,C),_=1}}if(_){if(v.ka=0,v.y=g.sa,v.O=g.ta,v.f=g.qa,v.N=g.ra,v.ea=g.Ha,v.Vd=g.Ia,v.fa=g.R,v.Rc=g.B,v.F=null,v.J=0,!bo){for(_=-255;255>=_;++_)gn[255+_]=0>_?-_:_;for(_=-1020;1020>=_;++_)Pa[1020+_]=-128>_?-128:127<_?127:_;for(_=-112;112>=_;++_)ml[112+_]=-16>_?-16:15<_?15:_;for(_=-255;510>=_;++_)bl[255+_]=0>_?0:255<_?255:_;bo=1}Or=tl,tr=xd,er=oo,xn=Lp,$s=Sd,sn=Ad,bc=hc,jr=dc,Hu=Ym,dl=Cd,fl=Vm,pl=Pu,vc=Ou,Gu=Dp,gl=sl,mo=ga,yc=Pr,an=Gm,Ls[0]=Ys,Ls[1]=Cp,Ls[2]=Ed,Ls[3]=Mp,Ls[4]=ka,Ls[5]=kr,Ls[6]=Mu,Ls[7]=Ra,Ls[8]=ku,Ls[9]=Ld,xo[0]=Tu,xo[1]=Nd,xo[2]=lo,xo[3]=Cu,xo[4]=Un,xo[5]=el,xo[6]=uo,ya[0]=ho,ya[1]=Tp,ya[2]=kp,ya[3]=il,ya[4]=pa,ya[5]=ds,ya[6]=nl,_=1}else _=0}_&&(_=function(xt,qt){for(xt.M=0;xt.M<xt.Va;++xt.M){var Pt,vt=xt.Jc[xt.M&xt.Xb],At=xt.m,Ft=xt;for(Pt=0;Pt<Ft.za;++Pt){var Ut=At,Bt=Ft,ae=Bt.Ac,Qt=Bt.Bc+4*Pt,ye=Bt.zc,Jt=Bt.ya[Bt.aa+Pt];if(Bt.Qa.Bb?Jt.$b=Tt(Ut,Bt.Pa.jb[0])?2+Tt(Ut,Bt.Pa.jb[2]):Tt(Ut,Bt.Pa.jb[1]):Jt.$b=0,Bt.kc&&(Jt.Ad=Tt(Ut,Bt.Bd)),Jt.Za=!Tt(Ut,145)+0,Jt.Za){var hi=Jt.Ob,yi=0;for(Bt=0;4>Bt;++Bt){var We,Ye=ye[0+Bt];for(We=0;4>We;++We){Ye=$m[ae[Qt+We]][Ye];for(var Ni=yl[Tt(Ut,Ye[0])];0<Ni;)Ni=yl[2*Ni+Tt(Ut,Ye[Ni])];Ye=-Ni,ae[Qt+We]=Ye}i(hi,yi,ae,Qt,4),yi+=4,ye[0+Bt]=Ye}}else Ye=Tt(Ut,156)?Tt(Ut,128)?1:3:Tt(Ut,163)?2:0,Jt.Ob[0]=Ye,a(ae,Qt,Ye,4),a(ye,0,Ye,4);Jt.Dd=Tt(Ut,142)?Tt(Ut,114)?Tt(Ut,183)?1:3:2:0}if(Ft.m.Ka)return nn(xt,7,"Premature end-of-partition0 encountered.");for(;xt.ja<xt.za;++xt.ja){if(Ft=vt,Ut=(At=xt).rb[At.sb-1],ae=At.rb[At.sb+At.ja],Pt=At.ya[At.aa+At.ja],Qt=At.kc?Pt.Ad:0)Ut.la=ae.la=0,Pt.Za||(Ut.Na=ae.Na=0),Pt.Hc=0,Pt.Gc=0,Pt.ia=0;else{var wi,Ie;if(Ut=ae,ae=Ft,Qt=At.Pa.Xc,ye=At.ya[At.aa+At.ja],Jt=At.pb[ye.$b],Bt=ye.ad,hi=0,yi=At.rb[At.sb-1],Ye=We=0,a(Bt,hi,0,384),ye.Za)var Ti=0,_e=Qt[3];else{Ni=r(16);var Te=Ut.Na+yi.Na;if(Te=kn(ae,Qt[1],Te,Jt.Eb,0,Ni,0),Ut.Na=yi.Na=(0<Te)+0,1<Te)Or(Ni,0,Bt,hi);else{var ci=Ni[0]+3>>3;for(Ni=0;256>Ni;Ni+=16)Bt[hi+Ni]=ci}Ti=1,_e=Qt[0]}var di=15&Ut.la,Xn=15&yi.la;for(Ni=0;4>Ni;++Ni){var Pn=1&Xn;for(ci=Ie=0;4>ci;++ci)di=di>>1|(Pn=(Te=kn(ae,_e,Te=Pn+(1&di),Jt.Sc,Ti,Bt,hi))>Ti)<<7,Ie=Ie<<2|(3<Te?3:1<Te?2:Bt[hi+0]!=0),hi+=16;di>>=4,Xn=Xn>>1|Pn<<7,We=(We<<8|Ie)>>>0}for(_e=di,Ti=Xn>>4,wi=0;4>wi;wi+=2){for(Ie=0,di=Ut.la>>4+wi,Xn=yi.la>>4+wi,Ni=0;2>Ni;++Ni){for(Pn=1&Xn,ci=0;2>ci;++ci)Te=Pn+(1&di),di=di>>1|(Pn=0<(Te=kn(ae,Qt[2],Te,Jt.Qc,0,Bt,hi)))<<3,Ie=Ie<<2|(3<Te?3:1<Te?2:Bt[hi+0]!=0),hi+=16;di>>=2,Xn=Xn>>1|Pn<<5}Ye|=Ie<<4*wi,_e|=di<<4<<wi,Ti|=(240&Xn)<<wi}Ut.la=_e,yi.la=Ti,ye.Hc=We,ye.Gc=Ye,ye.ia=43690&Ye?0:Jt.ia,Qt=!(We|Ye)}if(0<At.L&&(At.wa[At.Y+At.ja]=At.gd[Pt.$b][Pt.Za],At.wa[At.Y+At.ja].La|=!Qt),Ft.Ka)return nn(xt,7,"Premature end-of-file encountered.")}if(Jo(xt),At=qt,Ft=1,Pt=(vt=xt).D,Ut=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(Pt.M=vt.M,Pt.uc=Ut,po(vt,Pt),Ft=1,Pt=(Ie=vt.D).Nb,Ut=(Ye=_o[vt.L])*vt.R,ae=Ye/2*vt.B,Ni=16*Pt*vt.R,ci=8*Pt*vt.B,Qt=vt.sa,ye=vt.ta-Ut+Ni,Jt=vt.qa,Bt=vt.ra-ae+ci,hi=vt.Ha,yi=vt.Ia-ae+ci,Xn=(di=Ie.M)==0,We=di>=vt.Va-1,vt.Aa==2&&po(vt,Ie),Ie.uc)for(Pn=(Te=vt).D.M,t(Te.D.uc),Ie=Te.yb;Ie<Te.Hb;++Ie){Ti=Ie,_e=Pn;var mn=(bn=(Yi=Te).D).Nb;wi=Yi.R;var bn=bn.wa[bn.Y+Ti],Sn=Yi.sa,Fa=Yi.ta+16*mn*wi+16*Ti,Ai=bn.dd,_n=bn.tc;if(_n!=0)if(t(3<=_n),Yi.L==1)0<Ti&&mo(Sn,Fa,wi,_n+4),bn.La&&an(Sn,Fa,wi,_n),0<_e&&gl(Sn,Fa,wi,_n+4),bn.La&&yc(Sn,Fa,wi,_n);else{var ir=Yi.B,xl=Yi.qa,Ec=Yi.ra+8*mn*ir+8*Ti,Sl=Yi.Ha,Yi=Yi.Ia+8*mn*ir+8*Ti;mn=bn.ld,0<Ti&&(jr(Sn,Fa,wi,_n+4,Ai,mn),dl(xl,Ec,Sl,Yi,ir,_n+4,Ai,mn)),bn.La&&(pl(Sn,Fa,wi,_n,Ai,mn),Gu(xl,Ec,Sl,Yi,ir,_n,Ai,mn)),0<_e&&(bc(Sn,Fa,wi,_n+4,Ai,mn),Hu(xl,Ec,Sl,Yi,ir,_n+4,Ai,mn)),bn.La&&(fl(Sn,Fa,wi,_n,Ai,mn),vc(xl,Ec,Sl,Yi,ir,_n,Ai,mn))}}if(vt.ia&&alert("todo:DitherRow"),At.put!=null){if(Ie=16*di,di=16*(di+1),Xn?(At.y=vt.sa,At.O=vt.ta+Ni,At.f=vt.qa,At.N=vt.ra+ci,At.ea=vt.Ha,At.W=vt.Ia+ci):(Ie-=Ye,At.y=Qt,At.O=ye,At.f=Jt,At.N=Bt,At.ea=hi,At.W=yi),We||(di-=Ye),di>At.o&&(di=At.o),At.F=null,At.J=null,vt.Fa!=null&&0<vt.Fa.length&&Ie<di&&(At.J=kd(vt,At,Ie,di-Ie),At.F=vt.mb,At.F==null&&At.F.length==0)){Ft=nn(vt,3,"Could not decode alpha data.");break t}Ie<At.j&&(Ye=At.j-Ie,Ie=At.j,t(!(1&Ye)),At.O+=vt.R*Ye,At.N+=vt.B*(Ye>>1),At.W+=vt.B*(Ye>>1),At.F!=null&&(At.J+=At.width*Ye)),Ie<di&&(At.O+=At.v,At.N+=At.v>>1,At.W+=At.v>>1,At.F!=null&&(At.J+=At.v),At.ka=Ie-At.j,At.U=At.va-At.v,At.T=di-Ie,Ft=At.put(At))}Pt+1!=vt.Ic||We||(i(vt.sa,vt.ta-Ut,Qt,ye+16*vt.R,Ut),i(vt.qa,vt.ra-ae,Jt,Bt+8*vt.B,ae),i(vt.Ha,vt.Ia-ae,hi,yi+8*vt.B,ae))}if(!Ft)return nn(xt,6,"Output aborted.")}return 1}(g,v)),v.bc!=null&&v.bc(v),_&=1}return _?(g.cb=0,_):0}function Vs(g,v,_,C,j){j=g[v+_+32*C]+(j>>3),g[v+_+32*C]=-256&j?0>j?0:255:j}function Lu(g,v,_,C,j,G){Vs(g,v,0,_,C+j),Vs(g,v,1,_,C+G),Vs(g,v,2,_,C-G),Vs(g,v,3,_,C-j)}function Ui(g){return(20091*g>>16)+g}function uc(g,v,_,C){var j,G=0,V=r(16);for(j=0;4>j;++j){var $=g[v+0]+g[v+8],tt=g[v+0]-g[v+8],nt=(35468*g[v+4]>>16)-Ui(g[v+12]),bt=Ui(g[v+4])+(35468*g[v+12]>>16);V[G+0]=$+bt,V[G+1]=tt+nt,V[G+2]=tt-nt,V[G+3]=$-bt,G+=4,v++}for(j=G=0;4>j;++j)$=(g=V[G+0]+4)+V[G+8],tt=g-V[G+8],nt=(35468*V[G+4]>>16)-Ui(V[G+12]),Vs(_,C,0,0,$+(bt=Ui(V[G+4])+(35468*V[G+12]>>16))),Vs(_,C,1,0,tt+nt),Vs(_,C,2,0,tt-nt),Vs(_,C,3,0,$-bt),G++,C+=32}function Ad(g,v,_,C){var j=g[v+0]+4,G=35468*g[v+4]>>16,V=Ui(g[v+4]),$=35468*g[v+1]>>16;Lu(_,C,0,j+V,g=Ui(g[v+1]),$),Lu(_,C,1,j+G,g,$),Lu(_,C,2,j-G,g,$),Lu(_,C,3,j-V,g,$)}function xd(g,v,_,C,j){uc(g,v,_,C),j&&uc(g,v+16,_,C+4)}function oo(g,v,_,C){tr(g,v+0,_,C,1),tr(g,v+32,_,C+128,1)}function Lp(g,v,_,C){var j;for(g=g[v+0]+4,j=0;4>j;++j)for(v=0;4>v;++v)Vs(_,C,v,j,g)}function Sd(g,v,_,C){g[v+0]&&xn(g,v+0,_,C),g[v+16]&&xn(g,v+16,_,C+4),g[v+32]&&xn(g,v+32,_,C+128),g[v+48]&&xn(g,v+48,_,C+128+4)}function tl(g,v,_,C){var j,G=r(16);for(j=0;4>j;++j){var V=g[v+0+j]+g[v+12+j],$=g[v+4+j]+g[v+8+j],tt=g[v+4+j]-g[v+8+j],nt=g[v+0+j]-g[v+12+j];G[0+j]=V+$,G[8+j]=V-$,G[4+j]=nt+tt,G[12+j]=nt-tt}for(j=0;4>j;++j)V=(g=G[0+4*j]+3)+G[3+4*j],$=G[1+4*j]+G[2+4*j],tt=G[1+4*j]-G[2+4*j],nt=g-G[3+4*j],_[C+0]=V+$>>3,_[C+16]=nt+tt>>3,_[C+32]=V-$>>3,_[C+48]=nt-tt>>3,C+=64}function _d(g,v,_){var C,j=v-32,G=Vn,V=255-g[j-1];for(C=0;C<_;++C){var $,tt=G,nt=V+g[v-1];for($=0;$<_;++$)g[v+$]=tt[nt+g[j+$]];v+=32}}function Cp(g,v){_d(g,v,4)}function Tp(g,v){_d(g,v,8)}function Nd(g,v){_d(g,v,16)}function lo(g,v){var _;for(_=0;16>_;++_)i(g,v+32*_,g,v-32,16)}function Cu(g,v){var _;for(_=16;0<_;--_)a(g,v,g[v-1],16),v+=32}function co(g,v,_){var C;for(C=0;16>C;++C)a(v,_+32*C,g,16)}function Tu(g,v){var _,C=16;for(_=0;16>_;++_)C+=g[v-1+32*_]+g[v+_-32];co(C>>5,g,v)}function Un(g,v){var _,C=8;for(_=0;16>_;++_)C+=g[v-1+32*_];co(C>>4,g,v)}function el(g,v){var _,C=8;for(_=0;16>_;++_)C+=g[v+_-32];co(C>>4,g,v)}function uo(g,v){co(128,g,v)}function ke(g,v,_){return g+2*v+_+2>>2}function Ed(g,v){var _,C=v-32;for(C=new Uint8Array([ke(g[C-1],g[C+0],g[C+1]),ke(g[C+0],g[C+1],g[C+2]),ke(g[C+1],g[C+2],g[C+3]),ke(g[C+2],g[C+3],g[C+4])]),_=0;4>_;++_)i(g,v+32*_,C,0,C.length)}function Mp(g,v){var _=g[v-1],C=g[v-1+32],j=g[v-1+64],G=g[v-1+96];Yt(g,v+0,16843009*ke(g[v-1-32],_,C)),Yt(g,v+32,16843009*ke(_,C,j)),Yt(g,v+64,16843009*ke(C,j,G)),Yt(g,v+96,16843009*ke(j,G,G))}function Ys(g,v){var _,C=4;for(_=0;4>_;++_)C+=g[v+_-32]+g[v-1+32*_];for(C>>=3,_=0;4>_;++_)a(g,v+32*_,C,4)}function ka(g,v){var _=g[v-1+0],C=g[v-1+32],j=g[v-1+64],G=g[v-1-32],V=g[v+0-32],$=g[v+1-32],tt=g[v+2-32],nt=g[v+3-32];g[v+0+96]=ke(C,j,g[v-1+96]),g[v+1+96]=g[v+0+64]=ke(_,C,j),g[v+2+96]=g[v+1+64]=g[v+0+32]=ke(G,_,C),g[v+3+96]=g[v+2+64]=g[v+1+32]=g[v+0+0]=ke(V,G,_),g[v+3+64]=g[v+2+32]=g[v+1+0]=ke($,V,G),g[v+3+32]=g[v+2+0]=ke(tt,$,V),g[v+3+0]=ke(nt,tt,$)}function Mu(g,v){var _=g[v+1-32],C=g[v+2-32],j=g[v+3-32],G=g[v+4-32],V=g[v+5-32],$=g[v+6-32],tt=g[v+7-32];g[v+0+0]=ke(g[v+0-32],_,C),g[v+1+0]=g[v+0+32]=ke(_,C,j),g[v+2+0]=g[v+1+32]=g[v+0+64]=ke(C,j,G),g[v+3+0]=g[v+2+32]=g[v+1+64]=g[v+0+96]=ke(j,G,V),g[v+3+32]=g[v+2+64]=g[v+1+96]=ke(G,V,$),g[v+3+64]=g[v+2+96]=ke(V,$,tt),g[v+3+96]=ke($,tt,tt)}function kr(g,v){var _=g[v-1+0],C=g[v-1+32],j=g[v-1+64],G=g[v-1-32],V=g[v+0-32],$=g[v+1-32],tt=g[v+2-32],nt=g[v+3-32];g[v+0+0]=g[v+1+64]=G+V+1>>1,g[v+1+0]=g[v+2+64]=V+$+1>>1,g[v+2+0]=g[v+3+64]=$+tt+1>>1,g[v+3+0]=tt+nt+1>>1,g[v+0+96]=ke(j,C,_),g[v+0+64]=ke(C,_,G),g[v+0+32]=g[v+1+96]=ke(_,G,V),g[v+1+32]=g[v+2+96]=ke(G,V,$),g[v+2+32]=g[v+3+96]=ke(V,$,tt),g[v+3+32]=ke($,tt,nt)}function Ra(g,v){var _=g[v+0-32],C=g[v+1-32],j=g[v+2-32],G=g[v+3-32],V=g[v+4-32],$=g[v+5-32],tt=g[v+6-32],nt=g[v+7-32];g[v+0+0]=_+C+1>>1,g[v+1+0]=g[v+0+64]=C+j+1>>1,g[v+2+0]=g[v+1+64]=j+G+1>>1,g[v+3+0]=g[v+2+64]=G+V+1>>1,g[v+0+32]=ke(_,C,j),g[v+1+32]=g[v+0+96]=ke(C,j,G),g[v+2+32]=g[v+1+96]=ke(j,G,V),g[v+3+32]=g[v+2+96]=ke(G,V,$),g[v+3+64]=ke(V,$,tt),g[v+3+96]=ke($,tt,nt)}function Ld(g,v){var _=g[v-1+0],C=g[v-1+32],j=g[v-1+64],G=g[v-1+96];g[v+0+0]=_+C+1>>1,g[v+2+0]=g[v+0+32]=C+j+1>>1,g[v+2+32]=g[v+0+64]=j+G+1>>1,g[v+1+0]=ke(_,C,j),g[v+3+0]=g[v+1+32]=ke(C,j,G),g[v+3+32]=g[v+1+64]=ke(j,G,G),g[v+3+64]=g[v+2+64]=g[v+0+96]=g[v+1+96]=g[v+2+96]=g[v+3+96]=G}function ku(g,v){var _=g[v-1+0],C=g[v-1+32],j=g[v-1+64],G=g[v-1+96],V=g[v-1-32],$=g[v+0-32],tt=g[v+1-32],nt=g[v+2-32];g[v+0+0]=g[v+2+32]=_+V+1>>1,g[v+0+32]=g[v+2+64]=C+_+1>>1,g[v+0+64]=g[v+2+96]=j+C+1>>1,g[v+0+96]=G+j+1>>1,g[v+3+0]=ke($,tt,nt),g[v+2+0]=ke(V,$,tt),g[v+1+0]=g[v+3+32]=ke(_,V,$),g[v+1+32]=g[v+3+64]=ke(C,_,V),g[v+1+64]=g[v+3+96]=ke(j,C,_),g[v+1+96]=ke(G,j,C)}function kp(g,v){var _;for(_=0;8>_;++_)i(g,v+32*_,g,v-32,8)}function il(g,v){var _;for(_=0;8>_;++_)a(g,v,g[v-1],8),v+=32}function Rr(g,v,_){var C;for(C=0;8>C;++C)a(v,_+32*C,g,8)}function ho(g,v){var _,C=8;for(_=0;8>_;++_)C+=g[v+_-32]+g[v-1+32*_];Rr(C>>4,g,v)}function ds(g,v){var _,C=4;for(_=0;8>_;++_)C+=g[v+_-32];Rr(C>>3,g,v)}function pa(g,v){var _,C=4;for(_=0;8>_;++_)C+=g[v-1+32*_];Rr(C>>3,g,v)}function nl(g,v){Rr(128,g,v)}function Dr(g,v,_){var C=g[v-_],j=g[v+0],G=3*(j-C)+Op[1020+g[v-2*_]-g[v+_]],V=wc[112+(G+4>>3)];g[v-_]=Vn[255+C+wc[112+(G+3>>3)]],g[v+0]=Vn[255+j-V]}function Rp(g,v,_,C){var j=g[v+0],G=g[v+_];return Oa[255+g[v-2*_]-g[v-_]]>C||Oa[255+G-j]>C}function Ru(g,v,_,C){return 4*Oa[255+g[v-_]-g[v+0]]+Oa[255+g[v-2*_]-g[v+_]]<=C}function Du(g,v,_,C,j){var G=g[v-3*_],V=g[v-2*_],$=g[v-_],tt=g[v+0],nt=g[v+_],bt=g[v+2*_],Mt=g[v+3*_];return 4*Oa[255+$-tt]+Oa[255+V-nt]>C?0:Oa[255+g[v-4*_]-G]<=j&&Oa[255+G-V]<=j&&Oa[255+V-$]<=j&&Oa[255+Mt-bt]<=j&&Oa[255+bt-nt]<=j&&Oa[255+nt-tt]<=j}function sl(g,v,_,C){var j=2*C+1;for(C=0;16>C;++C)Ru(g,v+C,_,j)&&Dr(g,v+C,_)}function ga(g,v,_,C){var j=2*C+1;for(C=0;16>C;++C)Ru(g,v+C*_,1,j)&&Dr(g,v+C*_,1)}function Pr(g,v,_,C){var j;for(j=3;0<j;--j)sl(g,v+=4*_,_,C)}function Gm(g,v,_,C){var j;for(j=3;0<j;--j)ga(g,v+=4,_,C)}function al(g,v,_,C,j,G,V,$){for(G=2*G+1;0<j--;){if(Du(g,v,_,G,V))if(Rp(g,v,_,$))Dr(g,v,_);else{var tt=g,nt=v,bt=_,Mt=tt[nt-2*bt],Lt=tt[nt-bt],xt=tt[nt+0],qt=tt[nt+bt],Pt=tt[nt+2*bt],vt=27*(Ft=Op[1020+3*(xt-Lt)+Op[1020+Mt-qt]])+63>>7,At=18*Ft+63>>7,Ft=9*Ft+63>>7;tt[nt-3*bt]=Vn[255+tt[nt-3*bt]+Ft],tt[nt-2*bt]=Vn[255+Mt+At],tt[nt-bt]=Vn[255+Lt+vt],tt[nt+0]=Vn[255+xt-vt],tt[nt+bt]=Vn[255+qt-At],tt[nt+2*bt]=Vn[255+Pt-Ft]}v+=C}}function Ka(g,v,_,C,j,G,V,$){for(G=2*G+1;0<j--;){if(Du(g,v,_,G,V))if(Rp(g,v,_,$))Dr(g,v,_);else{var tt=g,nt=v,bt=_,Mt=tt[nt-bt],Lt=tt[nt+0],xt=tt[nt+bt],qt=wc[112+((Pt=3*(Lt-Mt))+4>>3)],Pt=wc[112+(Pt+3>>3)],vt=qt+1>>1;tt[nt-2*bt]=Vn[255+tt[nt-2*bt]+vt],tt[nt-bt]=Vn[255+Mt+Pt],tt[nt+0]=Vn[255+Lt-qt],tt[nt+bt]=Vn[255+xt-vt]}v+=C}}function hc(g,v,_,C,j,G){al(g,v,_,1,16,C,j,G)}function dc(g,v,_,C,j,G){al(g,v,1,_,16,C,j,G)}function Vm(g,v,_,C,j,G){var V;for(V=3;0<V;--V)Ka(g,v+=4*_,_,1,16,C,j,G)}function Pu(g,v,_,C,j,G){var V;for(V=3;0<V;--V)Ka(g,v+=4,1,_,16,C,j,G)}function Ym(g,v,_,C,j,G,V,$){al(g,v,j,1,8,G,V,$),al(_,C,j,1,8,G,V,$)}function Cd(g,v,_,C,j,G,V,$){al(g,v,1,j,8,G,V,$),al(_,C,1,j,8,G,V,$)}function Ou(g,v,_,C,j,G,V,$){Ka(g,v+4*j,j,1,8,G,V,$),Ka(_,C+4*j,j,1,8,G,V,$)}function Dp(g,v,_,C,j,G,V,$){Ka(g,v+4,1,j,8,G,V,$),Ka(_,C+4,1,j,8,G,V,$)}function ju(){this.ba=new ca,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new en,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Td(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Md(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Fu(){this.ua=0,this.Wa=new ht,this.vb=new ht,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new rt,this.yc=new J}function Xm(){this.xb=this.a=0,this.l=new Zo,this.ca=new ca,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Fu,this.ab=0,this.gc=o(4,Md),this.Oc=0}function Iu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fc(g,v,_,C,j,G,V){for(g=g==null?0:g[v+0],v=0;v<V;++v)j[G+v]=g+_[C+v]&255,g=j[G+v]}function Bu(g,v,_,C,j,G,V){var $;if(g==null)fc(null,null,_,C,j,G,V);else for($=0;$<V;++$)j[G+$]=g[v+$]+_[C+$]&255}function rl(g,v,_,C,j,G,V){if(g==null)fc(null,null,_,C,j,G,V);else{var $,tt=g[v+0],nt=tt,bt=tt;for($=0;$<V;++$)nt=bt+(tt=g[v+$])-nt,bt=_[C+$]+(-256&nt?0>nt?0:255:nt)&255,nt=tt,j[G+$]=bt}}function kd(g,v,_,C){var j=v.width,G=v.o;if(t(g!=null&&v!=null),0>_||0>=C||_+C>G)return null;if(!g.Cc){if(g.ga==null){var V;if(g.ga=new Iu,(V=g.ga==null)||(V=v.width*v.o,t(g.Gb.length==0),g.Gb=r(V),g.Uc=0,g.Gb==null?V=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,V=1),V=!V),!V){V=g.ga;var $=g.Fa,tt=g.P,nt=g.qc,bt=g.mb,Mt=g.nb,Lt=tt+1,xt=nt-1,qt=V.l;if(t($!=null&&bt!=null&&v!=null),Br[0]=null,Br[1]=fc,Br[2]=Bu,Br[3]=rl,V.ca=bt,V.tb=Mt,V.c=v.width,V.i=v.height,t(0<V.c&&0<V.i),1>=nt)v=0;else if(V.$a=$[tt+0]>>0&3,V.Z=$[tt+0]>>2&3,V.Lc=$[tt+0]>>4&3,tt=$[tt+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||tt)v=0;else if(qt.put=Xa,qt.ac=Cn,qt.bc=Mr,qt.ma=V,qt.width=v.width,qt.height=v.height,qt.Da=v.Da,qt.v=v.v,qt.va=v.va,qt.j=v.j,qt.o=v.o,V.$a)t:{t(V.$a==1),v=Jn();e:for(;;){if(v==null){v=0;break t}if(t(V!=null),V.mc=v,v.c=V.c,v.i=V.i,v.l=V.l,v.l.ma=V,v.l.width=V.c,v.l.height=V.i,v.a=0,Q(v.m,$,Lt,xt),!Ci(V.c,V.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&da(v.s)?(V.ic=1,$=v.c*v.i,v.Ta=null,v.Ua=0,v.V=r($),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(V.ic=0,v=Qo(v,V.c)),!v))break e;v=1;break t}V.mc=null,v=0}else v=xt>=V.c*V.i;V=!v}if(V)return null;g.ga.Lc!=1?g.Ga=0:C=G-_}t(g.ga!=null),t(_+C<=G);t:{if(v=($=g.ga).c,G=$.l.o,$.$a==0){if(Lt=g.rc,xt=g.Vc,qt=g.Fa,tt=g.P+1+_*v,nt=g.mb,bt=g.nb+_*v,t(tt<=g.P+g.qc),$.Z!=0)for(t(Br[$.Z]!=null),V=0;V<C;++V)Br[$.Z](Lt,xt,qt,tt,nt,bt,v),Lt=nt,xt=bt,bt+=v,tt+=v;else for(V=0;V<C;++V)i(nt,bt,qt,tt,v),Lt=nt,xt=bt,bt+=v,tt+=v;g.rc=Lt,g.Vc=xt}else{if(t($.mc!=null),v=_+C,t((V=$.mc)!=null),t(v<=V.i),V.C>=v)v=1;else if($.ic||Et(),$.ic){$=V.V,Lt=V.Ba,xt=V.c;var Pt=V.i,vt=(qt=1,tt=V.$/xt,nt=V.$%xt,bt=V.m,Mt=V.s,V.$),At=xt*Pt,Ft=xt*v,Ut=Mt.wc,Bt=vt<Ft?An(Mt,nt,tt):null;t(vt<=At),t(v<=Pt),t(da(Mt));e:for(;;){for(;!bt.h&&vt<Ft;){if(nt&Ut||(Bt=An(Mt,nt,tt)),t(Bt!=null),ct(bt),256>(Pt=Tn(Bt.G[0],Bt.H[0],bt)))$[Lt+vt]=Pt,++vt,++nt>=xt&&(nt=0,++tt<=v&&!(tt%16)&&us(V,tt));else{if(!(280>Pt)){qt=0;break e}Pt=Oi(Pt-256,bt);var ae,Qt=Tn(Bt.G[4],Bt.H[4],bt);if(ct(bt),!(vt>=(Qt=Qi(xt,Qt=Oi(Qt,bt)))&&At-vt>=Pt)){qt=0;break e}for(ae=0;ae<Pt;++ae)$[Lt+vt+ae]=$[Lt+vt+ae-Qt];for(vt+=Pt,nt+=Pt;nt>=xt;)nt-=xt,++tt<=v&&!(tt%16)&&us(V,tt);vt<Ft&&nt&Ut&&(Bt=An(Mt,nt,tt))}t(bt.h==et(bt))}us(V,tt>v?v:tt);break e}!qt||bt.h&&vt<At?(qt=0,V.a=bt.h?5:3):V.$=vt,v=qt}else v=hs(V,V.V,V.Ba,V.c,V.i,v,oc);if(!v){C=0;break t}}_+C>=G&&(g.Cc=1),C=1}if(!C)return null;if(g.Cc&&((C=g.ga)!=null&&(C.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+_*j}function S(g,v,_,C,j,G){for(;0<j--;){var V,$=g,tt=v+(_?1:0),nt=g,bt=v+(_?0:3);for(V=0;V<C;++V){var Mt=nt[bt+4*V];Mt!=255&&(Mt*=32897,$[tt+4*V+0]=$[tt+4*V+0]*Mt>>23,$[tt+4*V+1]=$[tt+4*V+1]*Mt>>23,$[tt+4*V+2]=$[tt+4*V+2]*Mt>>23)}v+=G}}function F(g,v,_,C,j){for(;0<C--;){var G;for(G=0;G<_;++G){var V=g[v+2*G+0],$=15&(nt=g[v+2*G+1]),tt=4369*$,nt=(240&nt|nt>>4)*tt>>16;g[v+2*G+0]=(240&V|V>>4)*tt>>16&240|(15&V|V<<4)*tt>>16>>4&15,g[v+2*G+1]=240&nt|$}v+=j}}function ot(g,v,_,C,j,G,V,$){var tt,nt,bt=255;for(nt=0;nt<j;++nt){for(tt=0;tt<C;++tt){var Mt=g[v+tt];G[V+4*tt]=Mt,bt&=Mt}v+=_,V+=$}return bt!=255}function mt(g,v,_,C,j){var G;for(G=0;G<j;++G)_[C+G]=g[v+G]>>8}function Et(){ba=S,Qe=F,Ze=ot,ji=mt}function Ot(g,v,_){W[g]=function(C,j,G,V,$,tt,nt,bt,Mt,Lt,xt,qt,Pt,vt,At,Ft,Ut){var Bt,ae=Ut-1>>1,Qt=$[tt+0]|nt[bt+0]<<16,ye=Mt[Lt+0]|xt[qt+0]<<16;t(C!=null);var Jt=3*Qt+ye+131074>>2;for(v(C[j+0],255&Jt,Jt>>16,Pt,vt),G!=null&&(Jt=3*ye+Qt+131074>>2,v(G[V+0],255&Jt,Jt>>16,At,Ft)),Bt=1;Bt<=ae;++Bt){var hi=$[tt+Bt]|nt[bt+Bt]<<16,yi=Mt[Lt+Bt]|xt[qt+Bt]<<16,We=Qt+hi+ye+yi+524296,Ye=We+2*(hi+ye)>>3;Jt=Ye+Qt>>1,Qt=(We=We+2*(Qt+yi)>>3)+hi>>1,v(C[j+2*Bt-1],255&Jt,Jt>>16,Pt,vt+(2*Bt-1)*_),v(C[j+2*Bt-0],255&Qt,Qt>>16,Pt,vt+(2*Bt-0)*_),G!=null&&(Jt=We+ye>>1,Qt=Ye+yi>>1,v(G[V+2*Bt-1],255&Jt,Jt>>16,At,Ft+(2*Bt-1)*_),v(G[V+2*Bt+0],255&Qt,Qt>>16,At,Ft+(2*Bt+0)*_)),Qt=hi,ye=yi}1&Ut||(Jt=3*Qt+ye+131074>>2,v(C[j+Ut-1],255&Jt,Jt>>16,Pt,vt+(Ut-1)*_),G!=null&&(Jt=3*ye+Qt+131074>>2,v(G[V+Ut-1],255&Jt,Jt>>16,At,Ft+(Ut-1)*_)))}}function Vt(){Yn[fs]=So,Yn[Vu]=zr,Yn[Fr]=wl,Yn[Od]=Ip,Yn[Ac]=Bp,Yn[vo]=Wu,Yn[jp]=zp,Yn[jd]=zr,Yn[vl]=Ip,Yn[yo]=Bp,Yn[Yu]=Wu}function ne(g){return g&-16384?0>g?0:255:g>>Mv}function ge(g,v){return ne((19077*g>>8)+(26149*v>>8)-14234)}function Be(g,v,_){return ne((19077*g>>8)-(6419*v>>8)-(13320*_>>8)+8708)}function je(g,v){return ne((19077*g>>8)+(33050*v>>8)-17685)}function ai(g,v,_,C,j){C[j+0]=ge(g,_),C[j+1]=Be(g,v,_),C[j+2]=je(g,v)}function Vi(g,v,_,C,j){C[j+0]=je(g,v),C[j+1]=Be(g,v,_),C[j+2]=ge(g,_)}function Zi(g,v,_,C,j){var G=Be(g,v,_);v=G<<3&224|je(g,v)>>3,C[j+0]=248&ge(g,_)|G>>5,C[j+1]=v}function fn(g,v,_,C,j){var G=240&je(g,v)|15;C[j+0]=240&ge(g,_)|Be(g,v,_)>>4,C[j+1]=G}function pn(g,v,_,C,j){C[j+0]=255,ai(g,v,_,C,j+1)}function Hn(g,v,_,C,j){Vi(g,v,_,C,j),C[j+3]=255}function Qa(g,v,_,C,j){ai(g,v,_,C,j),C[j+3]=255}function ma(g,v){return 0>g?0:g>v?v:g}function Za(g,v,_){W[g]=function(C,j,G,V,$,tt,nt,bt,Mt){for(var Lt=bt+(-2&Mt)*_;bt!=Lt;)v(C[j+0],G[V+0],$[tt+0],nt,bt),v(C[j+1],G[V+0],$[tt+0],nt,bt+_),j+=2,++V,++tt,bt+=2*_;1&Mt&&v(C[j+0],G[V+0],$[tt+0],nt,bt)}}function Rd(g,v,_){return _==0?g==0?v==0?6:5:v==0?4:0:_}function fo(g,v,_,C,j){switch(g>>>30){case 3:tr(v,_,C,j,0);break;case 2:sn(v,_,C,j);break;case 1:xn(v,_,C,j)}}function po(g,v){var _,C,j=v.M,G=v.Nb,V=g.oc,$=g.pc+40,tt=g.oc,nt=g.pc+584,bt=g.oc,Mt=g.pc+600;for(_=0;16>_;++_)V[$+32*_-1]=129;for(_=0;8>_;++_)tt[nt+32*_-1]=129,bt[Mt+32*_-1]=129;for(0<j?V[$-1-32]=tt[nt-1-32]=bt[Mt-1-32]=129:(a(V,$-32-1,127,21),a(tt,nt-32-1,127,9),a(bt,Mt-32-1,127,9)),C=0;C<g.za;++C){var Lt=v.ya[v.aa+C];if(0<C){for(_=-1;16>_;++_)i(V,$+32*_-4,V,$+32*_+12,4);for(_=-1;8>_;++_)i(tt,nt+32*_-4,tt,nt+32*_+4,4),i(bt,Mt+32*_-4,bt,Mt+32*_+4,4)}var xt=g.Gd,qt=g.Hd+C,Pt=Lt.ad,vt=Lt.Hc;if(0<j&&(i(V,$-32,xt[qt].y,0,16),i(tt,nt-32,xt[qt].f,0,8),i(bt,Mt-32,xt[qt].ea,0,8)),Lt.Za){var At=V,Ft=$-32+16;for(0<j&&(C>=g.za-1?a(At,Ft,xt[qt].y[15],4):i(At,Ft,xt[qt+1].y,0,4)),_=0;4>_;_++)At[Ft+128+_]=At[Ft+256+_]=At[Ft+384+_]=At[Ft+0+_];for(_=0;16>_;++_,vt<<=2)At=V,Ft=$+Nc[_],Ls[Lt.Ob[_]](At,Ft),fo(vt,Pt,16*+_,At,Ft)}else if(At=Rd(C,j,Lt.Ob[0]),xo[At](V,$),vt!=0)for(_=0;16>_;++_,vt<<=2)fo(vt,Pt,16*+_,V,$+Nc[_]);for(_=Lt.Gc,At=Rd(C,j,Lt.Dd),ya[At](tt,nt),ya[At](bt,Mt),vt=Pt,At=tt,Ft=nt,255&(Lt=_>>0)&&(170&Lt?er(vt,256,At,Ft):$s(vt,256,At,Ft)),Lt=bt,vt=Mt,255&(_>>=8)&&(170&_?er(Pt,320,Lt,vt):$s(Pt,320,Lt,vt)),j<g.Ub-1&&(i(xt[qt].y,0,V,$+480,16),i(xt[qt].f,0,tt,nt+224,8),i(xt[qt].ea,0,bt,Mt+224,8)),_=8*G*g.B,xt=g.sa,qt=g.ta+16*C+16*G*g.R,Pt=g.qa,Lt=g.ra+8*C+_,vt=g.Ha,At=g.Ia+8*C+_,_=0;16>_;++_)i(xt,qt+_*g.R,V,$+32*_,16);for(_=0;8>_;++_)i(Pt,Lt+_*g.B,tt,nt+32*_,8),i(vt,At+_*g.B,bt,Mt+32*_,8)}}function zu(g,v,_,C,j,G,V,$,tt){var nt=[0],bt=[0],Mt=0,Lt=tt!=null?tt.kd:0,xt=tt??new Td;if(g==null||12>_)return 7;xt.data=g,xt.w=v,xt.ha=_,v=[v],_=[_],xt.gb=[xt.gb];t:{var qt=v,Pt=_,vt=xt.gb;if(t(g!=null),t(Pt!=null),t(vt!=null),vt[0]=0,12<=Pt[0]&&!e(g,qt[0],"RIFF")){if(e(g,qt[0]+8,"WEBP")){vt=3;break t}var At=Kt(g,qt[0]+4);if(12>At||4294967286<At){vt=3;break t}if(Lt&&At>Pt[0]-8){vt=7;break t}vt[0]=At,qt[0]+=12,Pt[0]-=12}vt=0}if(vt!=0)return vt;for(At=0<xt.gb[0],_=_[0];;){t:{var Ft=g;Pt=v,vt=_;var Ut=nt,Bt=bt,ae=qt=[0];if((Jt=Mt=[Mt])[0]=0,8>vt[0])vt=7;else{if(!e(Ft,Pt[0],"VP8X")){if(Kt(Ft,Pt[0]+4)!=10){vt=3;break t}if(18>vt[0]){vt=7;break t}var Qt=Kt(Ft,Pt[0]+8),ye=1+$t(Ft,Pt[0]+12);if(2147483648<=ye*(Ft=1+$t(Ft,Pt[0]+15))){vt=3;break t}ae!=null&&(ae[0]=Qt),Ut!=null&&(Ut[0]=ye),Bt!=null&&(Bt[0]=Ft),Pt[0]+=18,vt[0]-=18,Jt[0]=1}vt=0}}if(Mt=Mt[0],qt=qt[0],vt!=0)return vt;if(Pt=!!(2&qt),!At&&Mt)return 3;if(G!=null&&(G[0]=!!(16&qt)),V!=null&&(V[0]=Pt),$!=null&&($[0]=0),V=nt[0],qt=bt[0],Mt&&Pt&&tt==null){vt=0;break}if(4>_){vt=7;break}if(At&&Mt||!At&&!Mt&&!e(g,v[0],"ALPH")){_=[_],xt.na=[xt.na],xt.P=[xt.P],xt.Sa=[xt.Sa];t:{Qt=g,vt=v,At=_;var Jt=xt.gb;Ut=xt.na,Bt=xt.P,ae=xt.Sa,ye=22,t(Qt!=null),t(At!=null),Ft=vt[0];var hi=At[0];for(t(Ut!=null),t(ae!=null),Ut[0]=null,Bt[0]=null,ae[0]=0;;){if(vt[0]=Ft,At[0]=hi,8>hi){vt=7;break t}var yi=Kt(Qt,Ft+4);if(4294967286<yi){vt=3;break t}var We=8+yi+1&-2;if(ye+=We,0<Jt&&ye>Jt){vt=3;break t}if(!e(Qt,Ft,"VP8 ")||!e(Qt,Ft,"VP8L")){vt=0;break t}if(hi[0]<We){vt=7;break t}e(Qt,Ft,"ALPH")||(Ut[0]=Qt,Bt[0]=Ft+8,ae[0]=yi),Ft+=We,hi-=We}}if(_=_[0],xt.na=xt.na[0],xt.P=xt.P[0],xt.Sa=xt.Sa[0],vt!=0)break}_=[_],xt.Ja=[xt.Ja],xt.xa=[xt.xa];t:if(Jt=g,vt=v,At=_,Ut=xt.gb[0],Bt=xt.Ja,ae=xt.xa,Qt=vt[0],Ft=!e(Jt,Qt,"VP8 "),ye=!e(Jt,Qt,"VP8L"),t(Jt!=null),t(At!=null),t(Bt!=null),t(ae!=null),8>At[0])vt=7;else{if(Ft||ye){if(Jt=Kt(Jt,Qt+4),12<=Ut&&Jt>Ut-12){vt=3;break t}if(Lt&&Jt>At[0]-8){vt=7;break t}Bt[0]=Jt,vt[0]+=8,At[0]-=8,ae[0]=ye}else ae[0]=5<=At[0]&&Jt[Qt+0]==47&&!(Jt[Qt+4]>>5),Bt[0]=At[0];vt=0}if(_=_[0],xt.Ja=xt.Ja[0],xt.xa=xt.xa[0],v=v[0],vt!=0)break;if(4294967286<xt.Ja)return 3;if($==null||Pt||($[0]=xt.xa?2:1),V=[V],qt=[qt],xt.xa){if(5>_){vt=7;break}$=V,Lt=qt,Pt=G,g==null||5>_?g=0:5<=_&&g[v+0]==47&&!(g[v+4]>>5)?(At=[0],Jt=[0],Ut=[0],Q(Bt=new k,g,v,_),me(Bt,At,Jt,Ut)?($!=null&&($[0]=At[0]),Lt!=null&&(Lt[0]=Jt[0]),Pt!=null&&(Pt[0]=Ut[0]),g=1):g=0):g=0}else{if(10>_){vt=7;break}$=qt,g==null||10>_||!Ns(g,v+3,_-3)?g=0:(Lt=g[v+0]|g[v+1]<<8|g[v+2]<<16,Pt=16383&(g[v+7]<<8|g[v+6]),g=16383&(g[v+9]<<8|g[v+8]),1&Lt||3<(Lt>>1&7)||!(Lt>>4&1)||Lt>>5>=xt.Ja||!Pt||!g?g=0:(V&&(V[0]=Pt),$&&($[0]=g),g=1))}if(!g||(V=V[0],qt=qt[0],Mt&&(nt[0]!=V||bt[0]!=qt)))return 3;tt!=null&&(tt[0]=xt,tt.offset=v-tt.w,t(4294967286>v-tt.w),t(tt.offset==tt.ha-_));break}return vt==0||vt==7&&Mt&&tt==null?(G!=null&&(G[0]|=xt.na!=null&&0<xt.na.length),C!=null&&(C[0]=V),j!=null&&(j[0]=qt),0):vt}function ol(g,v,_){var C=v.width,j=v.height,G=0,V=0,$=C,tt=j;if(v.Da=g!=null&&0<g.Da,v.Da&&($=g.cd,tt=g.bd,G=g.v,V=g.j,11>_||(G&=-2,V&=-2),0>G||0>V||0>=$||0>=tt||G+$>C||V+tt>j))return 0;if(v.v=G,v.j=V,v.va=G+$,v.o=V+tt,v.U=$,v.T=tt,v.da=g!=null&&0<g.da,v.da){if(!Se($,tt,_=[g.ib],G=[g.hb]))return 0;v.ib=_[0],v.hb=G[0]}return v.ob=g!=null&&g.ob,v.Kb=g==null||!g.Sd,v.da&&(v.ob=v.ib<3*C/4&&v.hb<3*j/4,v.Kb=0),1}function qu(g){if(g==null)return 2;if(11>g.S){var v=g.f.RGBA;v.fb+=(g.height-1)*v.A,v.A=-v.A}else v=g.f.kb,g=g.height,v.O+=(g-1)*v.fa,v.fa=-v.fa,v.N+=(g-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(g-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(g-1)*v.lb,v.lb=-v.lb);return 0}function pc(g,v,_,C){if(C==null||0>=g||0>=v)return 2;if(_!=null){if(_.Da){var j=_.cd,G=_.bd,V=-2&_.v,$=-2&_.j;if(0>V||0>$||0>=j||0>=G||V+j>g||$+G>v)return 2;g=j,v=G}if(_.da){if(!Se(g,v,j=[_.ib],G=[_.hb]))return 2;g=j[0],v=G[0]}}C.width=g,C.height=v;t:{var tt=C.width,nt=C.height;if(g=C.S,0>=tt||0>=nt||!(g>=fs&&13>g))g=2;else{if(0>=C.Rd&&C.sd==null){V=G=j=v=0;var bt=($=tt*Z2[g])*nt;if(11>g||(G=(nt+1)/2*(v=(tt+1)/2),g==12&&(V=(j=tt)*nt)),(nt=r(bt+2*G+V))==null){g=1;break t}C.sd=nt,11>g?((tt=C.f.RGBA).eb=nt,tt.fb=0,tt.A=$,tt.size=bt):((tt=C.f.kb).y=nt,tt.O=0,tt.fa=$,tt.Fd=bt,tt.f=nt,tt.N=0+bt,tt.Ab=v,tt.Cd=G,tt.ea=nt,tt.W=0+bt+G,tt.Db=v,tt.Ed=G,g==12&&(tt.F=nt,tt.J=0+bt+2*G),tt.Tc=V,tt.lb=j)}if(v=1,j=C.S,G=C.width,V=C.height,j>=fs&&13>j)if(11>j)g=C.f.RGBA,v&=($=Math.abs(g.A))*(V-1)+G<=g.size,v&=$>=G*Z2[j],v&=g.eb!=null;else{g=C.f.kb,$=(G+1)/2,bt=(V+1)/2,tt=Math.abs(g.fa),nt=Math.abs(g.Ab);var Mt=Math.abs(g.Db),Lt=Math.abs(g.lb),xt=Lt*(V-1)+G;v&=tt*(V-1)+G<=g.Fd,v&=nt*(bt-1)+$<=g.Cd,v=(v&=Mt*(bt-1)+$<=g.Ed)&tt>=G&nt>=$&Mt>=$,v&=g.y!=null,v&=g.f!=null,v&=g.ea!=null,j==12&&(v&=Lt>=G,v&=xt<=g.Tc,v&=g.F!=null)}else v=0;g=v?0:2}}return g!=0||_!=null&&_.fd&&(g=qu(C)),g}var Mn=64,ll=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gc=24,mc=32,Uu=8,Xs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Zt("Predictor0","PredictorAdd0"),W.Predictor0=function(){return 4278190080},W.Predictor1=function(g){return g},W.Predictor2=function(g,v,_){return v[_+0]},W.Predictor3=function(g,v,_){return v[_+1]},W.Predictor4=function(g,v,_){return v[_-1]},W.Predictor5=function(g,v,_){return ee(ee(g,v[_+1]),v[_+0])},W.Predictor6=function(g,v,_){return ee(g,v[_-1])},W.Predictor7=function(g,v,_){return ee(g,v[_+0])},W.Predictor8=function(g,v,_){return ee(v[_-1],v[_+0])},W.Predictor9=function(g,v,_){return ee(v[_+0],v[_+1])},W.Predictor10=function(g,v,_){return ee(ee(g,v[_-1]),ee(v[_+0],v[_+1]))},W.Predictor11=function(g,v,_){var C=v[_+0];return 0>=Ge(C>>24&255,g>>24&255,(v=v[_-1])>>24&255)+Ge(C>>16&255,g>>16&255,v>>16&255)+Ge(C>>8&255,g>>8&255,v>>8&255)+Ge(255&C,255&g,255&v)?C:g},W.Predictor12=function(g,v,_){var C=v[_+0];return(ve((g>>24&255)+(C>>24&255)-((v=v[_-1])>>24&255))<<24|ve((g>>16&255)+(C>>16&255)-(v>>16&255))<<16|ve((g>>8&255)+(C>>8&255)-(v>>8&255))<<8|ve((255&g)+(255&C)-(255&v)))>>>0},W.Predictor13=function(g,v,_){var C=v[_-1];return(Fe((g=ee(g,v[_+0]))>>24&255,C>>24&255)<<24|Fe(g>>16&255,C>>16&255)<<16|Fe(g>>8&255,C>>8&255)<<8|Fe(g>>0&255,C>>0&255))>>>0};var Wm=W.PredictorAdd0;W.PredictorAdd1=ze,Zt("Predictor2","PredictorAdd2"),Zt("Predictor3","PredictorAdd3"),Zt("Predictor4","PredictorAdd4"),Zt("Predictor5","PredictorAdd5"),Zt("Predictor6","PredictorAdd6"),Zt("Predictor7","PredictorAdd7"),Zt("Predictor8","PredictorAdd8"),Zt("Predictor9","PredictorAdd9"),Zt("Predictor10","PredictorAdd10"),Zt("Predictor11","PredictorAdd11"),Zt("Predictor12","PredictorAdd12"),Zt("Predictor13","PredictorAdd13");var Dd=W.PredictorAdd2;Ke("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),Ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Pp,Da=W.ColorIndexInverseTransform,Gn=W.MapARGB,cl=W.VP8LColorIndexInverseTransformAlpha,Pd=W.MapAlpha,go=W.VP8LPredictorsAdd=[];go.length=16,(W.VP8LPredictors=[]).length=16,(W.VP8LPredictorsAdd_C=[]).length=16,(W.VP8LPredictors_C=[]).length=16;var ul,Es,ts,hl,Ws,Ja,Or,tr,sn,er,xn,$s,bc,jr,Hu,dl,fl,pl,vc,Gu,gl,mo,yc,an,ba,Qe,Ze,ji,gn=r(511),Pa=r(2041),ml=r(225),bl=r(767),bo=0,Op=Pa,wc=ml,Vn=bl,Oa=gn,fs=0,Vu=1,Fr=2,Od=3,Ac=4,vo=5,jp=6,jd=7,vl=8,yo=9,Yu=10,Fp=[2,3,7],ja=[3,3,11],va=[280,256,256,256,40],xc=[0,1,1,1,0],wo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ao=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Sc=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],X2=8,Fd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Id=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kn=null,rn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],yl=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ir=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$m=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_c=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],W2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xo=[],Ls=[],ya=[],$2=1,Xu=2,Br=[],Yn=[];Ot("UpsampleRgbLinePair",ai,3),Ot("UpsampleBgrLinePair",Vi,3),Ot("UpsampleRgbaLinePair",Qa,4),Ot("UpsampleBgraLinePair",Hn,4),Ot("UpsampleArgbLinePair",pn,4),Ot("UpsampleRgba4444LinePair",fn,2),Ot("UpsampleRgb565LinePair",Zi,2);var So=W.UpsampleRgbLinePair,wl=W.UpsampleBgrLinePair,zr=W.UpsampleRgbaLinePair,Ip=W.UpsampleBgraLinePair,Bp=W.UpsampleArgbLinePair,Wu=W.UpsampleRgba4444LinePair,zp=W.UpsampleRgb565LinePair,qr=16,Rn=1<<qr-1,Al=-227,qp=482,Mv=6,K2=0,kv=r(256),Dn=r(256),Km=r(256),Bd=r(256),zd=r(qp-Al),Qm=r(qp-Al);Za("YuvToRgbRow",ai,3),Za("YuvToBgrRow",Vi,3),Za("YuvToRgbaRow",Qa,4),Za("YuvToBgraRow",Hn,4),Za("YuvToArgbRow",pn,4),Za("YuvToRgba4444Row",fn,2),Za("YuvToRgb565Row",Zi,2);var Nc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_o=[0,2,8],Rv=[8,7,6,4,4,2,2,2,1,1,1,1],Q2=1;this.WebPDecodeRGBA=function(g,v,_,C,j){var G=Vu,V=new ju,$=new ca;V.ba=$,$.S=G,$.width=[$.width],$.height=[$.height];var tt=$.width,nt=$.height,bt=new ua;if(bt==null||g==null)var Mt=2;else t(bt!=null),Mt=zu(g,v,_,bt.width,bt.height,bt.Pd,bt.Qd,bt.format,null);if(Mt!=0?tt=0:(tt!=null&&(tt[0]=bt.width[0]),nt!=null&&(nt[0]=bt.height[0]),tt=1),tt){$.width=$.width[0],$.height=$.height[0],C!=null&&(C[0]=$.width),j!=null&&(j[0]=$.height);t:{if(C=new Zo,(j=new Td).data=g,j.w=v,j.ha=_,j.kd=1,v=[0],t(j!=null),((g=zu(j.data,j.w,j.ha,null,null,null,v,null,j))==0||g==7)&&v[0]&&(g=4),(v=g)==0){if(t(V!=null),C.data=j.data,C.w=j.w+j.offset,C.ha=j.ha-j.offset,C.put=Xa,C.ac=Cn,C.bc=Mr,C.ma=V,j.xa){if((g=Jn())==null){V=1;break t}if(function(Lt,xt){var qt=[0],Pt=[0],vt=[0];e:for(;;){if(Lt==null)return 0;if(xt==null)return Lt.a=2,0;if(Lt.l=xt,Lt.a=0,Q(Lt.m,xt.data,xt.w,xt.ha),!me(Lt.m,qt,Pt,vt)){Lt.a=3;break e}if(Lt.xb=Xu,xt.width=qt[0],xt.height=Pt[0],!Ci(qt[0],Pt[0],1,Lt,null))break e;return 1}return t(Lt.a!=0),0}(g,C)){if(C=(v=pc(C.width,C.height,V.Oa,V.ba))==0){e:{C=g;i:for(;;){if(C==null){C=0;break e}if(t(C.s.yc!=null),t(C.s.Ya!=null),t(0<C.s.Wb),t((_=C.l)!=null),t((j=_.ma)!=null),C.xb!=0){if(C.ca=j.ba,C.tb=j.tb,t(C.ca!=null),!ol(j.Oa,_,Od)){C.a=2;break i}if(!Qo(C,_.width)||_.da)break i;if((_.da||vi(C.ca.S))&&Et(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Et()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!xe(C.s.vb,C.s.Wa.Xa)){C.a=1;break i}C.xb=0}if(!hs(C,C.V,C.Ba,C.c,C.i,_.o,rc))break i;j.Dc=C.Ma,C=1;break e}t(C.a!=0),C=0}C=!C}C&&(v=g.a)}else v=g.a}else{if((g=new Hm)==null){V=1;break t}if(g.Fa=j.na,g.P=j.P,g.qc=j.Sa,wd(g,C)){if((v=pc(C.width,C.height,V.Oa,V.ba))==0){if(g.Aa=0,_=V.Oa,t((j=g)!=null),_!=null){if(0<(tt=0>(tt=_.Md)?0:100<tt?255:255*tt/100)){for(nt=bt=0;4>nt;++nt)12>(Mt=j.pb[nt]).lc&&(Mt.ia=tt*Rv[0>Mt.lc?0:Mt.lc]>>3),bt|=Mt.ia;bt&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=_.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}Ep(g,C)||(v=g.a)}}else v=g.a}v==0&&V.Oa!=null&&V.Oa.fd&&(v=qu(V.ba))}V=v}G=V!=0?null:11>G?$.f.RGBA.eb:$.f.kb.y}else G=null;return G};var Z2=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(W,lt){for(var yt="",H=0;H<4;H++)yt+=String.fromCharCode(W[lt++]);return yt}function m(W,lt){return(W[lt+0]<<0|W[lt+1]<<8|W[lt+2]<<16)>>>0}function y(W,lt){return(W[lt+0]<<0|W[lt+1]<<8|W[lt+2]<<16|W[lt+3]<<24)>>>0}new h;var A=[0],w=[0],L=[],N=new h,M=c,E=function(W,lt){var yt={},H=0,J=!1,ut=0,rt=0;if(yt.frames=[],!function(q,et,at,ct){for(var gt=0;gt<ct;gt++)if(q[et+gt]!=at.charCodeAt(gt))return!0;return!1}(W,lt,"RIFF",4)){for(y(W,lt+=4),lt+=8;lt<W.length;){var _t=p(W,lt),B=y(W,lt+=4);lt+=4;var z=B+(1&B);switch(_t){case"VP8 ":case"VP8L":yt.frames[H]===void 0&&(yt.frames[H]={}),(O=yt.frames[H]).src_off=J?rt:lt-8,O.src_size=ut+B+8,H++,J&&(J=!1,ut=0,rt=0);break;case"VP8X":(O=yt.header={}).feature_flags=W[lt];var Q=lt+4;O.canvas_width=1+m(W,Q),Q+=3,O.canvas_height=1+m(W,Q),Q+=3;break;case"ALPH":J=!0,ut=z+8,rt=lt-8;break;case"ANIM":(O=yt.header).bgcolor=y(W,lt),Q=lt+4,O.loop_count=(ft=W)[(k=Q)+0]<<0|ft[k+1]<<8,Q+=2;break;case"ANMF":var pt,O;(O=yt.frames[H]={}).offset_x=2*m(W,lt),lt+=3,O.offset_y=2*m(W,lt),lt+=3,O.width=1+m(W,lt),lt+=3,O.height=1+m(W,lt),lt+=3,O.duration=m(W,lt),lt+=3,pt=W[lt++],O.dispose=1&pt,O.blend=pt>>1&1}_t!="ANMF"&&(lt+=z)}var ft,k;return yt}}(M,0);E.response=M,E.rgbaoutput=!0,E.dataurl=!1;var R=E.header?E.header:null,P=E.frames?E.frames:null;if(R){R.loop_counter=R.loop_count,A=[R.canvas_height],w=[R.canvas_width];for(var K=0;K<P.length&&P[K].blend!=0;K++);}var X=P[0],st=N.WebPDecodeRGBA(M,X.src_off,X.src_size,w,A);X.rgba=st,X.imgwidth=w[0],X.imgheight=A[0];for(var it=0;it<w[0]*A[0]*4;it++)L[it]=st[it];return this.width=w,this.height=A,this.data=L,this}(function(c){var t=function(){return typeof gw=="function"},e=function(A,w,L,N){var M=4,E=o;switch(N){case c.image_compression.FAST:M=1,E=r;break;case c.image_compression.MEDIUM:M=6,E=u;break;case c.image_compression.SLOW:M=9,E=h}A=i(A,w,L,E);var R=gw(A,{level:M});return c.__addimage__.arrayBufferToBinaryString(R)},i=function(A,w,L,N){for(var M,E,R,P=A.length/w,K=new Uint8Array(A.length+P),X=m(),st=0;st<P;st+=1){if(R=st*w,M=A.subarray(R,R+w),N)K.set(N(M,L,E),R+st);else{for(var it,W=X.length,lt=[];it<W;it+=1)lt[it]=X[it](M,L,E);var yt=y(lt.concat());K.set(lt[yt],R+st)}E=M}return K},a=function(A){var w=Array.apply([],A);return w.unshift(0),w},r=function(A,w){var L,N=[],M=A.length;N[0]=1;for(var E=0;E<M;E+=1)L=A[E-w]||0,N[E+1]=A[E]-L+256&255;return N},o=function(A,w,L){var N,M=[],E=A.length;M[0]=2;for(var R=0;R<E;R+=1)N=L&&L[R]||0,M[R+1]=A[R]-N+256&255;return M},u=function(A,w,L){var N,M,E=[],R=A.length;E[0]=3;for(var P=0;P<R;P+=1)N=A[P-w]||0,M=L&&L[P]||0,E[P+1]=A[P]+256-(N+M>>>1)&255;return E},h=function(A,w,L){var N,M,E,R,P=[],K=A.length;P[0]=4;for(var X=0;X<K;X+=1)N=A[X-w]||0,M=L&&L[X]||0,E=L&&L[X-w]||0,R=p(N,M,E),P[X+1]=A[X]-R+256&255;return P},p=function(A,w,L){if(A===w&&w===L)return A;var N=Math.abs(w-L),M=Math.abs(A-L),E=Math.abs(A+w-L-L);return N<=M&&N<=E?A:M<=E?w:L},m=function(){return[a,r,o,u,h]},y=function(A){var w=A.map(function(L){return L.reduce(function(N,M){return N+Math.abs(M)},0)});return w.indexOf(Math.min.apply(null,w))};c.processPNG=function(A,w,L,N){var M,E,R,P,K,X,st,it,W,lt,yt,H,J,ut,rt,_t=this.decode.FLATE_DECODE,B="";if(this.__addimage__.isArrayBuffer(A)&&(A=new Uint8Array(A)),this.__addimage__.isArrayBufferView(A)){if(A=(R=new Y8(A)).imgData,E=R.bits,M=R.colorSpace,K=R.colors,[4,6].indexOf(R.colorType)!==-1){if(R.bits===8){W=(it=R.pixelBitlength==32?new Uint32Array(R.decodePixels().buffer):R.pixelBitlength==16?new Uint16Array(R.decodePixels().buffer):new Uint8Array(R.decodePixels().buffer)).length,yt=new Uint8Array(W*R.colors),lt=new Uint8Array(W);var z,Q=R.pixelBitlength-R.bits;for(ut=0,rt=0;ut<W;ut++){for(J=it[ut],z=0;z<Q;)yt[rt++]=J>>>z&255,z+=R.bits;lt[ut]=J>>>z&255}}if(R.bits===16){W=(it=new Uint32Array(R.decodePixels().buffer)).length,yt=new Uint8Array(W*(32/R.pixelBitlength)*R.colors),lt=new Uint8Array(W*(32/R.pixelBitlength)),H=R.colors>1,ut=0,rt=0;for(var pt=0;ut<W;)J=it[ut++],yt[rt++]=J>>>0&255,H&&(yt[rt++]=J>>>16&255,J=it[ut++],yt[rt++]=J>>>0&255),lt[pt++]=J>>>16&255;E=8}N!==c.image_compression.NONE&&t()?(A=e(yt,R.width*R.colors,R.colors,N),st=e(lt,R.width,1,N)):(A=yt,st=lt,_t=void 0)}if(R.colorType===3&&(M=this.color_spaces.INDEXED,X=R.palette,R.transparency.indexed)){var O=R.transparency.indexed,ft=0;for(ut=0,W=O.length;ut<W;++ut)ft+=O[ut];if((ft/=255)===W-1&&O.indexOf(0)!==-1)P=[O.indexOf(0)];else if(ft!==W){for(it=R.decodePixels(),lt=new Uint8Array(it.length),ut=0,W=it.length;ut<W;ut++)lt[ut]=O[it[ut]];st=e(lt,R.width,1)}}var k=function(q){var et;switch(q){case c.image_compression.FAST:et=11;break;case c.image_compression.MEDIUM:et=13;break;case c.image_compression.SLOW:et=14;break;default:et=12}return et}(N);return _t===this.decode.FLATE_DECODE&&(B="/Predictor "+k+" "),B+="/Colors "+K+" /BitsPerComponent "+E+" /Columns "+R.width,(this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),(st&&this.__addimage__.isArrayBuffer(st)||this.__addimage__.isArrayBufferView(st))&&(st=this.__addimage__.arrayBufferToBinaryString(st)),{alias:L,data:A,index:w,filter:_t,decodeParameters:B,transparency:P,palette:X,sMask:st,predictor:k,width:R.width,height:R.height,bitsPerComponent:E,colorSpace:M}}}})(Ce.API),function(c){c.processGIF89A=function(t,e,i,a){var r=new X8(t),o=r.width,u=r.height,h=[];r.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:o,height:u},m=new Zy(100).encode(p,100);return c.processJPEG.call(this,m,e,i,a)},c.processGIF87A=c.processGIF89A}(Ce.API),Ro.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var c=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(c);for(var t=0;t<c;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:i,blue:e,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ro.prototype.parseBGR=function(){this.pos=this.offset;try{var c="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[c]()}catch(e){Gi.log("bit decode error:"+e)}},Ro.prototype.bit1=function(){var c,t=Math.ceil(this.width/8),e=t%4;for(c=this.height-1;c>=0;c--){for(var i=this.bottom_up?c:this.height-1-c,a=0;a<t;a++)for(var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var h=this.palette[r>>7-u&1];this.data[o+4*u]=h.blue,this.data[o+4*u+1]=h.green,this.data[o+4*u+2]=h.red,this.data[o+4*u+3]=255}e!==0&&(this.pos+=4-e)}},Ro.prototype.bit4=function(){for(var c=Math.ceil(this.width/2),t=c%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<c;a++){var r=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*a*4,u=r>>4,h=15&r,p=this.palette[u];if(this.data[o]=p.blue,this.data[o+1]=p.green,this.data[o+2]=p.red,this.data[o+3]=255,2*a+1>=this.width)break;p=this.palette[h],this.data[o+4]=p.blue,this.data[o+4+1]=p.green,this.data[o+4+2]=p.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ro.prototype.bit8=function(){for(var c=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),r=e*this.width*4+4*i;if(a<this.palette.length){var o=this.palette[a];this.data[r]=o.red,this.data[r+1]=o.green,this.data[r+2]=o.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}c!==0&&(this.pos+=4-c)}},Ro.prototype.bit15=function(){for(var c=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(r&t)/t*255|0,u=(r>>5&t)/t*255|0,h=(r>>10&t)/t*255|0,p=r>>15?255:0,m=i*this.width*4+4*a;this.data[m]=h,this.data[m+1]=u,this.data[m+2]=o,this.data[m+3]=p}this.pos+=c}},Ro.prototype.bit16=function(){for(var c=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,h=(o>>5&e)/e*255|0,p=(o>>11)/t*255|0,m=a*this.width*4+4*r;this.data[m]=p,this.data[m+1]=h,this.data[m+2]=u,this.data[m+3]=255}this.pos+=c}},Ro.prototype.bit24=function(){for(var c=this.height-1;c>=0;c--){for(var t=this.bottom_up?c:this.height-1-c,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=r,this.data[o+1]=a,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},Ro.prototype.bit32=function(){for(var c=this.height-1;c>=0;c--)for(var t=this.bottom_up?c:this.height-1-c,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=r,this.data[u+1]=a,this.data[u+2]=i,this.data[u+3]=o}},Ro.prototype.getData=function(){return this.data},function(c){c.processBMP=function(t,e,i,a){var r=new Ro(t,!1),o=r.width,u=r.height,h={data:r.getData(),width:o,height:u},p=new Zy(100).encode(h,100);return c.processJPEG.call(this,p,e,i,a)}}(Ce.API),zS.prototype.getData=function(){return this.data},function(c){c.processWEBP=function(t,e,i,a){var r=new zS(t),o=r.width,u=r.height,h={data:r.getData(),width:o,height:u},p=new Zy(100).encode(h,100);return c.processJPEG.call(this,p,e,i,a)}}(Ce.API),Ce.API.processRGBA=function(c,t,e){for(var i=c.data,a=i.length,r=new Uint8Array(a/4*3),o=new Uint8Array(a/4),u=0,h=0,p=0;p<a;p+=4){var m=i[p],y=i[p+1],A=i[p+2],w=i[p+3];r[u++]=m,r[u++]=y,r[u++]=A,o[h++]=w}var L=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:L,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:c.width,height:c.height}},Ce.API.setLanguage=function(c){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[c]!==void 0&&(this.internal.languageSettings.languageCode=c,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hg=Ce.API,$5=hg.getCharWidthsArray=function(c,t){var e,i,a=(t=t||{}).font||this.internal.getFont(),r=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:a.metadata.Unicode.widths,h=u.fof?u.fof:1,p=t.kerning?t.kerning:a.metadata.Unicode.kerning,m=p.fof?p.fof:1,y=t.doKerning!==!1,A=0,w=c.length,L=0,N=u[0]||h,M=[];for(e=0;e<w;e++)i=c.charCodeAt(e),typeof a.metadata.widthOfString=="function"?M.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+o*(1e3/r)||0)/1e3):(A=y&&Di(p[i])==="object"&&!isNaN(parseInt(p[i][L],10))?p[i][L]/m:0,M.push((u[i]||N)/h+A)),L=i;return M},jS=hg.getStringUnitWidth=function(c,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return hg.processArabic&&(c=hg.processArabic(c)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(c,e,a)/e:$5.apply(this,arguments).reduce(function(r,o){return r+o},0)},FS=function(c,t,e,i){for(var a=[],r=0,o=c.length,u=0;r!==o&&u+t[r]<e;)u+=t[r],r++;a.push(c.slice(0,r));var h=r;for(u=0;r!==o;)u+t[r]>i&&(a.push(c.slice(h,r)),u=0,h=r),u+=t[r],r++;return h!==r&&a.push(c.slice(h,r)),a},IS=function(c,t,e){e||(e={});var i,a,r,o,u,h,p,m=[],y=[m],A=e.textIndent||0,w=0,L=0,N=c.split(" "),M=$5.apply(this,[" ",e])[0];if(h=e.lineIndent===-1?N[0].length+2:e.lineIndent||0){var E=Array(h).join(" "),R=[];N.map(function(K){(K=K.split(/\s*\n/)).length>1?R=R.concat(K.map(function(X,st){return(st&&X.length?`
`:"")+X})):R.push(K[0])}),N=R,h=jS.apply(this,[E,e])}for(r=0,o=N.length;r<o;r++){var P=0;if(i=N[r],h&&i[0]==`
`&&(i=i.substr(1),P=1),A+w+(L=(a=$5.apply(this,[i,e])).reduce(function(K,X){return K+X},0))>t||P){if(L>t){for(u=FS.apply(this,[i,a,t-(A+w),t]),m.push(u.shift()),m=[u.pop()];u.length;)y.push([u.shift()]);L=a.slice(i.length-(m[0]?m[0].length:0)).reduce(function(K,X){return K+X},0)}else m=[i];y.push(m),A=L+h,w=M}else m.push(i),A+=w+L,w=M}return p=h?function(K,X){return(X?E:"")+K.join(" ")}:function(K){return K.join(" ")},y.map(p)},hg.splitTextToSize=function(c,t,e){var i,a=(e=e||{}).fontSize||this.internal.getFontSize(),r=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);i=Array.isArray(c)?c:String(c).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;r.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,r.lineIndent=e.lineIndent;var u,h,p=[];for(u=0,h=i.length;u<h;u++)p=p.concat(IS.apply(this,[i[u],o,r]));return p},function(c){c.__fontmetrics__=c.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},a=0;a<t.length;a++)e[t[a]]="0123456789abcdef"[a],i["0123456789abcdef"[a]]=t[a];var r=function(y){return"0x"+parseInt(y,10).toString(16)},o=c.__fontmetrics__.compress=function(y){var A,w,L,N,M=["{"];for(var E in y){if(A=y[E],isNaN(parseInt(E,10))?w="'"+E+"'":(E=parseInt(E,10),w=(w=r(E).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof A=="number")A<0?(L=r(A).slice(3),N="-"):(L=r(A).slice(2),N=""),L=N+L.slice(0,-1)+i[L.slice(-1)];else{if(Di(A)!=="object")throw new Error("Don't know what to do with value type "+Di(A)+".");L=o(A)}M.push(w+L)}return M.push("}"),M.join("")},u=c.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,w,L,N,M={},E=1,R=M,P=[],K="",X="",st=y.length-1,it=1;it<st;it+=1)(N=y[it])=="'"?A?(L=A.join(""),A=void 0):A=[]:A?A.push(N):N=="{"?(P.push([R,L]),R={},L=void 0):N=="}"?((w=P.pop())[0][w[1]]=R,L=void 0,R=w[0]):N=="-"?E=-1:L===void 0?e.hasOwnProperty(N)?(K+=e[N],L=parseInt(K,16)*E,E=1,K=""):K+=N:e.hasOwnProperty(N)?(X+=e[N],R[L]=parseInt(X,16)*E,E=1,L=void 0,X=""):X+=N;return M},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};c.events.push(["addFont",function(y){var A=y.font,w=m.Unicode[A.postScriptName];w&&(A.metadata.Unicode={},A.metadata.Unicode.widths=w.widths,A.metadata.Unicode.kerning=w.kerning);var L=p.Unicode[A.postScriptName];L&&(A.metadata.Unicode.encoding=L,A.encoding=L.codePages[0])}])}(Ce.API),function(c){var t=function(e){for(var i=e.length,a=new Uint8Array(i),r=0;r<i;r++)a[r]=e.charCodeAt(r);return a};c.API.events.push(["addFont",function(e){var i=void 0,a=e.font,r=e.instance;if(!a.isStandardFont){if(r===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=r.existsFileInVFS(a.postScriptName)===!1?r.loadFile(a.postScriptName):r.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(o0(u)),o.metadata=c.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,i)}}])}(Ce),function(c){function t(){return(Me.canvg?Promise.resolve(Me.canvg):uw(()=>import("./index.es-BNBA7rv0.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Ce.API.addSvgAsImage=function(e,i,a,r,o,u,h,p){if(isNaN(i)||isNaN(a))throw Gi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(o))throw Gi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=r,m.height=o;var y=m.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,m.width,m.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return t().then(function(L){return L.fromString(y,e,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(L){return L.render(A)}).then(function(){w.addImage(m.toDataURL("image/jpeg",1),i,a,r,o,h,p)})}}(),Ce.API.putTotalPages=function(c){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(c,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(c,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(t,e);return this},Ce.API.viewerPreferences=function(c,t){var e;c=c||{},t=t||!1;var i,a,r,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),h=[],p=0,m=0,y=0;function A(L,N){var M,E=!1;for(M=0;M<L.length;M+=1)L[M]===N&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,c==="reset"||t===!0){var w=u.length;for(y=0;y<w;y+=1)e[u[y]].value=e[u[y]].defaultValue,e[u[y]].explicitSet=!1}if(Di(c)==="object"){for(a in c)if(r=c[a],A(u,a)&&r!==void 0){if(e[a].type==="boolean"&&typeof r=="boolean")e[a].value=r;else if(e[a].type==="name"&&A(e[a].valueSet,r))e[a].value=r;else if(e[a].type==="integer"&&Number.isInteger(r))e[a].value=r;else if(e[a].type==="array"){for(p=0;p<r.length;p+=1)if(i=!0,r[p].length===1&&typeof r[p][0]=="number")h.push(String(r[p]-1));else if(r[p].length>1){for(m=0;m<r[p].length;m+=1)typeof r[p][m]!="number"&&(i=!1);i===!0&&h.push([r[p][0]-1,r[p][1]-1].join(" "))}e[a].value="["+h.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var L,N=[];for(L in e)e[L].explicitSet===!0&&(e[L].type==="name"?N.push("/"+L+" /"+e[L].value):N.push("/"+L+" "+e[L].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(c){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=r.length+o.length+u.length+a.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(a+r+o+u+h),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};c.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Ce.API),function(c){var t=c.API,e=t.pdfEscape16=function(r,o){for(var u,h=o.metadata.Unicode.widths,p=["","0","00","000","0000"],m=[""],y=0,A=r.length;y<A;++y){if(u=o.metadata.characterToGlyph(r.charCodeAt(y)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=r.charCodeAt(y),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return m.join("");u=u.toString(16),m.push(p[4-u.length],u)}return m.join("")},i=function(r){var o,u,h,p,m,y,A;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],y=0,A=(u=Object.keys(r).sort(function(w,L){return w-L})).length;y<A;y++)o=u[y],h.length>=100&&(m+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),r[o]!==void 0&&r[o]!==null&&typeof r[o].toString=="function"&&(p=("0000"+r[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),h.push("<"+o+"><"+p+">"));return h.length&&(m+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(r){(function(o){var u=o.font,h=o.out,p=o.newObject,m=o.putStream;if(u.metadata instanceof c.API.TTFFont&&u.encoding==="Identity-H"){for(var y=u.metadata.Unicode.widths,A=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),w="",L=0;L<A.length;L++)w+=String.fromCharCode(A[L]);var N=p();m({data:w,addLength1:!0,objectId:N}),h("endobj");var M=p();m({data:i(u.metadata.toUnicode),addLength1:!0,objectId:M}),h("endobj");var E=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+fg(u.fontName)),h("/FontFile2 "+N+" 0 R"),h("/FontBBox "+c.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var R=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+fg(u.fontName)),h("/FontDescriptor "+E+" 0 R"),h("/W "+c.API.PDFObject.convert(y)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+M+" 0 R"),h("/BaseFont /"+fg(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+R+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(r)}]),t.events.push(["putFont",function(r){(function(o){var u=o.font,h=o.out,p=o.newObject,m=o.putStream;if(u.metadata instanceof c.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var y=u.metadata.rawData,A="",w=0;w<y.length;w++)A+=String.fromCharCode(y[w]);var L=p();m({data:A,addLength1:!0,objectId:L}),h("endobj");var N=p();m({data:i(u.metadata.toUnicode),addLength1:!0,objectId:N}),h("endobj");var M=p();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+L+" 0 R"),h("/Flags 96"),h("/FontBBox "+c.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+fg(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=p();for(var E=0;E<u.metadata.hmtx.widths.length;E++)u.metadata.hmtx.widths[E]=parseInt(u.metadata.hmtx.widths[E]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+fg(u.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+c.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(r)}]);var a=function(r){var o,u=r.text||"",h=r.x,p=r.y,m=r.options||{},y=r.mutex||{},A=y.pdfEscape,w=y.activeFontKey,L=y.fonts,N=w,M="",E=0,R="",P=L[N].encoding;if(L[N].encoding!=="Identity-H")return{text:u,x:h,y:p,options:m,mutex:y};for(R=u,N=w,Array.isArray(u)&&(R=u[0]),E=0;E<R.length;E+=1)L[N].metadata.hasOwnProperty("cmap")&&(o=L[N].metadata.cmap.unicode.codeMap[R[E].charCodeAt(0)]),o||R[E].charCodeAt(0)<256&&L[N].metadata.hasOwnProperty("Unicode")?M+=R[E]:M+="";var K="";return parseInt(N.slice(1))<14||P==="WinAnsiEncoding"?K=A(M,N).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(K=e(M,L[N])),y.isHex=!0,{text:K,x:h,y:p,options:m,mutex:y}};t.events.push(["postProcessText",function(r){var o=r.text||"",u=[],h={text:o,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(o)){var p=0;for(p=0;p<o.length;p+=1)Array.isArray(o[p])&&o[p].length===3?u.push([a(Object.assign({},h,{text:o[p][0]})).text,o[p][1],o[p][2]]):u.push(a(Object.assign({},h,{text:o[p]})).text);r.text=u}else r.text=a(Object.assign({},h,{text:o})).text}])}(Ce),function(c){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};c.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},c.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},c.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Ce.API),function(c){c.__bidiEngine__=c.prototype.__bidiEngine__=function(i){var a,r,o,u,h,p,m,y=t,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],L={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,P=0;this.__bidiEngine__={};var K=function(H){var J=H.charCodeAt(),ut=J>>8,rt=N[ut];return rt!==void 0?y[256*rt+(255&J)]:ut===252||ut===253?"AL":E.test(ut)?"L":ut===8?"R":"N"},X=function(H){for(var J,ut=0;ut<H.length;ut++){if((J=K(H.charAt(ut)))==="L")return!1;if(J==="R")return!0}return!1},st=function(H,J,ut,rt){var _t,B,z,Q,pt=J[rt];switch(pt){case"L":case"R":R=!1;break;case"N":case"AN":break;case"EN":R&&(pt="AN");break;case"AL":R=!0,pt="R";break;case"WS":pt="N";break;case"CS":rt<1||rt+1>=J.length||(_t=ut[rt-1])!=="EN"&&_t!=="AN"||(B=J[rt+1])!=="EN"&&B!=="AN"?pt="N":R&&(B="AN"),pt=B===_t?B:"N";break;case"ES":pt=(_t=rt>0?ut[rt-1]:"B")==="EN"&&rt+1<J.length&&J[rt+1]==="EN"?"EN":"N";break;case"ET":if(rt>0&&ut[rt-1]==="EN"){pt="EN";break}if(R){pt="N";break}for(z=rt+1,Q=J.length;z<Q&&J[z]==="ET";)z++;pt=z<Q&&J[z]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(Q=J.length,z=rt+1;z<Q&&J[z]==="NSM";)z++;if(z<Q){var O=H[rt],ft=O>=1425&&O<=2303||O===64286;if(_t=J[z],ft&&(_t==="R"||_t==="AL")){pt="R";break}}}pt=rt<1||(_t=J[rt-1])==="B"?"N":ut[rt-1];break;case"B":R=!1,a=!0,pt=P;break;case"S":r=!0,pt="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"BN":pt="N"}return pt},it=function(H,J,ut){var rt=H.split("");return ut&&W(rt,ut,{hiLevel:P}),rt.reverse(),J&&J.reverse(),rt.join("")},W=function(H,J,ut){var rt,_t,B,z,Q,pt=-1,O=H.length,ft=0,k=[],q=P?w:A,et=[];for(R=!1,a=!1,r=!1,_t=0;_t<O;_t++)et[_t]=K(H[_t]);for(B=0;B<O;B++){if(Q=ft,k[B]=st(H,et,k,B),rt=240&(ft=q[Q][L[k[B]]]),ft&=15,J[B]=z=q[ft][5],rt>0)if(rt===16){for(_t=pt;_t<B;_t++)J[_t]=1;pt=-1}else pt=-1;if(q[ft][6])pt===-1&&(pt=B);else if(pt>-1){for(_t=pt;_t<B;_t++)J[_t]=z;pt=-1}et[B]==="B"&&(J[B]=0),ut.hiLevel|=z}r&&function(at,ct,gt){for(var St=0;St<gt;St++)if(at[St]==="S"){ct[St]=P;for(var Tt=St-1;Tt>=0&&at[Tt]==="WS";Tt--)ct[Tt]=P}}(et,J,O)},lt=function(H,J,ut,rt,_t){if(!(_t.hiLevel<H)){if(H===1&&P===1&&!a)return J.reverse(),void(ut&&ut.reverse());for(var B,z,Q,pt,O=J.length,ft=0;ft<O;){if(rt[ft]>=H){for(Q=ft+1;Q<O&&rt[Q]>=H;)Q++;for(pt=ft,z=Q-1;pt<z;pt++,z--)B=J[pt],J[pt]=J[z],J[z]=B,ut&&(B=ut[pt],ut[pt]=ut[z],ut[z]=B);ft=Q}ft++}}},yt=function(H,J,ut){var rt=H.split(""),_t={hiLevel:P};return ut||(ut=[]),W(rt,ut,_t),function(B,z,Q){if(Q.hiLevel!==0&&m)for(var pt,O=0;O<B.length;O++)z[O]===1&&(pt=M.indexOf(B[O]))>=0&&(B[O]=M[pt+1])}(rt,ut,_t),lt(2,rt,J,ut,_t),lt(1,rt,J,ut,_t),rt.join("")};return this.__bidiEngine__.doBidiReorder=function(H,J,ut){if(function(_t,B){if(B)for(var z=0;z<_t.length;z++)B[z]=z;u===void 0&&(u=X(_t)),p===void 0&&(p=X(_t))}(H,J),o||!h||p)if(o&&h&&u^p)P=u?1:0,H=it(H,J,ut);else if(!o&&h&&p)P=u?1:0,H=yt(H,J,ut),H=it(H,J);else if(!o||u||h||p){if(o&&!h&&u^p)H=it(H,J),u?(P=0,H=yt(H,J,ut)):(P=1,H=yt(H,J,ut),H=it(H,J));else if(o&&u&&!h&&p)P=1,H=yt(H,J,ut),H=it(H,J);else if(!o&&!h&&u^p){var rt=m;u?(P=1,H=yt(H,J,ut),P=0,m=!1,H=yt(H,J,ut),m=rt):(P=0,H=yt(H,J,ut),H=it(H,J),P=1,m=!1,H=yt(H,J,ut),m=rt,H=it(H,J))}}else P=0,H=yt(H,J,ut);else P=u?1:0,H=yt(H,J,ut);return H},this.__bidiEngine__.setOptions=function(H){H&&(o=H.isInputVisual,h=H.isOutputVisual,u=H.isInputRtl,p=H.isOutputRtl,m=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new c.__bidiEngine__({isInputVisual:!0});c.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var r=i.options||{};i.mutex,r.lang;var o=[];if(r.isInputVisual=typeof r.isInputVisual!="boolean"||r.isInputVisual,e.setOptions(r),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(o=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?o.push([e.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):o.push([e.doBidiReorder(a[u])]);i.text=o}else i.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])}(Ce),Ce.API.TTFFont=function(){function c(t){var e;if(this.rawData=t,e=this.contents=new dd(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new lC(this),this.registerTTF()}return c.open=function(t){return new c(t)},c.prototype.parse=function(){return this.directory=new W8(this.contents),this.head=new K8(this),this.name=new eC(this),this.cmap=new X4(this),this.toUnicode={},this.hhea=new Q8(this),this.maxp=new iC(this),this.hmtx=new nC(this),this.post=new J8(this),this.os2=new Z8(this),this.loca=new oC(this),this.glyf=new sC(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},c.prototype.registerTTF=function(){var t,e,i,a,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,h,p;for(p=[],o=0,u=(h=this.bbox).length;o<u;o++)t=h[o],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),(32768&(e=a>>16))!=0&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(r=this.familyClass)===1||r===2||r===3||r===4||r===5||r===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},c.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},c.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},c.prototype.widthOfString=function(t,e,i){var a,r,o,u;for(o=0,r=0,u=(t=""+t).length;0<=u?r<u:r>u;r=0<=u?++r:--r)a=t.charCodeAt(r),o+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/e)||0;return o*(e/1e3)},c.prototype.lineHeight=function(t,e){var i;return e==null&&(e=!1),i=e?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},c}();var $o,dd=function(){function c(t){this.data=t??[],this.pos=0,this.length=this.data.length}return c.prototype.readByte=function(){return this.data[this.pos++]},c.prototype.writeByte=function(t){return this.data[this.pos++]=t},c.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},c.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},c.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},c.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},c.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},c.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},c.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},c.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},c.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},c.prototype.writeString=function(t){var e,i,a;for(a=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},c.prototype.readShort=function(){return this.readInt16()},c.prototype.writeShort=function(t){return this.writeInt16(t)},c.prototype.readLongLong=function(){var t,e,i,a,r,o,u,h;return t=this.readByte(),e=this.readByte(),i=this.readByte(),a=this.readByte(),r=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^r)+65536*(255^o)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*a+16777216*r+65536*o+256*u+h},c.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},c.prototype.readInt=function(){return this.readInt32()},c.prototype.writeInt=function(t){return this.writeInt32(t)},c.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},c.prototype.write=function(t){var e,i,a,r;for(r=[],i=0,a=t.length;i<a;i++)e=t[i],r.push(this.writeByte(e));return r},c}(),W8=function(){var c;function t(e){var i,a,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,r=this.tableCount;0<=r?a<r:a>r;a=0<=r?++a:--a)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,a,r,o,u,h,p,m,y,A,w,L,N;for(N in w=Object.keys(e).length,h=Math.log(2),y=16*Math.floor(Math.log(w)/h),o=Math.floor(y/h),m=16*w-y,(a=new dd).writeInt(this.scalarType),a.writeShort(w),a.writeShort(y),a.writeShort(o),a.writeShort(m),r=16*w,p=a.pos+r,u=null,L=[],e)for(A=e[N],a.writeString(N),a.writeInt(c(A)),a.writeInt(p),a.writeInt(A.length),L=L.concat(A),N==="head"&&(u=p),p+=A.length;p%4;)L.push(0),p++;return a.write(L),i=2981146554-c(a.data),a.pos=u+8,a.writeUInt32(i),a.data},c=function(e){var i,a,r,o;for(e=W4.call(e);e.length%4;)e.push(0);for(r=new dd(e),a=0,i=0,o=e.length;i<o;i=i+=4)a+=r.readUInt32();return 4294967295&a},t}(),$8={}.hasOwnProperty,ac=function(c,t){for(var e in t)$8.call(t,e)&&(c[e]=t[e]);function i(){this.constructor=c}return i.prototype=t.prototype,c.prototype=new i,c.__super__=t.prototype,c};$o=function(){function c(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return c.prototype.parse=function(){},c.prototype.encode=function(){},c.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},c}();var K8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,$o),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new dd).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),qS=function(){function c(t,e){var i,a,r,o,u,h,p,m,y,A,w,L,N,M,E,R,P;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(w=t.readUInt16(),A=w/2,t.pos+=6,r=function(){var K,X;for(X=[],h=K=0;0<=A?K<A:K>A;h=0<=A?++K:--K)X.push(t.readUInt16());return X}(),t.pos+=2,N=function(){var K,X;for(X=[],h=K=0;0<=A?K<A:K>A;h=0<=A?++K:--K)X.push(t.readUInt16());return X}(),p=function(){var K,X;for(X=[],h=K=0;0<=A?K<A:K>A;h=0<=A?++K:--K)X.push(t.readUInt16());return X}(),m=function(){var K,X;for(X=[],h=K=0;0<=A?K<A:K>A;h=0<=A?++K:--K)X.push(t.readUInt16());return X}(),a=(this.length-t.pos+this.offset)/2,u=function(){var K,X;for(X=[],h=K=0;0<=a?K<a:K>a;h=0<=a?++K:--K)X.push(t.readUInt16());return X}(),h=E=0,P=r.length;E<P;h=++E)for(M=r[h],i=R=L=N[h];L<=M?R<=M:R>=M;i=L<=M?++R:--R)m[h]===0?o=i+p[h]:(o=u[m[h]/2+(i-L)-(A-h)]||0)!==0&&(o+=p[h]),this.codeMap[i]=65535&o}t.pos=y}return c.encode=function(t,e){var i,a,r,o,u,h,p,m,y,A,w,L,N,M,E,R,P,K,X,st,it,W,lt,yt,H,J,ut,rt,_t,B,z,Q,pt,O,ft,k,q,et,at,ct,gt,St,Tt,Yt,Gt,$t;switch(rt=new dd,o=Object.keys(t).sort(function(Kt,xe){return Kt-xe}),e){case"macroman":for(N=0,M=function(){var Kt=[];for(L=0;L<256;++L)Kt.push(0);return Kt}(),R={0:0},r={},_t=0,pt=o.length;_t<pt;_t++)R[Tt=t[a=o[_t]]]==null&&(R[Tt]=++N),r[a]={old:t[a],new:R[t[a]]},M[a]=R[t[a]];return rt.writeUInt16(1),rt.writeUInt16(0),rt.writeUInt32(12),rt.writeUInt16(0),rt.writeUInt16(262),rt.writeUInt16(0),rt.write(M),{charMap:r,subtable:rt.data,maxGlyphID:N+1};case"unicode":for(J=[],y=[],P=0,R={},i={},E=p=null,B=0,O=o.length;B<O;B++)R[X=t[a=o[B]]]==null&&(R[X]=++P),i[a]={old:X,new:R[X]},u=R[X]-a,E!=null&&u===p||(E&&y.push(E),J.push(a),p=u),E=a;for(E&&y.push(E),y.push(65535),J.push(65535),yt=2*(lt=J.length),W=2*Math.pow(Math.log(lt)/Math.LN2,2),A=Math.log(W/2)/Math.LN2,it=2*lt-W,h=[],st=[],w=[],L=z=0,ft=J.length;z<ft;L=++z){if(H=J[L],m=y[L],H===65535){h.push(0),st.push(0);break}if(H-(ut=i[H].new)>=32768)for(h.push(0),st.push(2*(w.length+lt-L)),a=Q=H;H<=m?Q<=m:Q>=m;a=H<=m?++Q:--Q)w.push(i[a].new);else h.push(ut-H),st.push(0)}for(rt.writeUInt16(3),rt.writeUInt16(1),rt.writeUInt32(12),rt.writeUInt16(4),rt.writeUInt16(16+8*lt+2*w.length),rt.writeUInt16(0),rt.writeUInt16(yt),rt.writeUInt16(W),rt.writeUInt16(A),rt.writeUInt16(it),gt=0,k=y.length;gt<k;gt++)a=y[gt],rt.writeUInt16(a);for(rt.writeUInt16(0),St=0,q=J.length;St<q;St++)a=J[St],rt.writeUInt16(a);for(Yt=0,et=h.length;Yt<et;Yt++)u=h[Yt],rt.writeUInt16(u);for(Gt=0,at=st.length;Gt<at;Gt++)K=st[Gt],rt.writeUInt16(K);for($t=0,ct=w.length;$t<ct;$t++)N=w[$t],rt.writeUInt16(N);return{charMap:i,subtable:rt.data,maxGlyphID:P+1}}},c}(),X4=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,$o),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,a,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i=new qS(e,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(e,i){var a,r;return i==null&&(i="macroman"),a=qS.encode(e,i),(r=new dd).writeUInt16(0),r.writeUInt16(1),a.table=r.data.concat(a.subtable),a},t}(),Q8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,$o),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Z8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,$o),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,a;for(a=[],i=0;i<10;++i)a.push(e.readByte());return a}(),this.charRange=function(){var i,a;for(a=[],i=0;i<4;++i)a.push(e.readInt());return a}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,a;for(a=[],i=0;i<2;i=++i)a.push(e.readInt());return a}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),J8=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,$o),t.prototype.tag="post",t.prototype.parse=function(e){var i,a,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(a=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)i=e.readByte(),r.push(this.names.push(e.readString(i)));return r;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 196608:break;case 262144:return this.map=(function(){var u,h,p;for(p=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)p.push(e.readUInt32());return p}).call(this)}},t}(),tC=function(c,t){this.raw=c,this.length=c.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},eC=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,$o),t.prototype.tag="name",t.prototype.parse=function(e){var i,a,r,o,u,h,p,m,y,A,w;for(e.pos=this.offset,e.readShort(),i=e.readShort(),h=e.readShort(),a=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+h+e.readShort()});for(p={},o=y=0,A=a.length;y<A;o=++y)r=a[o],e.pos=r.offset,m=e.readString(r.length),u=new tC(m,r),p[w=r.nameID]==null&&(p[w]=[]),p[r.nameID].push(u);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),iC=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,$o),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),nC=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,$o),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,a,r,o,u,h,p;for(e.pos=this.offset,this.metrics=[],i=0,h=this.file.hhea.numberOfMetrics;0<=h?i<h:i>h;i=0<=h?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,y;for(y=[],i=m=0;0<=r?m<r:m>r;i=0<=r?++m:--m)y.push(e.readInt16());return y}(),this.widths=(function(){var m,y,A,w;for(w=[],m=0,y=(A=this.metrics).length;m<y;m++)o=A[m],w.push(o.advance);return w}).call(this),a=this.widths[this.widths.length-1],p=[],i=u=0;0<=r?u<r:u>r;i=0<=r?++u:--u)p.push(this.widths.push(a));return p},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),W4=[].slice,sC=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,$o),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,a,r,o,u,h,p,m,y,A;return e in this.cache?this.cache[e]:(o=this.file.loca,i=this.file.contents,a=o.indexOf(e),(r=o.lengthOf(e))===0?this.cache[e]=null:(i.pos=this.offset+a,u=(h=new dd(i.read(r))).readShort(),m=h.readShort(),A=h.readShort(),p=h.readShort(),y=h.readShort(),this.cache[e]=u===-1?new rC(h,m,A,p,y):new aC(h,u,m,A,p,y),this.cache[e]))},t.prototype.encode=function(e,i,a){var r,o,u,h,p;for(u=[],o=[],h=0,p=i.length;h<p;h++)r=e[i[h]],o.push(u.length),r&&(u=u.concat(r.encode(a)));return o.push(u.length),{table:u,offsets:o}},t}(),aC=function(){function c(t,e,i,a,r,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=a,this.xMax=r,this.yMax=o,this.compound=!1}return c.prototype.encode=function(){return this.raw.data},c}(),rC=function(){function c(t,e,i,a,r){var o,u;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=a,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return c.prototype.encode=function(){var t,e,i;for(e=new dd(W4.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},c}(),oC=function(c){function t(){return t.__super__.constructor.apply(this,arguments)}return ac(t,$o),t.prototype.tag="loca",t.prototype.parse=function(e){var i,a;return e.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var r,o;for(o=[],a=0,r=this.length;a<r;a+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var r,o;for(o=[],a=0,r=this.length;a<r;a+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var a=new Uint32Array(this.offsets.length),r=0,o=0,u=0;u<a.length;++u)if(a[u]=r,o<i.length&&i[o]==u){++o,a[u]=r;var h=this.offsets[u],p=this.offsets[u+1]-h;p>0&&(r+=p)}for(var m=new Array(4*a.length),y=0;y<a.length;++y)m[4*y+3]=255&a[y],m[4*y+2]=(65280&a[y])>>8,m[4*y+1]=(16711680&a[y])>>16,m[4*y]=(4278190080&a[y])>>24;return m},t}(),lC=function(){function c(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return c.prototype.generateCmap=function(){var t,e,i,a,r;for(e in a=this.font.cmap.tables[0].codeMap,t={},r=this.subset)i=r[e],t[e]=a[i];return t},c.prototype.glyphsFor=function(t){var e,i,a,r,o,u,h;for(a={},o=0,u=t.length;o<u;o++)a[r=t[o]]=this.font.glyf.glyphFor(r);for(r in e=[],a)(i=a[r])!=null&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(r in h=this.glyphsFor(e))i=h[r],a[r]=i;return a},c.prototype.encode=function(t,e){var i,a,r,o,u,h,p,m,y,A,w,L,N,M,E;for(a in i=X4.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),w={0:0},E=i.charMap)w[(h=E[a]).old]=h.new;for(L in A=i.maxGlyphID,o)L in w||(w[L]=A++);return m=function(R){var P,K;for(P in K={},R)K[R[P]]=P;return K}(w),y=Object.keys(m).sort(function(R,P){return R-P}),N=function(){var R,P,K;for(K=[],R=0,P=y.length;R<P;R++)u=y[R],K.push(m[u]);return K}(),r=this.font.glyf.encode(o,N,w),p=this.font.loca.encode(r.offsets,N),M={cmap:this.font.cmap.raw(),glyf:r.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},c}();Ce.API.PDFObject=function(){var c;function t(){}return c=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var i,a,r,o;if(Array.isArray(e))return"["+function(){var u,h,p;for(p=[],u=0,h=e.length;u<h;u++)i=e[u],p.push(t.convert(i));return p}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+c(e.getUTCFullYear(),4)+c(e.getUTCMonth(),2)+c(e.getUTCDate(),2)+c(e.getUTCHours(),2)+c(e.getUTCMinutes(),2)+c(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in r=["<<"],e)o=e[a],r.push("/"+a+" "+t.convert(o));return r.push(">>"),r.join(`
`)}return""+e},t}();const Ea=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),xw=[.001,0,0,.001,0,0],Jy=1.35,Nr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},wh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},$4="pdfjs_internal_editor_",Ue={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101,COMMENT:102},ui={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},cC={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},na={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},lb={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},$n={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},pg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Sv={ERRORS:0,WARNINGS:1,INFOS:5},Gb={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},K5={moveTo:0,lineTo:1,curveTo:2,closePath:3},uC={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let _v=Sv.WARNINGS;function hC(c){Number.isInteger(c)&&(_v=c)}function dC(){return _v}function Nv(c){_v>=Sv.INFOS&&console.log(`Info: ${c}`)}function He(c){_v>=Sv.WARNINGS&&console.log(`Warning: ${c}`)}function qi(c){throw new Error(c)}function Qn(c,t){c||qi(t)}function fC(c){switch(c==null?void 0:c.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function K4(c,t=null,e=null){if(!c)return null;if(e&&typeof c=="string"){if(e.addDefaultProtocol&&c.startsWith("www.")){const a=c.match(/\./g);(a==null?void 0:a.length)>=2&&(c=`http://${c}`)}if(e.tryConvertEncoding)try{c=vC(c)}catch{}}const i=t?URL.parse(c,t):URL.parse(c);return fC(i)?i:null}function Q4(c,t,e=!1){const i=URL.parse(c);return i?(i.hash=t,i.href):e&&K4(c,"http://example.com")?c.split("#",1)[0]+`${t?`#${t}`:""}`:""}function ii(c,t,e,i=!1){return Object.defineProperty(c,t,{value:e,enumerable:!i,configurable:!0,writable:!1}),e}const Ap=function(){function t(e,i){this.message=e,this.name=i}return t.prototype=new Error,t.constructor=t,t}();class US extends Ap{constructor(t,e){super(t,"PasswordException"),this.code=e}}class tw extends Ap{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class Sw extends Ap{constructor(t){super(t,"InvalidPDFException")}}class Vb extends Ap{constructor(t,e,i){super(t,"ResponseException"),this.status=e,this.missing=i}}class pC extends Ap{constructor(t){super(t,"FormatError")}}class fd extends Ap{constructor(t){super(t,"AbortException")}}function Z4(c){(typeof c!="object"||(c==null?void 0:c.length)===void 0)&&qi("Invalid argument for bytesToString");const t=c.length,e=8192;if(t<e)return String.fromCharCode.apply(null,c);const i=[];for(let a=0;a<t;a+=e){const r=Math.min(a+e,t),o=c.subarray(a,r);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function q2(c){typeof c!="string"&&qi("Invalid argument for stringToBytes");const t=c.length,e=new Uint8Array(t);for(let i=0;i<t;++i)e[i]=c.charCodeAt(i)&255;return e}function gC(c){return String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255)}function mC(){const c=new Uint8Array(4);return c[0]=1,new Uint32Array(c.buffer,0,1)[0]===1}function bC(){try{return new Function(""),!0}catch{return!1}}class qs{static get isLittleEndian(){return ii(this,"isLittleEndian",mC())}static get isEvalSupported(){return ii(this,"isEvalSupported",bC())}static get isOffscreenCanvasSupported(){return ii(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ii(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return ii(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){var t,e;return ii(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const ew=Array.from(Array(256).keys(),c=>c.toString(16).padStart(2,"0"));var Su,cb,_w;class Ae{static makeHexColor(t,e,i){return`#${ew[t]}${ew[e]}${ew[i]}`}static scaleMinMax(t,e){let i;t[0]?(t[0]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[3],e[3]*=t[3]):(i=e[0],e[0]=e[1],e[1]=i,i=e[2],e[2]=e[3],e[3]=i,t[1]<0&&(i=e[1],e[1]=e[3],e[3]=i),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(i=e[0],e[0]=e[2],e[2]=i),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e,i=0){const a=t[i],r=t[i+1];t[i]=a*e[0]+r*e[2]+e[4],t[i+1]=a*e[1]+r*e[3]+e[5]}static applyTransformToBezier(t,e,i=0){const a=e[0],r=e[1],o=e[2],u=e[3],h=e[4],p=e[5];for(let m=0;m<6;m+=2){const y=t[i+m],A=t[i+m+1];t[i+m]=y*a+A*o+h,t[i+m+1]=y*r+A*u+p}}static applyInverseTransform(t,e){const i=t[0],a=t[1],r=e[0]*e[3]-e[1]*e[2];t[0]=(i*e[3]-a*e[2]+e[2]*e[5]-e[4]*e[3])/r,t[1]=(-i*e[1]+a*e[0]+e[4]*e[1]-e[5]*e[0])/r}static axialAlignedBoundingBox(t,e,i){const a=e[0],r=e[1],o=e[2],u=e[3],h=e[4],p=e[5],m=t[0],y=t[1],A=t[2],w=t[3];let L=a*m+h,N=L,M=a*A+h,E=M,R=u*y+p,P=R,K=u*w+p,X=K;if(r!==0||o!==0){const st=r*m,it=r*A,W=o*y,lt=o*w;L+=W,E+=W,M+=lt,N+=lt,R+=st,X+=st,K+=it,P+=it}i[0]=Math.min(i[0],L,M,N,E),i[1]=Math.min(i[1],R,K,P,X),i[2]=Math.max(i[2],L,M,N,E),i[3]=Math.max(i[3],R,K,P,X)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const i=t[0],a=t[1],r=t[2],o=t[3],u=i**2+a**2,h=i*r+a*o,p=r**2+o**2,m=(u+p)/2,y=Math.sqrt(m**2-(u*p-h**2));e[0]=Math.sqrt(m+y||1),e[1]=Math.sqrt(m-y||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const i=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),a=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(i>a)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>o?null:[i,r,a,o]}static pointBoundingBox(t,e,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],e),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],e)}static rectBoundingBox(t,e,i,a,r){r[0]=Math.min(r[0],t,i),r[1]=Math.min(r[1],e,a),r[2]=Math.max(r[2],t,i),r[3]=Math.max(r[3],e,a)}static bezierBoundingBox(t,e,i,a,r,o,u,h,p){p[0]=Math.min(p[0],t,u),p[1]=Math.min(p[1],e,h),p[2]=Math.max(p[2],t,u),p[3]=Math.max(p[3],e,h),U(this,Su,_w).call(this,t,i,r,u,e,a,o,h,3*(-t+3*(i-r)+u),6*(t-2*i+r),3*(i-t),p),U(this,Su,_w).call(this,t,i,r,u,e,a,o,h,3*(-e+3*(a-o)+h),6*(e-2*a+o),3*(a-e),p)}}Su=new WeakSet,cb=function(t,e,i,a,r,o,u,h,p,m){if(p<=0||p>=1)return;const y=1-p,A=p*p,w=A*p,L=y*(y*(y*t+3*p*e)+3*A*i)+w*a,N=y*(y*(y*r+3*p*o)+3*A*u)+w*h;m[0]=Math.min(m[0],L),m[1]=Math.min(m[1],N),m[2]=Math.max(m[2],L),m[3]=Math.max(m[3],N)},_w=function(t,e,i,a,r,o,u,h,p,m,y,A){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&U(this,Su,cb).call(this,t,e,i,a,r,o,u,h,-y/m,A);return}const w=m**2-4*y*p;if(w<0)return;const L=Math.sqrt(w),N=2*p;U(this,Su,cb).call(this,t,e,i,a,r,o,u,h,(-m+L)/N,A),U(this,Su,cb).call(this,t,e,i,a,r,o,u,h,(-m-L)/N,A)},I(Ae,Su);function vC(c){return decodeURIComponent(escape(c))}let iw=null,HS=null;function yC(c){return iw||(iw=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,HS=new Map([["","t"]])),c.replaceAll(iw,(t,e,i)=>e?e.normalize("NFKC"):HS.get(i))}function J4(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const c=new Uint8Array(32);return crypto.getRandomValues(c),Z4(c)}const VA="pdfjs_internal_id_";function wC(c,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[i,a,...r]=e;if(!c(i)&&!Number.isInteger(i)||!t(a))return!1;const o=r.length;let u=!0;switch(a.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;u=!1;break;default:return!1}for(const h of r)if(!(typeof h=="number"||u&&h===null))return!1;return!0}function La(c,t,e){return Math.min(Math.max(c,t),e)}function t_(c){return Uint8Array.prototype.toBase64?c.toBase64():btoa(Z4(c))}function AC(c){return Uint8Array.fromBase64?Uint8Array.fromBase64(c):q2(atob(c))}typeof Promise.try!="function"&&(Promise.try=function(c,...t){return new Promise(e=>{e(c(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(c){return c.reduce((t,e)=>t+e,0)});const Bc="http://www.w3.org/2000/svg",lf=class lf{};Wt(lf,"CSS",96),Wt(lf,"PDF",72),Wt(lf,"PDF_TO_CSS_UNITS",lf.CSS/lf.PDF);let pd=lf;async function U2(c,t="text"){if(q1(c,document.baseURI)){const e=await fetch(c);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,i)=>{const a=new XMLHttpRequest;a.open("GET",c,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(a.response);return}e(a.responseText);return}i(new Error(a.statusText))}},a.send(null)})}class H2{constructor({viewBox:t,userUnit:e,scale:i,rotation:a,offsetX:r=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=t,this.userUnit=e,this.scale=i,this.rotation=a,this.offsetX=r,this.offsetY=o,i*=e;const h=(t[2]+t[0])/2,p=(t[3]+t[1])/2;let m,y,A,w;switch(a%=360,a<0&&(a+=360),a){case 180:m=-1,y=0,A=0,w=1;break;case 90:m=0,y=1,A=1,w=0;break;case 270:m=0,y=-1,A=-1,w=0;break;case 0:m=1,y=0,A=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(A=-A,w=-w);let L,N,M,E;m===0?(L=Math.abs(p-t[1])*i+r,N=Math.abs(h-t[0])*i+o,M=(t[3]-t[1])*i,E=(t[2]-t[0])*i):(L=Math.abs(h-t[0])*i+r,N=Math.abs(p-t[1])*i+o,M=(t[2]-t[0])*i,E=(t[3]-t[1])*i),this.transform=[m*i,y*i,A*i,w*i,L-m*i*h-A*i*p,N-y*i*h-w*i*p],this.width=M,this.height=E}get rawDims(){const t=this.viewBox;return ii(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:i=this.offsetX,offsetY:a=this.offsetY,dontFlip:r=!1}={}){return new H2({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:r})}convertToViewportPoint(t,e){const i=[t,e];return Ae.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const e=[t[0],t[1]];Ae.applyTransform(e,this.transform);const i=[t[2],t[3]];return Ae.applyTransform(i,this.transform),[e[0],e[1],i[0],i[1]]}convertToPdfPoint(t,e){const i=[t,e];return Ae.applyInverseTransform(i,this.transform),i}}class YA extends Ap{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Ev(c){const t=c.length;let e=0;for(;e<t&&c[e].trim()==="";)e++;return c.substring(e,e+5).toLowerCase()==="data:"}function XA(c){return typeof c=="string"&&/\.pdf$/i.test(c)}function xC(c){return[c]=c.split(/[#?]/,1),c.substring(c.lastIndexOf("/")+1)}function SC(c,t="document.pdf"){if(typeof c!="string")return t;if(Ev(c))return He('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(u=>{try{return new URL(u)}catch{try{return new URL(decodeURIComponent(u))}catch{try{return new URL(u,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(u),"https://foo.bar")}catch{return null}}}}})(c);if(!i)return t;const a=u=>{try{let h=decodeURIComponent(u);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:u):h}catch{return u}},r=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(r.test(o))return a(o);if(i.searchParams.size>0){const u=Array.from(i.searchParams.values()).reverse();for(const p of u)if(r.test(p))return a(p);const h=Array.from(i.searchParams.keys()).reverse();for(const p of h)if(r.test(p))return a(p)}if(i.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(h)return a(h[0])}return t}class GS{constructor(){Wt(this,"started",Object.create(null));Wt(this,"times",[])}time(t){t in this.started&&He(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||He(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:i}of this.times)e=Math.max(i.length,e);for(const{name:i,start:a,end:r}of this.times)t.push(`${i.padEnd(e)} ${r-a}ms
`);return t.join("")}}function q1(c,t){const e=t?URL.parse(c,t):URL.parse(c);return(e==null?void 0:e.protocol)==="http:"||(e==null?void 0:e.protocol)==="https:"}function no(c){c.preventDefault()}function Kn(c){c.preventDefault(),c.stopPropagation()}function _C(c){console.log("Deprecated API usage: "+c)}var d0;class Yb{static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;d(this,d0)||T(this,d0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=d(this,d0).exec(t);if(!e)return null;const i=parseInt(e[1],10);let a=parseInt(e[2],10);a=a>=1&&a<=12?a-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let u=parseInt(e[5],10);u=u>=0&&u<=59?u:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const p=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let y=parseInt(e[9],10)||0;return y=y>=0&&y<=59?y:0,p==="-"?(o+=m,u+=y):p==="+"&&(o-=m,u-=y),new Date(Date.UTC(i,a,r,o,u,h))}}d0=new WeakMap,I(Yb,d0);function NC(c,{scale:t=1,rotation:e=0}){const{width:i,height:a}=c.attributes.style,r=[0,0,parseInt(i),parseInt(a)];return new H2({viewBox:r,userUnit:1,scale:t,rotation:e})}function Lv(c){if(c.startsWith("#")){const t=parseInt(c.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return c.startsWith("rgb(")?c.slice(4,-1).split(",").map(t=>parseInt(t)):c.startsWith("rgba(")?c.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(He(`Not a valid color format: "${c}"`),[0,0,0])}function EC(c){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of c.keys()){t.style.color=e;const i=window.getComputedStyle(t).color;c.set(e,Lv(i))}t.remove()}function wn(c){const{a:t,b:e,c:i,d:a,e:r,f:o}=c.getTransform();return[t,e,i,a,r,o]}function Ml(c){const{a:t,b:e,c:i,d:a,e:r,f:o}=c.getTransform().invertSelf();return[t,e,i,a,r,o]}function bp(c,t,e=!1,i=!0){if(t instanceof H2){const{pageWidth:a,pageHeight:r}=t.rawDims,{style:o}=c,u=qs.isCSSRoundSupported,h=`var(--total-scale-factor) * ${a}px`,p=`var(--total-scale-factor) * ${r}px`,m=u?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,y=u?`round(down, ${p}, var(--scale-round-y))`:`calc(${p})`;!e||t.rotation%180===0?(o.width=m,o.height=y):(o.width=y,o.height=m)}i&&c.setAttribute("data-main-rotation",t.rotation)}class nc{constructor(){const{pixelRatio:t}=nc;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,i,a,r=-1){let o=1/0,u=1/0,h=1/0;i=nc.capPixels(i,r),i>0&&(o=Math.sqrt(i/(t*e))),a!==-1&&(u=a/t,h=a/e);const p=Math.min(o,u,h);return this.sx>p||this.sy>p?(this.sx=p,this.sy=p,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,i):i}return t}}const Nw=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Ah,xh,Xr,Gc,f0,kg,Rg,p0,ev,e_,zs,i_,n_,gg,U1;const Uc=class Uc{constructor(t){I(this,zs);I(this,Ah,null);I(this,xh,null);I(this,Xr);I(this,Gc,null);I(this,f0,null);I(this,kg,null);I(this,Rg,null);T(this,Xr,t),d(Uc,p0)||T(Uc,p0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=T(this,Ah,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=d(this,Xr)._uiManager._signal;t.addEventListener("contextmenu",no,{signal:e}),t.addEventListener("pointerdown",U(Uc,ev,e_),{signal:e});const i=T(this,Gc,document.createElement("div"));i.className="buttons",t.append(i);const a=d(this,Xr).toolbarPosition;if(a){const{style:r}=t,o=d(this,Xr)._uiManager.direction==="ltr"?1-a[0]:a[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return d(this,Ah)}hide(){var t;d(this,Ah).classList.add("hidden"),(t=d(this,xh))==null||t.hideDropdown()}show(){var t,e;d(this,Ah).classList.remove("hidden"),(t=d(this,f0))==null||t.shown(),(e=d(this,kg))==null||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=d(this,Xr),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",d(Uc,p0)[t]),U(this,zs,gg).call(this,i),i.addEventListener("click",a=>{e.delete()},{signal:e._signal}),d(this,Gc).append(i)}async addAltText(t){const e=await t.render();U(this,zs,gg).call(this,e),d(this,Gc).append(e,d(this,zs,U1)),T(this,f0,t)}addComment(t){if(d(this,kg))return;const e=t.render();e&&(U(this,zs,gg).call(this,e),d(this,Gc).prepend(e,d(this,zs,U1)),T(this,kg,t),t.toolbar=this)}addColorPicker(t){if(d(this,xh))return;T(this,xh,t);const e=t.renderButton();U(this,zs,gg).call(this,e),d(this,Gc).append(e,d(this,zs,U1))}async addEditSignatureButton(t){const e=T(this,Rg,await t.renderEditButton(d(this,Xr)));U(this,zs,gg).call(this,e),d(this,Gc).append(e,d(this,zs,U1))}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}updateEditSignatureButton(t){d(this,Rg)&&(d(this,Rg).title=t)}remove(){var t;d(this,Ah).remove(),(t=d(this,xh))==null||t.destroy(),T(this,xh,null)}};Ah=new WeakMap,xh=new WeakMap,Xr=new WeakMap,Gc=new WeakMap,f0=new WeakMap,kg=new WeakMap,Rg=new WeakMap,p0=new WeakMap,ev=new WeakSet,e_=function(t){t.stopPropagation()},zs=new WeakSet,i_=function(t){d(this,Xr)._focusEventsAllowed=!1,Kn(t)},n_=function(t){d(this,Xr)._focusEventsAllowed=!0,Kn(t)},gg=function(t){const e=d(this,Xr)._uiManager._signal;t.addEventListener("focusin",U(this,zs,i_).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",U(this,zs,n_).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",no,{signal:e})},U1=function(){const t=document.createElement("div");return t.className="divider",t},I(Uc,ev),I(Uc,p0,null);let Ew=Uc;var g0,hf,df,gd,s_,a_,r_;class LC{constructor(t){I(this,gd);I(this,g0,null);I(this,hf,null);I(this,df);T(this,df,t)}show(t,e,i){const[a,r]=U(this,gd,a_).call(this,e,i),{style:o}=d(this,hf)||T(this,hf,U(this,gd,s_).call(this));t.append(d(this,hf)),o.insetInlineEnd=`${100*a}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){d(this,hf).remove()}}g0=new WeakMap,hf=new WeakMap,df=new WeakMap,gd=new WeakSet,s_=function(){const t=T(this,hf,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",no,{signal:d(this,df)._signal});const e=T(this,g0,document.createElement("div"));return e.className="buttons",t.append(e),U(this,gd,r_).call(this),t},a_=function(t,e){let i=0,a=0;for(const r of t){const o=r.y+r.height;if(o<i)continue;const u=r.x+(e?r.width:0);if(o>i){a=u,i=o;continue}e?u>a&&(a=u):u<a&&(a=u)}return[e?1-a:a,i]},r_=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=d(this,df)._signal;t.addEventListener("contextmenu",no,{signal:i}),t.addEventListener("click",()=>{d(this,df).highlightSelection("floating_button")},{signal:i}),d(this,g0).append(t)};function o_(c,t,e){for(const i of e)t.addEventListener(i,c[i].bind(c))}var iv;class CC{constructor(){I(this,iv,0)}get id(){return`${$4}${wa(this,iv)._++}`}}iv=new WeakMap;var Dg,m0,aa,Pg,ub;const ex=class ex{constructor(){I(this,Pg);I(this,Dg,J4());I(this,m0,0);I(this,aa,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=t;const r=a.decode().then(()=>(i.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return ii(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:i,size:a,type:r}=t;return U(this,Pg,ub).call(this,`${e}_${i}_${a}_${r}`,t)}async getFromUrl(t){return U(this,Pg,ub).call(this,t,t)}async getFromBlob(t,e){const i=await e;return U(this,Pg,ub).call(this,t,i)}async getFromId(t){d(this,aa)||T(this,aa,new Map);const e=d(this,aa).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:i}=e;return delete e.blobPromise,this.getFromBlob(e.id,i)}return this.getFromUrl(e.url)}getFromCanvas(t,e){d(this,aa)||T(this,aa,new Map);let i=d(this,aa).get(t);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),i={bitmap:a.transferToImageBitmap(),id:`image_${d(this,Dg)}_${wa(this,m0)._++}`,refCounter:1,isSvg:!1},d(this,aa).set(t,i),d(this,aa).set(i.id,i),i}getSvgUrl(t){const e=d(this,aa).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){var a;d(this,aa)||T(this,aa,new Map);const e=d(this,aa).get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:i}=e;if(!e.url&&!e.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),e.blobPromise=r.convertToBlob()}(a=i.close)==null||a.call(i),e.bitmap=null}isValidId(t){return t.startsWith(`image_${d(this,Dg)}_`)}};Dg=new WeakMap,m0=new WeakMap,aa=new WeakMap,Pg=new WeakSet,ub=async function(t,e){d(this,aa)||T(this,aa,new Map);let i=d(this,aa).get(t);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${d(this,Dg)}_${wa(this,m0)._++}`,refCounter:0,isSvg:!1});let a;if(typeof e=="string"?(i.url=e,a=await U2(e,"blob")):e instanceof File?a=i.file=e:e instanceof Blob&&(a=e),a.type==="image/svg+xml"){const r=ex._isSVGFittingCanvas,o=new FileReader,u=new Image,h=new Promise((p,m)=>{u.onload=()=>{i.bitmap=u,i.isSvg=!0,p()},o.onload=async()=>{const y=i.svgUrl=o.result;u.src=await r?`${y}#svgView(preserveAspectRatio(none))`:y},u.onerror=o.onerror=m});o.readAsDataURL(a),await h}else i.bitmap=await createImageBitmap(a);i.refCounter=1}catch(a){He(a),i=null}return d(this,aa).set(t,i),i&&d(this,aa).set(i.id,i),i};let Lw=ex;var jn,Sh,b0,yn;class TC{constructor(t=128){I(this,jn,[]);I(this,Sh,!1);I(this,b0);I(this,yn,-1);T(this,b0,t)}add({cmd:t,undo:e,post:i,mustExec:a,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:u=!1}){if(a&&t(),d(this,Sh))return;const h={cmd:t,undo:e,post:i,type:r};if(d(this,yn)===-1){d(this,jn).length>0&&(d(this,jn).length=0),T(this,yn,0),d(this,jn).push(h);return}if(o&&d(this,jn)[d(this,yn)].type===r){u&&(h.undo=d(this,jn)[d(this,yn)].undo),d(this,jn)[d(this,yn)]=h;return}const p=d(this,yn)+1;p===d(this,b0)?d(this,jn).splice(0,1):(T(this,yn,p),p<d(this,jn).length&&d(this,jn).splice(p)),d(this,jn).push(h)}undo(){if(d(this,yn)===-1)return;T(this,Sh,!0);const{undo:t,post:e}=d(this,jn)[d(this,yn)];t(),e==null||e(),T(this,Sh,!1),T(this,yn,d(this,yn)-1)}redo(){if(d(this,yn)<d(this,jn).length-1){T(this,yn,d(this,yn)+1),T(this,Sh,!0);const{cmd:t,post:e}=d(this,jn)[d(this,yn)];t(),e==null||e(),T(this,Sh,!1)}}hasSomethingToUndo(){return d(this,yn)!==-1}hasSomethingToRedo(){return d(this,yn)<d(this,jn).length-1}cleanType(t){if(d(this,yn)!==-1){for(let e=d(this,yn);e>=0;e--)if(d(this,jn)[e].type!==t){d(this,jn).splice(e+1,d(this,yn)-e),T(this,yn,e);return}d(this,jn).length=0,T(this,yn,-1)}}destroy(){T(this,jn,null)}}jn=new WeakMap,Sh=new WeakMap,b0=new WeakMap,yn=new WeakMap;var nv,l_;class G2{constructor(t){I(this,nv);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=qs.platform;for(const[i,a,r={}]of t)for(const o of i){const u=o.startsWith("mac+");e&&u?(this.callbacks.set(o.slice(4),{callback:a,options:r}),this.allKeys.add(o.split("+").at(-1))):!e&&!u&&(this.callbacks.set(o,{callback:a,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const i=this.callbacks.get(U(this,nv,l_).call(this,e));if(!i)return;const{callback:a,options:{bubbles:r=!1,args:o=[],checker:u=null}}=i;u&&!u(t,e)||(a.bind(t,...o,e)(),r||Kn(e))}}nv=new WeakSet,l_=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const sv=class sv{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return EC(t),ii(this,"_colors",t)}convert(t){const e=Lv(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[i,a]of this._colors)if(a.every((r,o)=>r===e[o]))return sv._colorsMapping.get(i);return e}getHexCode(t){const e=this._colors.get(t);return e?Ae.makeHexColor(...e):t}};Wt(sv,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Cw=sv;var Og,ur,as,Rs,jg,Vc,Fg,Wr,ff,_h,Nh,Ig,pf,Pl,Oo,gf,v0,y0,Bg,w0,Ol,Eh,zg,Lh,jl,av,Ch,A0,Th,mf,qg,Mh,x0,bs,Ri,Yc,kh,Rh,S0,_0,Dh,Fl,Xc,N0,E0,$r,ie,hb,Tw,c_,u_,db,h_,d_,f_,Mw,p_,kw,Rw,g_,Aa,zc,m_,b_,Dw,v_,H1,Pw;const _g=class _g{constructor(t,e,i,a,r,o,u,h,p,m,y,A,w,L,N,M){I(this,ie);I(this,Og,new AbortController);I(this,ur,null);I(this,as,new Map);I(this,Rs,new Map);I(this,jg,null);I(this,Vc,null);I(this,Fg,null);I(this,Wr,new TC);I(this,ff,null);I(this,_h,null);I(this,Nh,null);I(this,Ig,0);I(this,pf,new Set);I(this,Pl,null);I(this,Oo,null);I(this,gf,new Set);Wt(this,"_editorUndoBar",null);I(this,v0,!1);I(this,y0,!1);I(this,Bg,!1);I(this,w0,null);I(this,Ol,null);I(this,Eh,null);I(this,zg,null);I(this,Lh,!1);I(this,jl,null);I(this,av,new CC);I(this,Ch,!1);I(this,A0,!1);I(this,Th,null);I(this,mf,null);I(this,qg,null);I(this,Mh,null);I(this,x0,null);I(this,bs,Ue.NONE);I(this,Ri,new Set);I(this,Yc,null);I(this,kh,null);I(this,Rh,null);I(this,S0,null);I(this,_0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,Dh,[0,0]);I(this,Fl,null);I(this,Xc,null);I(this,N0,null);I(this,E0,null);I(this,$r,null);const E=this._signal=d(this,Og).signal;T(this,Xc,t),T(this,N0,e),T(this,E0,i),T(this,jg,a),T(this,ff,r),T(this,kh,o),this._eventBus=u,u._on("editingaction",this.onEditingAction.bind(this),{signal:E}),u._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),u._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),u._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),u._on("setpreference",this.onSetPreference.bind(this),{signal:E}),u._on("switchannotationeditorparams",R=>this.updateParams(R.type,R.value),{signal:E}),U(this,ie,h_).call(this),U(this,ie,g_).call(this),U(this,ie,Mw).call(this),T(this,Vc,h.annotationStorage),T(this,w0,h.filterFactory),T(this,Rh,p),T(this,zg,m||null),T(this,v0,y),T(this,y0,A),T(this,Bg,w),T(this,x0,L||null),this.viewParameters={realScale:pd.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=N||null,this._supportsPinchToZoom=M!==!1}static get _keyboardManager(){const t=_g.prototype,e=o=>d(o,Xc).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:u})=>{if(u instanceof HTMLInputElement){const{type:h}=u;return h!=="text"&&h!=="number"}return!0},a=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return ii(this,"_keyboardManager",new G2([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:u})=>!(u instanceof HTMLButtonElement)&&d(o,Xc).contains(u)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:u})=>!(u instanceof HTMLButtonElement)&&d(o,Xc).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,i,a,r,o,u,h,p;(t=d(this,$r))==null||t.resolve(),T(this,$r,null),(e=d(this,Og))==null||e.abort(),T(this,Og,null),this._signal=null;for(const m of d(this,Rs).values())m.destroy();d(this,Rs).clear(),d(this,as).clear(),d(this,gf).clear(),(i=d(this,Mh))==null||i.clear(),T(this,ur,null),d(this,Ri).clear(),d(this,Wr).destroy(),(a=d(this,jg))==null||a.destroy(),(r=d(this,ff))==null||r.destroy(),(o=d(this,kh))==null||o.destroy(),(u=d(this,jl))==null||u.hide(),T(this,jl,null),(h=d(this,qg))==null||h.destroy(),T(this,qg,null),d(this,Ol)&&(clearTimeout(d(this,Ol)),T(this,Ol,null)),d(this,Fl)&&(clearTimeout(d(this,Fl)),T(this,Fl,null)),(p=this._editorUndoBar)==null||p.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return d(this,x0)}get useNewAltTextFlow(){return d(this,y0)}get useNewAltTextWhenAddingImage(){return d(this,Bg)}get hcmFilter(){return ii(this,"hcmFilter",d(this,Rh)?d(this,w0).addHCMFilter(d(this,Rh).foreground,d(this,Rh).background):"none")}get direction(){return ii(this,"direction",getComputedStyle(d(this,Xc)).direction)}get _highlightColors(){return ii(this,"_highlightColors",d(this,zg)?new Map(d(this,zg).split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return ii(this,"highlightColors",null);const e=new Map,i=!!d(this,Rh);for(const[a,r]of t){const o=a.endsWith("_HCM");if(i&&o){e.set(a.replace("_HCM",""),r);continue}!i&&!o&&e.set(a,r)}return ii(this,"highlightColors",e)}get highlightColorNames(){return ii(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),T(this,Nh,t)}setMainHighlightColorPicker(t){T(this,qg,t)}editAltText(t,e=!1){var i;(i=d(this,jg))==null||i.editAltText(this,t,e)}hasCommentManager(){return!!d(this,ff)}editComment(t,e){var i;(i=d(this,ff))==null||i.open(this,t,e)}getSignature(t){var e;(e=d(this,kh))==null||e.getSignature({uiManager:this,editor:t})}get signatureManager(){return d(this,kh)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":T(this,Bg,e);break}}onPageChanging({pageNumber:t}){T(this,Ig,t-1)}focusMainContainer(){d(this,Xc).focus()}findParent(t,e){for(const i of d(this,Rs).values()){const{x:a,y:r,width:o,height:u}=i.div.getBoundingClientRect();if(t>=a&&t<=a+o&&e>=r&&e<=r+u)return i}return null}disableUserSelect(t=!1){d(this,N0).classList.toggle("noUserSelect",t)}addShouldRescale(t){d(this,gf).add(t)}removeShouldRescale(t){d(this,gf).delete(t)}onScaleChanging({scale:t}){var e;this.commitOrRemove(),this.viewParameters.realScale=t*pd.PDF_TO_CSS_UNITS;for(const i of d(this,gf))i.onScaleChanging();(e=d(this,Nh))==null||e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:o}=e,u=e.toString(),p=U(this,ie,hb).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;e.empty();const y=U(this,ie,Tw).call(this,p),A=d(this,bs)===Ue.NONE,w=()=>{y==null||y.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:i,anchorOffset:a,focusNode:r,focusOffset:o,text:u}),A&&this.showAllEditors("highlight",!0,!0)};if(A){this.switchToMode(Ue.HIGHLIGHT,w);return}w()}addToAnnotationStorage(t){!t.isEmpty()&&d(this,Vc)&&!d(this,Vc).has(t.id)&&d(this,Vc).setValue(t.id,t)}a11yAlert(t,e=null){const i=d(this,E0);i&&(i.setAttribute("data-l10n-id",t),e?i.setAttribute("data-l10n-args",JSON.stringify(e)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,d(this,Lh)&&(T(this,Lh,!1),U(this,ie,db).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of d(this,Ri))if(e.div.contains(t)){T(this,mf,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!d(this,mf))return;const[t,e]=d(this,mf);T(this,mf,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){U(this,ie,Mw).call(this),U(this,ie,kw).call(this)}removeEditListeners(){U(this,ie,p_).call(this),U(this,ie,Rw).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const i of d(this,Oo))if(i.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const i of d(this,Oo))if(i.isHandlingMimeForPasting(e.type)){i.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var i;if(t.preventDefault(),(i=d(this,ur))==null||i.commitOrRemove(),!this.hasSelection)return;const e=[];for(const a of d(this,Ri)){const r=a.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const o of d(this,Oo))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let i=e.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){He(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const a=this.currentLayer;try{const r=[];for(const h of i){const p=await a.deserialize(h);if(!p)return;r.push(p)}const o=()=>{for(const h of r)U(this,ie,Dw).call(this,h);U(this,ie,Pw).call(this,r)},u=()=>{for(const h of r)h.remove()};this.addCommands({cmd:o,undo:u,mustExec:!0})}catch(r){He(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),d(this,bs)!==Ue.NONE&&!this.isEditorHandlingKeyboard&&_g._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,d(this,Lh)&&(T(this,Lh,!1),U(this,ie,db).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(U(this,ie,d_).call(this),U(this,ie,kw).call(this),U(this,ie,Aa).call(this,{isEditing:d(this,bs)!==Ue.NONE,isEmpty:U(this,ie,H1).call(this),hasSomethingToUndo:d(this,Wr).hasSomethingToUndo(),hasSomethingToRedo:d(this,Wr).hasSomethingToRedo(),hasSelectedEditor:!1})):(U(this,ie,f_).call(this),U(this,ie,Rw).call(this),U(this,ie,Aa).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!d(this,Oo)){T(this,Oo,t);for(const e of d(this,Oo))U(this,ie,zc).call(this,e.defaultPropertiesToUpdate)}}getId(){return d(this,av).id}get currentLayer(){return d(this,Rs).get(d(this,Ig))}getLayer(t){return d(this,Rs).get(t)}get currentPageIndex(){return d(this,Ig)}addLayer(t){d(this,Rs).set(t.pageIndex,t),d(this,Ch)?t.enable():t.disable()}removeLayer(t){d(this,Rs).delete(t.pageIndex)}async updateMode(t,e=null,i=!1,a=!1,r=!1){var o,u,h;if(d(this,bs)!==t&&!(d(this,$r)&&(await d(this,$r).promise,!d(this,$r)))){if(T(this,$r,Promise.withResolvers()),(o=d(this,Nh))==null||o.commitOrRemove(),T(this,bs,t),t===Ue.NONE){this.setEditingState(!1),U(this,ie,b_).call(this),(u=this._editorUndoBar)==null||u.hide(),d(this,$r).resolve();return}t===Ue.SIGNATURE&&await((h=d(this,kh))==null?void 0:h.loadSignatures()),this.setEditingState(!0),await U(this,ie,m_).call(this),this.unselectAll();for(const p of d(this,Rs).values())p.updateMode(t);if(!e){i&&this.addNewEditorFromKeyboard(),d(this,$r).resolve();return}for(const p of d(this,as).values())p.annotationElementId===e||p.id===e?(this.setSelected(p),r?p.editComment():a&&p.enterInEditMode()):p.unselect();d(this,$r).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==d(this,bs)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(d(this,Oo)){switch(t){case ui.CREATE:this.currentLayer.addNewEditor(e);return;case ui.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(d(this,S0)||T(this,S0,new Map)).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const i of d(this,Ri))i.updateParams(t,e);else for(const i of d(this,Oo))i.updateDefaultParams(t,e)}}showAllEditors(t,e,i=!1){var r;for(const o of d(this,as).values())o.editorType===t&&o.show(e);(((r=d(this,S0))==null?void 0:r.get(ui.HIGHLIGHT_SHOW_ALL))??!0)!==e&&U(this,ie,zc).call(this,[[ui.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(d(this,A0)!==t){T(this,A0,t);for(const e of d(this,Rs).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const i of d(this,as).values())i.pageIndex===t&&e.push(i);return e}getEditor(t){return d(this,as).get(t)}addEditor(t){d(this,as).set(t.id,t)}removeEditor(t){var e,i;t.div.contains(document.activeElement)&&(d(this,Ol)&&clearTimeout(d(this,Ol)),T(this,Ol,setTimeout(()=>{this.focusMainContainer(),T(this,Ol,null)},0))),d(this,as).delete(t.id),t.annotationElementId&&((e=d(this,Mh))==null||e.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!d(this,pf).has(t.annotationElementId))&&((i=d(this,Vc))==null||i.remove(t.id))}addDeletedAnnotationElement(t){d(this,pf).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return d(this,pf).has(t)}removeDeletedAnnotationElement(t){d(this,pf).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){d(this,ur)!==t&&(T(this,ur,t),t&&U(this,ie,zc).call(this,t.propertiesToUpdate))}updateUI(t){d(this,ie,v_)===t&&U(this,ie,zc).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){U(this,ie,zc).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(d(this,Ri).has(t)){d(this,Ri).delete(t),t.unselect(),U(this,ie,Aa).call(this,{hasSelectedEditor:this.hasSelection});return}d(this,Ri).add(t),t.select(),U(this,ie,zc).call(this,t.propertiesToUpdate),U(this,ie,Aa).call(this,{hasSelectedEditor:!0})}setSelected(t){var e;this.updateToolbar({mode:t.mode,editId:t.id}),(e=d(this,Nh))==null||e.commitOrRemove();for(const i of d(this,Ri))i!==t&&i.unselect();d(this,Ri).clear(),d(this,Ri).add(t),t.select(),U(this,ie,zc).call(this,t.propertiesToUpdate),U(this,ie,Aa).call(this,{hasSelectedEditor:!0})}isSelected(t){return d(this,Ri).has(t)}get firstSelectedEditor(){return d(this,Ri).values().next().value}unselect(t){t.unselect(),d(this,Ri).delete(t),U(this,ie,Aa).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return d(this,Ri).size!==0}get isEnterHandled(){return d(this,Ri).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;d(this,Wr).undo(),U(this,ie,Aa).call(this,{hasSomethingToUndo:d(this,Wr).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:U(this,ie,H1).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){d(this,Wr).redo(),U(this,ie,Aa).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:d(this,Wr).hasSomethingToRedo(),isEmpty:U(this,ie,H1).call(this)})}addCommands(t){d(this,Wr).add(t),U(this,ie,Aa).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:U(this,ie,H1).call(this)})}cleanUndoStack(t){d(this,Wr).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...d(this,Ri)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(a,e.length===1?e[0].editorType:e.length);for(const u of e)u.remove()},a=()=>{for(const o of e)U(this,ie,Dw).call(this,o)};this.addCommands({cmd:i,undo:a,mustExec:!0})}commitOrRemove(){var t;(t=d(this,ur))==null||t.commitOrRemove()}hasSomethingToControl(){return d(this,ur)||this.hasSelection}selectAll(){for(const t of d(this,Ri))t.commit();U(this,ie,Pw).call(this,d(this,as).values())}unselectAll(){var t;if(!(d(this,ur)&&(d(this,ur).commitOrRemove(),d(this,bs)!==Ue.NONE))&&!((t=d(this,Nh))!=null&&t.commitOrRemove())&&this.hasSelection){for(const e of d(this,Ri))e.unselect();d(this,Ri).clear(),U(this,ie,Aa).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;d(this,Dh)[0]+=t,d(this,Dh)[1]+=e;const[a,r]=d(this,Dh),o=[...d(this,Ri)],u=1e3;d(this,Fl)&&clearTimeout(d(this,Fl)),T(this,Fl,setTimeout(()=>{T(this,Fl,null),d(this,Dh)[0]=d(this,Dh)[1]=0,this.addCommands({cmd:()=>{for(const h of o)d(this,as).has(h.id)&&(h.translateInPage(a,r),h.translationDone())},undo:()=>{for(const h of o)d(this,as).has(h.id)&&(h.translateInPage(-a,-r),h.translationDone())},mustExec:!1})},u));for(const h of o)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),T(this,Pl,new Map);for(const t of d(this,Ri))d(this,Pl).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!d(this,Pl))return!1;this.disableUserSelect(!1);const t=d(this,Pl);T(this,Pl,null);let e=!1;for(const[{x:a,y:r,pageIndex:o},u]of t)u.newX=a,u.newY=r,u.newPageIndex=o,e||(e=a!==u.savedX||r!==u.savedY||o!==u.savedPageIndex);if(!e)return!1;const i=(a,r,o,u)=>{if(d(this,as).has(a.id)){const h=d(this,Rs).get(u);h?a._setParentAndPosition(h,r,o):(a.pageIndex=u,a.x=r,a.y=o)}};return this.addCommands({cmd:()=>{for(const[a,{newX:r,newY:o,newPageIndex:u}]of t)i(a,r,o,u)},undo:()=>{for(const[a,{savedX:r,savedY:o,savedPageIndex:u}]of t)i(a,r,o,u)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(d(this,Pl))for(const i of d(this,Pl).keys())i.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||d(this,Ri).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return d(this,ur)===t}getActive(){return d(this,ur)}getMode(){return d(this,bs)}get imageManager(){return ii(this,"imageManager",new Lw)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,m=e.rangeCount;p<m;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:i,y:a,width:r,height:o}=t.getBoundingClientRect();let u;switch(t.getAttribute("data-main-rotation")){case"90":u=(p,m,y,A)=>({x:(m-a)/o,y:1-(p+y-i)/r,width:A/o,height:y/r});break;case"180":u=(p,m,y,A)=>({x:1-(p+y-i)/r,y:1-(m+A-a)/o,width:y/r,height:A/o});break;case"270":u=(p,m,y,A)=>({x:1-(m+A-a)/o,y:(p-i)/r,width:A/o,height:y/r});break;default:u=(p,m,y,A)=>({x:(p-i)/r,y:(m-a)/o,width:y/r,height:A/o});break}const h=[];for(let p=0,m=e.rangeCount;p<m;p++){const y=e.getRangeAt(p);if(!y.collapsed)for(const{x:A,y:w,width:L,height:N}of y.getClientRects())L===0||N===0||h.push(u(A,w,L,N))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(d(this,Fg)||T(this,Fg,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=d(this,Fg))==null||e.delete(t)}renderAnnotationElement(t){var a;const e=(a=d(this,Fg))==null?void 0:a.get(t.data.id);if(!e)return;const i=d(this,Vc).getRawValue(e);i&&(d(this,bs)===Ue.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,e,i){var r;const a=(r=d(this,Mh))==null?void 0:r.get(t);a&&(a.setCanvas(e,i),d(this,Mh).delete(t))}addMissingCanvas(t,e){(d(this,Mh)||T(this,Mh,new Map)).set(t,e)}};Og=new WeakMap,ur=new WeakMap,as=new WeakMap,Rs=new WeakMap,jg=new WeakMap,Vc=new WeakMap,Fg=new WeakMap,Wr=new WeakMap,ff=new WeakMap,_h=new WeakMap,Nh=new WeakMap,Ig=new WeakMap,pf=new WeakMap,Pl=new WeakMap,Oo=new WeakMap,gf=new WeakMap,v0=new WeakMap,y0=new WeakMap,Bg=new WeakMap,w0=new WeakMap,Ol=new WeakMap,Eh=new WeakMap,zg=new WeakMap,Lh=new WeakMap,jl=new WeakMap,av=new WeakMap,Ch=new WeakMap,A0=new WeakMap,Th=new WeakMap,mf=new WeakMap,qg=new WeakMap,Mh=new WeakMap,x0=new WeakMap,bs=new WeakMap,Ri=new WeakMap,Yc=new WeakMap,kh=new WeakMap,Rh=new WeakMap,S0=new WeakMap,_0=new WeakMap,Dh=new WeakMap,Fl=new WeakMap,Xc=new WeakMap,N0=new WeakMap,E0=new WeakMap,$r=new WeakMap,ie=new WeakSet,hb=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Tw=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const i of d(this,Rs).values())if(i.hasTextLayer(t))return i;return null},c_=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=U(this,ie,hb).call(this,t).closest(".textLayer"),a=this.getSelectionBoxes(i);a&&(d(this,jl)||T(this,jl,new LC(this)),d(this,jl).show(i,a,this.direction==="ltr"))},u_=function(){var r,o,u;const t=document.getSelection();if(!t||t.isCollapsed){d(this,Yc)&&((r=d(this,jl))==null||r.hide(),T(this,Yc,null),U(this,ie,Aa).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===d(this,Yc))return;const a=U(this,ie,hb).call(this,t).closest(".textLayer");if(!a){d(this,Yc)&&((o=d(this,jl))==null||o.hide(),T(this,Yc,null),U(this,ie,Aa).call(this,{hasSelectedText:!1}));return}if((u=d(this,jl))==null||u.hide(),T(this,Yc,e),U(this,ie,Aa).call(this,{hasSelectedText:!0}),!(d(this,bs)!==Ue.HIGHLIGHT&&d(this,bs)!==Ue.NONE)&&(d(this,bs)===Ue.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),T(this,Lh,this.isShiftKeyDown),!this.isShiftKeyDown)){const h=d(this,bs)===Ue.HIGHLIGHT?U(this,ie,Tw).call(this,a):null;h==null||h.toggleDrawing();const p=new AbortController,m=this.combinedSignal(p),y=A=>{A.type==="pointerup"&&A.button!==0||(p.abort(),h==null||h.toggleDrawing(!0),A.type==="pointerup"&&U(this,ie,db).call(this,"main_toolbar"))};window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("blur",y,{signal:m})}},db=function(t=""){d(this,bs)===Ue.HIGHLIGHT?this.highlightSelection(t):d(this,v0)&&U(this,ie,c_).call(this)},h_=function(){document.addEventListener("selectionchange",U(this,ie,u_).bind(this),{signal:this._signal})},d_=function(){if(d(this,Eh))return;T(this,Eh,new AbortController);const t=this.combinedSignal(d(this,Eh));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},f_=function(){var t;(t=d(this,Eh))==null||t.abort(),T(this,Eh,null)},Mw=function(){if(d(this,Th))return;T(this,Th,new AbortController);const t=this.combinedSignal(d(this,Th));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},p_=function(){var t;(t=d(this,Th))==null||t.abort(),T(this,Th,null)},kw=function(){if(d(this,_h))return;T(this,_h,new AbortController);const t=this.combinedSignal(d(this,_h));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},Rw=function(){var t;(t=d(this,_h))==null||t.abort(),T(this,_h,null)},g_=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},Aa=function(t){Object.entries(t).some(([i,a])=>d(this,_0)[i]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(d(this,_0),t)}),d(this,bs)===Ue.HIGHLIGHT&&t.hasSelectedEditor===!1&&U(this,ie,zc).call(this,[[ui.HIGHLIGHT_FREE,!0]]))},zc=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},m_=async function(){if(!d(this,Ch)){T(this,Ch,!0);const t=[];for(const e of d(this,Rs).values())t.push(e.enable());await Promise.all(t);for(const e of d(this,as).values())e.enable()}},b_=function(){if(this.unselectAll(),d(this,Ch)){T(this,Ch,!1);for(const t of d(this,Rs).values())t.disable();for(const t of d(this,as).values())t.disable()}},Dw=function(t){const e=d(this,Rs).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},v_=function(){let t=null;for(t of d(this,Ri));return t},H1=function(){if(d(this,as).size===0)return!0;if(d(this,as).size===1)for(const t of d(this,as).values())return t.isEmpty();return!1},Pw=function(t){for(const e of d(this,Ri))e.unselect();d(this,Ri).clear();for(const e of t)e.isEmpty()||(d(this,Ri).add(e),e.select());U(this,ie,Aa).call(this,{hasSelectedEditor:this.hasSelection})},Wt(_g,"TRANSLATE_SMALL",1),Wt(_g,"TRANSLATE_BIG",10);let vp=_g;var vs,Il,jo,Ug,Bl,hr,Hg,zl,Ua,Wc,bf,ql,Ph,Yo,G1,fb;const xa=class xa{constructor(t){I(this,Yo);I(this,vs,null);I(this,Il,!1);I(this,jo,null);I(this,Ug,null);I(this,Bl,null);I(this,hr,null);I(this,Hg,!1);I(this,zl,null);I(this,Ua,null);I(this,Wc,null);I(this,bf,null);I(this,ql,!1);T(this,Ua,t),T(this,ql,t._uiManager.useNewAltTextFlow),d(xa,Ph)||T(xa,Ph,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){xa._l10n??(xa._l10n=t)}async render(){const t=T(this,jo,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=T(this,Ug,document.createElement("span"));t.append(e),d(this,ql)?(t.classList.add("new"),t.setAttribute("data-l10n-id",d(xa,Ph).missing),e.setAttribute("data-l10n-id",d(xa,Ph)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=d(this,Ua)._uiManager._signal;t.addEventListener("contextmenu",no,{signal:i}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const a=r=>{r.preventDefault(),d(this,Ua)._uiManager.editAltText(d(this,Ua)),d(this,ql)&&d(this,Ua)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:d(this,Yo,G1)}})};return t.addEventListener("click",a,{capture:!0,signal:i}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(T(this,Hg,!0),a(r))},{signal:i}),await U(this,Yo,fb).call(this),t}finish(){d(this,jo)&&(d(this,jo).focus({focusVisible:d(this,Hg)}),T(this,Hg,!1))}isEmpty(){return d(this,ql)?d(this,vs)===null:!d(this,vs)&&!d(this,Il)}hasData(){return d(this,ql)?d(this,vs)!==null||!!d(this,Wc):this.isEmpty()}get guessedText(){return d(this,Wc)}async setGuessedText(t){d(this,vs)===null&&(T(this,Wc,t),T(this,bf,await xa._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),U(this,Yo,fb).call(this))}toggleAltTextBadge(t=!1){var e;if(!d(this,ql)||d(this,vs)){(e=d(this,zl))==null||e.remove(),T(this,zl,null);return}if(!d(this,zl)){const i=T(this,zl,document.createElement("div"));i.className="noAltTextBadge",d(this,Ua).div.append(i)}d(this,zl).classList.toggle("hidden",!t)}serialize(t){let e=d(this,vs);return!t&&d(this,Wc)===e&&(e=d(this,bf)),{altText:e,decorative:d(this,Il),guessedText:d(this,Wc),textWithDisclaimer:d(this,bf)}}get data(){return{altText:d(this,vs),decorative:d(this,Il)}}set data({altText:t,decorative:e,guessedText:i,textWithDisclaimer:a,cancel:r=!1}){i&&(T(this,Wc,i),T(this,bf,a)),!(d(this,vs)===t&&d(this,Il)===e)&&(r||(T(this,vs,t),T(this,Il,e)),U(this,Yo,fb).call(this))}toggle(t=!1){d(this,jo)&&(!t&&d(this,hr)&&(clearTimeout(d(this,hr)),T(this,hr,null)),d(this,jo).disabled=!t)}shown(){d(this,Ua)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:d(this,Yo,G1)}})}destroy(){var t,e;(t=d(this,jo))==null||t.remove(),T(this,jo,null),T(this,Ug,null),T(this,Bl,null),(e=d(this,zl))==null||e.remove(),T(this,zl,null)}};vs=new WeakMap,Il=new WeakMap,jo=new WeakMap,Ug=new WeakMap,Bl=new WeakMap,hr=new WeakMap,Hg=new WeakMap,zl=new WeakMap,Ua=new WeakMap,Wc=new WeakMap,bf=new WeakMap,ql=new WeakMap,Ph=new WeakMap,Yo=new WeakSet,G1=function(){return d(this,vs)&&"added"||d(this,vs)===null&&this.guessedText&&"review"||"missing"},fb=async function(){var a,r,o;const t=d(this,jo);if(!t)return;if(d(this,ql)){if(t.classList.toggle("done",!!d(this,vs)),t.setAttribute("data-l10n-id",d(xa,Ph)[d(this,Yo,G1)]),(a=d(this,Ug))==null||a.setAttribute("data-l10n-id",d(xa,Ph)[`${d(this,Yo,G1)}-label`]),!d(this,vs)){(r=d(this,Bl))==null||r.remove();return}}else{if(!d(this,vs)&&!d(this,Il)){t.classList.remove("done"),(o=d(this,Bl))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=d(this,Bl);if(!e){T(this,Bl,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${d(this,Ua).id}`;const u=100,h=d(this,Ua)._uiManager._signal;h.addEventListener("abort",()=>{clearTimeout(d(this,hr)),T(this,hr,null)},{once:!0}),t.addEventListener("mouseenter",()=>{T(this,hr,setTimeout(()=>{T(this,hr,null),d(this,Bl).classList.add("show"),d(this,Ua)._reportTelemetry({action:"alt_text_tooltip"})},u))},{signal:h}),t.addEventListener("mouseleave",()=>{var p;d(this,hr)&&(clearTimeout(d(this,hr)),T(this,hr,null)),(p=d(this,Bl))==null||p.classList.remove("show")},{signal:h})}d(this,Il)?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=d(this,vs)),e.parentNode||t.append(e);const i=d(this,Ua).getElementForAltText();i==null||i.setAttribute("aria-describedby",e.id)},I(xa,Ph,null),Wt(xa,"_l10n",null);let Xb=xa;var Ul,vf,Fo,L0,$c,Gg,Oh;class Q5{constructor(t){I(this,Ul,null);I(this,vf,!1);I(this,Fo,null);I(this,L0,null);I(this,$c,null);I(this,Gg,null);I(this,Oh,!1);T(this,Fo,t),this.toolbar=null}render(){if(!d(this,Fo)._uiManager.hasCommentManager())return null;const t=T(this,Ul,document.createElement("button"));t.className="comment",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const e=d(this,Fo)._uiManager._signal;t.addEventListener("contextmenu",no,{signal:e}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:e});const i=a=>{a.preventDefault(),this.edit()};return t.addEventListener("click",i,{capture:!0,signal:e}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(T(this,vf,!0),i(a))},{signal:e}),t}edit(){const{bottom:t,left:e,right:i}=d(this,Fo).getClientDimensions(),a={top:t};d(this,Fo)._uiManager.direction==="ltr"?a.right=i:a.left=e,d(this,Fo)._uiManager.editComment(d(this,Fo),a)}finish(){d(this,Ul)&&(d(this,Ul).focus({focusVisible:d(this,vf)}),T(this,vf,!1))}isDeleted(){return d(this,Oh)||d(this,$c)===""}hasBeenEdited(){return this.isDeleted()||d(this,$c)!==d(this,L0)}serialize(){return this.data}get data(){return{text:d(this,$c),date:d(this,Gg),deleted:d(this,Oh)}}set data(t){if(t===null){T(this,$c,""),T(this,Oh,!0);return}T(this,$c,t),T(this,Gg,new Date),T(this,Oh,!1)}setInitialText(t){T(this,L0,t),this.data=t}toggle(t=!1){d(this,Ul)&&(d(this,Ul).disabled=!t)}shown(){}destroy(){var t;(t=d(this,Ul))==null||t.remove(),T(this,Ul,null),T(this,$c,""),T(this,Gg,null),T(this,Fo,null),T(this,vf,!1),T(this,Oh,!1)}}Ul=new WeakMap,vf=new WeakMap,Fo=new WeakMap,L0=new WeakMap,$c=new WeakMap,Gg=new WeakMap,Oh=new WeakMap;var Vg,yf,C0,T0,M0,k0,R0,Kc,wf,Qc,Af,Zc,md,y_,w_,A_;const ix=class ix{constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:r=null,onPinchEnd:o=null,signal:u}){I(this,md);I(this,Vg);I(this,yf,!1);I(this,C0,null);I(this,T0);I(this,M0);I(this,k0);I(this,R0);I(this,Kc,null);I(this,wf);I(this,Qc,null);I(this,Af);I(this,Zc,null);T(this,Vg,t),T(this,C0,i),T(this,T0,e),T(this,M0,a),T(this,k0,r),T(this,R0,o),T(this,Af,new AbortController),T(this,wf,AbortSignal.any([u,d(this,Af).signal])),t.addEventListener("touchstart",U(this,md,y_).bind(this),{passive:!1,signal:d(this,wf)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/nc.pixelRatio}destroy(){var t,e;(t=d(this,Af))==null||t.abort(),T(this,Af,null),(e=d(this,Kc))==null||e.abort(),T(this,Kc,null)}};Vg=new WeakMap,yf=new WeakMap,C0=new WeakMap,T0=new WeakMap,M0=new WeakMap,k0=new WeakMap,R0=new WeakMap,Kc=new WeakMap,wf=new WeakMap,Qc=new WeakMap,Af=new WeakMap,Zc=new WeakMap,md=new WeakSet,y_=function(t){var a,r,o;if((a=d(this,T0))!=null&&a.call(this))return;if(t.touches.length===1){if(d(this,Kc))return;const u=T(this,Kc,new AbortController),h=AbortSignal.any([d(this,wf),u.signal]),p=d(this,Vg),m={capture:!0,signal:h,passive:!1},y=A=>{var w;A.pointerType==="touch"&&((w=d(this,Kc))==null||w.abort(),T(this,Kc,null))};p.addEventListener("pointerdown",A=>{A.pointerType==="touch"&&(Kn(A),y(A))},m),p.addEventListener("pointerup",y,m),p.addEventListener("pointercancel",y,m);return}if(!d(this,Zc)){T(this,Zc,new AbortController);const u=AbortSignal.any([d(this,wf),d(this,Zc).signal]),h=d(this,Vg),p={signal:u,capture:!1,passive:!1};h.addEventListener("touchmove",U(this,md,w_).bind(this),p);const m=U(this,md,A_).bind(this);h.addEventListener("touchend",m,p),h.addEventListener("touchcancel",m,p),p.capture=!0,h.addEventListener("pointerdown",Kn,p),h.addEventListener("pointermove",Kn,p),h.addEventListener("pointercancel",Kn,p),h.addEventListener("pointerup",Kn,p),(r=d(this,M0))==null||r.call(this)}if(Kn(t),t.touches.length!==2||(o=d(this,C0))!=null&&o.call(this)){T(this,Qc,null);return}let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]),T(this,Qc,{touch0X:e.screenX,touch0Y:e.screenY,touch1X:i.screenX,touch1Y:i.screenY})},w_=function(t){var K;if(!d(this,Qc)||t.touches.length!==2)return;Kn(t);let[e,i]=t.touches;e.identifier>i.identifier&&([e,i]=[i,e]);const{screenX:a,screenY:r}=e,{screenX:o,screenY:u}=i,h=d(this,Qc),{touch0X:p,touch0Y:m,touch1X:y,touch1Y:A}=h,w=y-p,L=A-m,N=o-a,M=u-r,E=Math.hypot(N,M)||1,R=Math.hypot(w,L)||1;if(!d(this,yf)&&Math.abs(R-E)<=ix.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=a,h.touch0Y=r,h.touch1X=o,h.touch1Y=u,!d(this,yf)){T(this,yf,!0);return}const P=[(a+o)/2,(r+u)/2];(K=d(this,k0))==null||K.call(this,P,R,E)},A_=function(t){var e;t.touches.length>=2||(d(this,Zc)&&(d(this,Zc).abort(),T(this,Zc,null),(e=d(this,R0))==null||e.call(this)),d(this,Qc)&&(Kn(t),T(this,Qc,null),T(this,yf,!1)))};let Wb=ix;var xf,Io,cn,Ds,Yg,jh,D0,Sf,Ps,_f,Jc,Fh,P0,Nf,dr,O0,Ef,tu,Hl,Xg,Wg,Kr,Lf,j0,rv,Ee,Ow,F0,jw,pb,x_,S_,Fw,gb,Iw,__,N_,E_,Bw,L_,zw,C_,T_,M_,qw,V1;const $e=class $e{constructor(t){I(this,Ee);I(this,xf,null);I(this,Io,null);I(this,cn,null);I(this,Ds,null);I(this,Yg,!1);I(this,jh,null);I(this,D0,"");I(this,Sf,!1);I(this,Ps,null);I(this,_f,null);I(this,Jc,null);I(this,Fh,null);I(this,P0,"");I(this,Nf,!1);I(this,dr,null);I(this,O0,!1);I(this,Ef,!1);I(this,tu,!1);I(this,Hl,null);I(this,Xg,0);I(this,Wg,0);I(this,Kr,null);I(this,Lf,null);Wt(this,"isSelected",!1);Wt(this,"_isCopy",!1);Wt(this,"_editToolbar",null);Wt(this,"_initialOptions",Object.create(null));Wt(this,"_initialData",null);Wt(this,"_isVisible",!0);Wt(this,"_uiManager",null);Wt(this,"_focusEventsAllowed",!0);I(this,j0,!1);I(this,rv,$e._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:e,rawDims:{pageWidth:i,pageHeight:a,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,a],this.pageTranslation=[r,o];const[u,h]=this.parentDimensions;this.x=t.x/u,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=$e.prototype._resizeWithKeyboard,e=vp.TRANSLATE_SMALL,i=vp.TRANSLATE_BIG;return ii(this,"_resizerKeyboardManager",new G2([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],$e.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ii(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new MC({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if($e._l10n??($e._l10n=t),$e._l10nResizer||($e._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),$e._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);$e._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){qi("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return d(this,j0)}set _isDraggable(t){var e;T(this,j0,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=d(this,rv)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):U(this,Ee,V1).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(d(this,Nf)?T(this,Nf,!1):this.parent.setSelected(this))}focusout(t){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,i,a){const[r,o]=this.parentDimensions;[i,a]=this.screenToPageTranslation(i,a),this.x=(t+i)/r,this.y=(e+a)/o,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[i,a]=this.parentDimensions;this.setAt(t*i,e*a,this.width*i,this.height*a),this._onTranslated()}translate(t,e){U(this,Ee,Ow).call(this,this.parentDimensions,t,e)}translateInPage(t,e){d(this,dr)||T(this,dr,[this.x,this.y,this.width,this.height]),U(this,Ee,Ow).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){d(this,dr)||T(this,dr,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[a,r]}=this;if(this.x+=t/a,this.y+=e/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:y,y:A}=this.div.getBoundingClientRect();this.parent.findNewParent(this,y,A)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[h,p]=this.getBaseTranslation();o+=h,u+=p;const{style:m}=i;m.left=`${(100*o).toFixed(2)}%`,m.top=`${(100*u).toFixed(2)}%`,this._onTranslating(o,u),i.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!d(this,dr)&&(d(this,dr)[0]!==this.x||d(this,dr)[1]!==this.y)}get _hasBeenResized(){return!!d(this,dr)&&(d(this,dr)[2]!==this.width||d(this,dr)[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:i}=$e,a=i/t,r=i/e;switch(this.rotation){case 90:return[-a,r];case 180:return[a,r];case 270:return[a,-r];default:return[-a,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[i,a]}=this;let{x:r,y:o,width:u,height:h}=this;if(u*=i,h*=a,r*=i,o*=a,this._mustFixPosition)switch(t){case 0:r=La(r,0,i-u),o=La(o,0,a-h);break;case 90:r=La(r,0,i-h),o=La(o,u,a);break;case 180:r=La(r,u,i),o=La(o,h,a);break;case 270:r=La(r,h,i),o=La(o,0,a-u);break}this.x=r/=i,this.y=o/=a;const[p,m]=this.getBaseTranslation();r+=p,o+=m,e.left=`${(100*r).toFixed(2)}%`,e.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var i;return U(i=$e,F0,jw).call(i,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var i;return U(i=$e,F0,jw).call(i,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,i]}=this;return[e*t,i*t]}setDims(t,e){const[i,a]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*t/i).toFixed(2)}%`,d(this,Sf)||(r.height=`${(100*e/a).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:i}=t,a=i.endsWith("%"),r=!d(this,Sf)&&e.endsWith("%");if(a&&r)return;const[o,u]=this.parentDimensions;a||(t.width=`${(100*parseFloat(i)/o).toFixed(2)}%`),!d(this,Sf)&&!r&&(t.height=`${(100*parseFloat(e)/u).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=d(this,cn))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||d(this,Ef))return this._editToolbar;this._editToolbar=new Ew(this),this.div.append(this._editToolbar.render()),this._editToolbar.addButton("comment",this.addCommentButton());const{toolbarButtons:t}=this;if(t)for(const[e,i]of t)await this._editToolbar.addButton(e,i);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=d(this,cn))==null||t.destroy())}addContainer(t){var i;const e=(i=this._editToolbar)==null?void 0:i.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return d(this,cn)||(Xb.initialize($e._l10n),T(this,cn,new Xb(this)),d(this,xf)&&(d(this,cn).data=d(this,xf),T(this,xf,null))),d(this,cn)}get altTextData(){var t;return(t=d(this,cn))==null?void 0:t.data}set altTextData(t){d(this,cn)&&(d(this,cn).data=t)}get guessedAltText(){var t;return(t=d(this,cn))==null?void 0:t.guessedText}async setGuessedAltText(t){var e;await((e=d(this,cn))==null?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return(e=d(this,cn))==null?void 0:e.serialize(t)}hasAltText(){return!!d(this,cn)&&!d(this,cn).isEmpty()}hasAltTextData(){var t;return((t=d(this,cn))==null?void 0:t.hasData())??!1}addCommentButton(){return d(this,Ds)?d(this,Ds):T(this,Ds,new Q5(this))}get commentColor(){return null}get comment(){const t=d(this,Ds);return{text:t.data.text,date:t.data.date,deleted:t.isDeleted(),color:this.commentColor}}set comment(t){d(this,Ds)||T(this,Ds,new Q5(this)),d(this,Ds).data=t}setCommentData(t){d(this,Ds)||T(this,Ds,new Q5(this)),d(this,Ds).setInitialText(t)}get hasEditedComment(){var t;return(t=d(this,Ds))==null?void 0:t.hasBeenEdited()}async editComment(){d(this,Ds)||T(this,Ds,new Q5(this)),d(this,Ds).edit()}addComment(t){this.hasEditedComment&&(t.popup={contents:this.comment.text,deleted:this.comment.deleted})}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=d(this,Yg)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),U(this,Ee,zw).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[a,r]=this.getInitialTranslation();return this.translate(a,r),o_(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(d(this,Lf)||T(this,Lf,new Wb({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:U(this,Ee,__).bind(this),onPinching:U(this,Ee,N_).bind(this),onPinchEnd:U(this,Ee,E_).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:e}=qs.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(T(this,Nf,!0),this._isDraggable){U(this,Ee,L_).call(this,t);return}U(this,Ee,Bw).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){d(this,Hl)&&clearTimeout(d(this,Hl)),T(this,Hl,setTimeout(()=>{var t;T(this,Hl,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,i){t.changeParent(this),this.x=e,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,i=this.rotation){const a=this.parentScale,[r,o]=this.pageDimensions,[u,h]=this.pageTranslation,p=t/a,m=e/a,y=this.x*r,A=this.y*o,w=this.width*r,L=this.height*o;switch(i){case 0:return[y+p+u,o-A-m-L+h,y+p+w+u,o-A-m+h];case 90:return[y+m+u,o-A+p+h,y+m+L+u,o-A+p+w+h];case 180:return[y-p-w+u,o-A+m+h,y-p+u,o-A+m+L+h];case 270:return[y-m-L+u,o-A-p-w+h,y-m+u,o-A-p+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[i,a,r,o]=t,u=r-i,h=o-a;switch(this.rotation){case 0:return[i,e-o,u,h];case 90:return[i,e-a,h,u];case 180:return[r,e-a,u,h];case 270:return[r,e-o,h,u];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),T(this,Ef,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),T(this,Ef,!1),!0):!1}isInEditMode(){return d(this,Ef)}shouldGetKeyboardEvents(){return d(this,tu)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:i,right:a}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return e<o&&a>0&&t<r&&i>0}rebuild(){U(this,Ee,zw).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,e=null){qi("An editor must be serializable")}static async deserialize(t,e,i){const a=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:i,annotationElementId:t.annotationElementId});a.rotation=t.rotation,T(a,xf,t.accessibilityData),a._isCopy=t.isCopy||!1;const[r,o]=a.pageDimensions,[u,h,p,m]=a.getRectInCurrentCoords(t.rect,o);return a.x=u/r,a.y=h/o,a.width=p/r,a.height=m/o,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,e;if((t=d(this,Fh))==null||t.abort(),T(this,Fh,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),d(this,Hl)&&(clearTimeout(d(this,Hl)),T(this,Hl,null)),U(this,Ee,V1).call(this),this.removeEditToolbar(),d(this,Kr)){for(const i of d(this,Kr).values())clearTimeout(i);T(this,Kr,null)}this.parent=null,(e=d(this,Lf))==null||e.destroy(),T(this,Lf,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(U(this,Ee,x_).call(this),d(this,Ps).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),T(this,Jc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=d(this,Ps).children;if(!d(this,Io)){T(this,Io,Array.from(e));const o=U(this,Ee,C_).bind(this),u=U(this,Ee,T_).bind(this),h=this._uiManager._signal;for(const p of d(this,Io)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",o,{signal:h}),p.addEventListener("blur",u,{signal:h}),p.addEventListener("focus",U(this,Ee,M_).bind(this,m),{signal:h}),p.setAttribute("data-l10n-id",$e._l10nResizer[m])}}const i=d(this,Io)[0];let a=0;for(const o of e){if(o===i)break;a++}const r=(360-this.rotation+this.parentRotation)%360/90*(d(this,Io).length/4);if(r!==a){if(r<a)for(let u=0;u<a-r;u++)d(this,Ps).append(d(this,Ps).firstChild);else if(r>a)for(let u=0;u<r-a;u++)d(this,Ps).firstChild.before(d(this,Ps).lastChild);let o=0;for(const u of e){const p=d(this,Io)[o++].getAttribute("data-resizer-name");u.setAttribute("data-l10n-id",$e._l10nResizer[p])}}U(this,Ee,qw).call(this,0),T(this,tu,!0),d(this,Ps).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){d(this,tu)&&U(this,Ee,Iw).call(this,d(this,P0),{deltaX:t,deltaY:e,fromKeyboard:!0})}_stopResizingWithKeyboard(){U(this,Ee,V1).call(this),this.div.focus()}select(){var t,e,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var a,r;(a=this.div)!=null&&a.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(e=this._editToolbar)==null||e.show(),(i=d(this,cn))==null||i.toggleAltTextBadge(!1)}}unselect(){var t,e,i,a,r;this.isSelected&&(this.isSelected=!1,(t=d(this,Ps))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(a=this._editToolbar)==null||a.hide(),(r=d(this,cn))==null||r.toggleAltTextBadge(!0))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return d(this,O0)}set isEditing(t){T(this,O0,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){T(this,Sf,!0);const i=t/e,{style:a}=this.div;a.aspectRatio=i,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){d(this,Kr)||T(this,Kr,new Map);const{action:i}=t;let a=d(this,Kr).get(i);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(t),d(this,Kr).delete(i),d(this,Kr).size===0&&T(this,Kr,null)},$e._telemetryTimeout),d(this,Kr).set(i,a);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),T(this,Yg,!1)}disable(){this.div&&(this.div.tabIndex=-1),T(this,Yg,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const i=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),i.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;(e==null?void 0:e.nodeName)==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};xf=new WeakMap,Io=new WeakMap,cn=new WeakMap,Ds=new WeakMap,Yg=new WeakMap,jh=new WeakMap,D0=new WeakMap,Sf=new WeakMap,Ps=new WeakMap,_f=new WeakMap,Jc=new WeakMap,Fh=new WeakMap,P0=new WeakMap,Nf=new WeakMap,dr=new WeakMap,O0=new WeakMap,Ef=new WeakMap,tu=new WeakMap,Hl=new WeakMap,Xg=new WeakMap,Wg=new WeakMap,Kr=new WeakMap,Lf=new WeakMap,j0=new WeakMap,rv=new WeakMap,Ee=new WeakSet,Ow=function([t,e],i,a){[i,a]=this.screenToPageTranslation(i,a),this.x+=i/t,this.y+=a/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},F0=new WeakSet,jw=function(t,e,i){switch(i){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},pb=function(t){switch(t){case 90:{const[e,i]=this.pageDimensions;return[0,-e/i,i/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,i]=this.pageDimensions;return[0,e/i,-i/e,0]}default:return[1,0,0,1]}},x_=function(){if(d(this,Ps))return;T(this,Ps,document.createElement("div")),d(this,Ps).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const i of t){const a=document.createElement("div");d(this,Ps).append(a),a.classList.add("resizer",i),a.setAttribute("data-resizer-name",i),a.addEventListener("pointerdown",U(this,Ee,S_).bind(this,i),{signal:e}),a.addEventListener("contextmenu",no,{signal:e}),a.tabIndex=-1}this.div.prepend(d(this,Ps))},S_=function(t,e){var m;e.preventDefault();const{isMac:i}=qs.platform;if(e.button!==0||e.ctrlKey&&i)return;(m=d(this,cn))==null||m.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,T(this,_f,[e.screenX,e.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",U(this,Ee,Iw).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Kn,{passive:!1,signal:o}),window.addEventListener("contextmenu",no,{signal:o}),T(this,Jc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const u=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const p=()=>{var y;r.abort(),this.parent.togglePointerEvents(!0),(y=d(this,cn))==null||y.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=u,this.div.style.cursor=h,U(this,Ee,gb).call(this)};window.addEventListener("pointerup",p,{signal:o}),window.addEventListener("blur",p,{signal:o})},Fw=function(t,e,i,a){this.width=i,this.height=a,this.x=t,this.y=e;const[r,o]=this.parentDimensions;this.setDims(r*i,o*a),this.fixAndSetPosition(),this._onResized()},gb=function(){if(!d(this,Jc))return;const{savedX:t,savedY:e,savedWidth:i,savedHeight:a}=d(this,Jc);T(this,Jc,null);const r=this.x,o=this.y,u=this.width,h=this.height;r===t&&o===e&&u===i&&h===a||this.addCommands({cmd:U(this,Ee,Fw).bind(this,r,o,u,h),undo:U(this,Ee,Fw).bind(this,t,e,i,a),mustExec:!0})},Iw=function(t,e){const[i,a]=this.parentDimensions,r=this.x,o=this.y,u=this.width,h=this.height,p=$e.MIN_SIZE/i,m=$e.MIN_SIZE/a,y=U(this,Ee,pb).call(this,this.rotation),A=(B,z)=>[y[0]*B+y[2]*z,y[1]*B+y[3]*z],w=U(this,Ee,pb).call(this,360-this.rotation),L=(B,z)=>[w[0]*B+w[2]*z,w[1]*B+w[3]*z];let N,M,E=!1,R=!1;switch(t){case"topLeft":E=!0,N=(B,z)=>[0,0],M=(B,z)=>[B,z];break;case"topMiddle":N=(B,z)=>[B/2,0],M=(B,z)=>[B/2,z];break;case"topRight":E=!0,N=(B,z)=>[B,0],M=(B,z)=>[0,z];break;case"middleRight":R=!0,N=(B,z)=>[B,z/2],M=(B,z)=>[0,z/2];break;case"bottomRight":E=!0,N=(B,z)=>[B,z],M=(B,z)=>[0,0];break;case"bottomMiddle":N=(B,z)=>[B/2,z],M=(B,z)=>[B/2,0];break;case"bottomLeft":E=!0,N=(B,z)=>[0,z],M=(B,z)=>[B,0];break;case"middleLeft":R=!0,N=(B,z)=>[0,z/2],M=(B,z)=>[B,z/2];break}const P=N(u,h),K=M(u,h);let X=A(...K);const st=$e._round(r+X[0]),it=$e._round(o+X[1]);let W=1,lt=1,yt,H;if(e.fromKeyboard)({deltaX:yt,deltaY:H}=e);else{const{screenX:B,screenY:z}=e,[Q,pt]=d(this,_f);[yt,H]=this.screenToPageTranslation(B-Q,z-pt),d(this,_f)[0]=B,d(this,_f)[1]=z}if([yt,H]=L(yt/i,H/a),E){const B=Math.hypot(u,h);W=lt=Math.max(Math.min(Math.hypot(K[0]-P[0]-yt,K[1]-P[1]-H)/B,1/u,1/h),p/u,m/h)}else R?W=La(Math.abs(K[0]-P[0]-yt),p,1)/u:lt=La(Math.abs(K[1]-P[1]-H),m,1)/h;const J=$e._round(u*W),ut=$e._round(h*lt);X=A(...M(J,ut));const rt=st-X[0],_t=it-X[1];d(this,dr)||T(this,dr,[this.x,this.y,this.width,this.height]),this.width=J,this.height=ut,this.x=rt,this.y=_t,this.setDims(i*J,a*ut),this.fixAndSetPosition(),this._onResizing()},__=function(){var t;T(this,Jc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=d(this,cn))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},N_=function(t,e,i){let r=.7*(i/e)+1-.7;if(r===1)return;const o=U(this,Ee,pb).call(this,this.rotation),u=(st,it)=>[o[0]*st+o[2]*it,o[1]*st+o[3]*it],[h,p]=this.parentDimensions,m=this.x,y=this.y,A=this.width,w=this.height,L=$e.MIN_SIZE/h,N=$e.MIN_SIZE/p;r=Math.max(Math.min(r,1/A,1/w),L/A,N/w);const M=$e._round(A*r),E=$e._round(w*r);if(M===A&&E===w)return;d(this,dr)||T(this,dr,[m,y,A,w]);const R=u(A/2,w/2),P=$e._round(m+R[0]),K=$e._round(y+R[1]),X=u(M/2,E/2);this.x=P-X[0],this.y=K-X[1],this.width=M,this.height=E,this.setDims(h*M,p*E),this.fixAndSetPosition(),this._onResizing()},E_=function(){var t;(t=d(this,cn))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),U(this,Ee,gb).call(this)},Bw=function(t){const{isMac:e}=qs.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},L_=function(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let i=!1;const a=new AbortController,r=this._uiManager.combinedSignal(a),o={capture:!0,passive:!1,signal:r},u=p=>{a.abort(),T(this,jh,null),T(this,Nf,!1),this._uiManager.endDragSession()||U(this,Ee,Bw).call(this,p),i&&this._onStopDragging()};e&&(T(this,Xg,t.clientX),T(this,Wg,t.clientY),T(this,jh,t.pointerId),T(this,D0,t.pointerType),window.addEventListener("pointermove",p=>{i||(i=!0,this._onStartDragging());const{clientX:m,clientY:y,pointerId:A}=p;if(A!==d(this,jh)){Kn(p);return}const[w,L]=this.screenToPageTranslation(m-d(this,Xg),y-d(this,Wg));T(this,Xg,m),T(this,Wg,y),this._uiManager.dragSelectedEditors(w,L)},o),window.addEventListener("touchmove",Kn,o),window.addEventListener("pointerdown",p=>{p.pointerType===d(this,D0)&&(d(this,Lf)||p.isPrimary)&&u(p),Kn(p)},o));const h=p=>{if(!d(this,jh)||d(this,jh)===p.pointerId){u(p);return}Kn(p)};window.addEventListener("pointerup",h,{signal:r}),window.addEventListener("blur",h,{signal:r})},zw=function(){if(d(this,Fh)||!this.div)return;T(this,Fh,new AbortController);const t=this._uiManager.combinedSignal(d(this,Fh));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},C_=function(t){$e._resizerKeyboardManager.exec(this,t)},T_=function(t){var e;d(this,tu)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==d(this,Ps)&&U(this,Ee,V1).call(this)},M_=function(t){T(this,P0,d(this,tu)?t:"")},qw=function(t){if(d(this,Io))for(const e of d(this,Io))e.tabIndex=t},V1=function(){T(this,tu,!1),U(this,Ee,qw).call(this,-1),U(this,Ee,gb).call(this)},I($e,F0),Wt($e,"_l10n",null),Wt($e,"_l10nResizer",null),Wt($e,"_borderLineWidth",-1),Wt($e,"_colorManager",new Cw),Wt($e,"_zIndex",1),Wt($e,"_telemetryTimeout",1e3);let $i=$e;class MC extends $i{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const VS=3285377520,Yr=4294901760,kl=65535;class k_{constructor(t){this.h1=t?t&4294967295:VS,this.h2=t?t&4294967295:VS}update(t){let e,i;if(typeof t=="string"){e=new Uint8Array(t.length*2),i=0;for(let N=0,M=t.length;N<M;N++){const E=t.charCodeAt(N);E<=255?e[i++]=E:(e[i++]=E>>>8,e[i++]=E&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),i=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=i>>2,r=i-a*4,o=new Uint32Array(e.buffer,0,a);let u=0,h=0,p=this.h1,m=this.h2;const y=3432918353,A=461845907,w=y&kl,L=A&kl;for(let N=0;N<a;N++)N&1?(u=o[N],u=u*y&Yr|u*w&kl,u=u<<15|u>>>17,u=u*A&Yr|u*L&kl,p^=u,p=p<<13|p>>>19,p=p*5+3864292196):(h=o[N],h=h*y&Yr|h*w&kl,h=h<<15|h>>>17,h=h*A&Yr|h*L&kl,m^=h,m=m<<13|m>>>19,m=m*5+3864292196);switch(u=0,r){case 3:u^=e[a*4+2]<<16;case 2:u^=e[a*4+1]<<8;case 1:u^=e[a*4],u=u*y&Yr|u*w&kl,u=u<<15|u>>>17,u=u*A&Yr|u*L&kl,a&1?p^=u:m^=u}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Yr|t*36045&kl,e=e*4283543511&Yr|((e<<16|t>>>16)*2950163797&Yr)>>>16,t^=e>>>1,t=t*444984403&Yr|t*60499&kl,e=e*3301882366&Yr|((e<<16|t>>>16)*3120437893&Yr)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Uw=Object.freeze({map:null,hash:"",transfer:void 0});var Cf,Tf,Os,ov,R_;class WA{constructor(){I(this,ov);I(this,Cf,!1);I(this,Tf,null);I(this,Os,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const i=d(this,Os).get(t);return i===void 0?e:Object.assign(e,i)}getRawValue(t){return d(this,Os).get(t)}remove(t){if(d(this,Os).delete(t),d(this,Os).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of d(this,Os).values())if(e instanceof $i)return;this.onAnnotationEditor(null)}}setValue(t,e){const i=d(this,Os).get(t);let a=!1;if(i!==void 0)for(const[r,o]of Object.entries(e))i[r]!==o&&(a=!0,i[r]=o);else a=!0,d(this,Os).set(t,e);a&&U(this,ov,R_).call(this),e instanceof $i&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return d(this,Os).has(t)}get size(){return d(this,Os).size}resetModified(){d(this,Cf)&&(T(this,Cf,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new D_(this)}get serializable(){if(d(this,Os).size===0)return Uw;const t=new Map,e=new k_,i=[],a=Object.create(null);let r=!1;for(const[o,u]of d(this,Os)){const h=u instanceof $i?u.serialize(!1,a):u;h&&(t.set(o,h),e.update(`${o}:${JSON.stringify(h)}`),r||(r=!!h.bitmap))}if(r)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:i}:Uw}get editorStats(){let t=null;const e=new Map;for(const i of d(this,Os).values()){if(!(i instanceof $i))continue;const a=i.telemetryFinalData;if(!a)continue;const{type:r}=a;e.has(r)||e.set(r,Object.getPrototypeOf(i).constructor),t||(t=Object.create(null));const o=t[r]||(t[r]=new Map);for(const[u,h]of Object.entries(a)){if(u==="type")continue;let p=o.get(u);p||(p=new Map,o.set(u,p));const m=p.get(h)??0;p.set(h,m+1)}}for(const[i,a]of e)t[i]=a.computeTelemetryFinalData(t[i]);return t}resetModifiedIds(){T(this,Tf,null)}get modifiedIds(){if(d(this,Tf))return d(this,Tf);const t=[];for(const e of d(this,Os).values())!(e instanceof $i)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return T(this,Tf,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return d(this,Os).entries()}}Cf=new WeakMap,Tf=new WeakMap,Os=new WeakMap,ov=new WeakSet,R_=function(){d(this,Cf)||(T(this,Cf,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var I0;class D_ extends WA{constructor(e){super();I(this,I0);const{map:i,hash:a,transfer:r}=e.serializable,o=structuredClone(i,r?{transfer:r}:null);T(this,I0,{map:o,hash:a,transfer:r})}get print(){qi("Should not call PrintAnnotationStorage.print")}get serializable(){return d(this,I0)}get modifiedIds(){return ii(this,"modifiedIds",{ids:new Set,hash:""})}}I0=new WeakMap;var $g;class kC{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){I(this,$g,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),d(this,$g).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:i}){if(!(!t||d(this,$g).has(t.loadedName))){if(Qn(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:r,style:o}=t,u=new FontFace(a,r,o);this.addNativeFontFace(u);try{await u.load(),d(this,$g).add(a),i==null||i(t)}catch{He(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}qi("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(a){throw He(`Failed to load font '${i.family}': '${a}'.`),t.disableFontFace=!0,a}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const a=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,a)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return ii(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return ii(this,"isSyncFontLoadingSupported",Ea||qs.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(Qn(!a.done,"completeRequest() cannot be called twice."),a.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,a={done:!1,complete:e,callback:t};return i.push(a),a}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ii(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function i(K,X){return K.charCodeAt(X)<<24|K.charCodeAt(X+1)<<16|K.charCodeAt(X+2)<<8|K.charCodeAt(X+3)&255}function a(K,X,st,it){const W=K.substring(0,X),lt=K.substring(X+st);return W+it+lt}let r,o;const u=this._document.createElement("canvas");u.width=1,u.height=1;const h=u.getContext("2d");let p=0;function m(K,X){if(++p>30){He("Load test font never loaded."),X();return}if(h.font="30px "+K,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){X();return}setTimeout(m.bind(null,K,X))}const y=`lt${Date.now()}${this.loadTestFontId++}`;let A=this._loadTestFont;A=a(A,976,y.length,y);const L=16,N=1482184792;let M=i(A,L);for(r=0,o=y.length-3;r<o;r+=4)M=M-N+i(y,r)|0;r<y.length&&(M=M-N+i(y+"XXX",r)|0),A=a(A,L,4,gC(M));const E=`url(data:font/opentype;base64,${btoa(A)});`,R=`@font-face {font-family:"${y}";src:${E}}`;this.insertRule(R);const P=this._document.createElement("div");P.style.visibility="hidden",P.style.width=P.style.height="10px",P.style.position="absolute",P.style.top=P.style.left="0px";for(const K of[t.loadedName,y]){const X=this._document.createElement("span");X.textContent="Hi",X.style.fontFamily=K,P.append(X)}this._document.body.append(P),m(y,()=>{P.remove(),e.complete()})}}$g=new WeakMap;class RC{constructor(t,e=null){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this._inspectFont=e}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${t_(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return(i=this._inspectFont)==null||i.call(this,this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const i=this.loadedName+"_path_"+e;let a;try{a=t.get(i)}catch(o){He(`getPathGenerator - ignoring character: "${o}".`)}const r=new Path2D(a||"");return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[e]=r}}function DC(c){if(c instanceof URL)return c.href;if(typeof c=="string"){if(Ea)return c;const t=URL.parse(c,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function PC(c){if(Ea&&typeof Buffer<"u"&&c instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength)return c;if(typeof c=="string")return q2(c);if(c instanceof ArrayBuffer||ArrayBuffer.isView(c)||typeof c=="object"&&!isNaN(c==null?void 0:c.length))return new Uint8Array(c);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Z5(c){if(typeof c!="string")return null;if(c.endsWith("/"))return c;throw new Error(`Invalid factory url: "${c}" must include trailing slash.`)}const Hw=c=>typeof c=="object"&&Number.isInteger(c==null?void 0:c.num)&&c.num>=0&&Number.isInteger(c==null?void 0:c.gen)&&c.gen>=0,OC=c=>typeof c=="object"&&typeof(c==null?void 0:c.name)=="string",jC=wC.bind(null,Hw,OC);var eu,lv;class FC{constructor(){I(this,eu,new Map);I(this,lv,Promise.resolve())}postMessage(t,e){const i={data:structuredClone(t,e?{transfer:e}:null)};d(this,lv).then(()=>{for(const[a]of d(this,eu))a.call(this,i)})}addEventListener(t,e,i=null){let a=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){He("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,e);a=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}d(this,eu).set(e,a)}removeEventListener(t,e){const i=d(this,eu).get(e);i==null||i(),d(this,eu).delete(e)}terminate(){for(const[,t]of d(this,eu))t==null||t();d(this,eu).clear()}}eu=new WeakMap,lv=new WeakMap;const J5={DATA:1,ERROR:2},Wn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function YS(){}function za(c){if(c instanceof fd||c instanceof Sw||c instanceof US||c instanceof Vb||c instanceof tw)return c;switch(c instanceof Error||typeof c=="object"&&c!==null||qi('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),c.name){case"AbortException":return new fd(c.message);case"InvalidPDFException":return new Sw(c.message);case"PasswordException":return new US(c.message,c.code);case"ResponseException":return new Vb(c.message,c.status,c.missing);case"UnknownErrorException":return new tw(c.message,c.details)}return new tw(c.message,c.toString())}var Kg,io,P_,O_,j_,mb;class Y1{constructor(t,e,i){I(this,io);I(this,Kg,new AbortController);this.sourceName=t,this.targetName=e,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",U(this,io,P_).bind(this),{signal:d(this,Kg).signal})}on(t,e){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=e}send(t,e,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},i)}sendWithPromise(t,e,i){const a=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[a]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:e},i)}catch(o){r.reject(o)}return r.promise}sendWithStream(t,e,i,a){const r=this.streamId++,o=this.sourceName,u=this.targetName,h=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[r]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:o,targetName:u,action:t,streamId:r,data:e,desiredSize:p.desiredSize},a),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[r].pullCall=m,h.postMessage({sourceName:o,targetName:u,stream:Wn.PULL,streamId:r,desiredSize:p.desiredSize}),m.promise},cancel:p=>{Qn(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[r].cancelCall=m,this.streamControllers[r].isClosed=!0,h.postMessage({sourceName:o,targetName:u,stream:Wn.CANCEL,streamId:r,reason:za(p)}),m.promise}},i)}destroy(){var t;(t=d(this,Kg))==null||t.abort(),T(this,Kg,null)}}Kg=new WeakMap,io=new WeakSet,P_=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){U(this,io,j_).call(this,t);return}if(t.callback){const i=t.callbackId,a=this.callbackCapabilities[i];if(!a)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===J5.DATA)a.resolve(t.data);else if(t.callback===J5.ERROR)a.reject(za(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,a=t.sourceName,r=this.comObj;Promise.try(e,t.data).then(function(o){r.postMessage({sourceName:i,targetName:a,callback:J5.DATA,callbackId:t.callbackId,data:o})},function(o){r.postMessage({sourceName:i,targetName:a,callback:J5.ERROR,callbackId:t.callbackId,reason:za(o)})});return}if(t.streamId){U(this,io,O_).call(this,t);return}e(t.data)},O_=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,r=this.comObj,o=this,u=this.actionHandler[t.action],h={enqueue(p,m=1,y){if(this.isCancelled)return;const A=this.desiredSize;this.desiredSize-=m,A>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:a,stream:Wn.ENQUEUE,streamId:e,chunk:p},y)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:Wn.CLOSE,streamId:e}),delete o.streamSinks[e])},error(p){Qn(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:a,stream:Wn.ERROR,streamId:e,reason:za(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(u,t.data,h).then(function(){r.postMessage({sourceName:i,targetName:a,stream:Wn.START_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:a,stream:Wn.START_COMPLETE,streamId:e,reason:za(p)})})},j_=function(t){const e=t.streamId,i=this.sourceName,a=t.sourceName,r=this.comObj,o=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case Wn.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(za(t.reason));break;case Wn.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(za(t.reason));break;case Wn.PULL:if(!u){r.postMessage({sourceName:i,targetName:a,stream:Wn.PULL_COMPLETE,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,Promise.try(u.onPull||YS).then(function(){r.postMessage({sourceName:i,targetName:a,stream:Wn.PULL_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:a,stream:Wn.PULL_COMPLETE,streamId:e,reason:za(p)})});break;case Wn.ENQUEUE:if(Qn(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case Wn.CLOSE:if(Qn(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),U(this,io,mb).call(this,o,e);break;case Wn.ERROR:Qn(o,"error should have stream controller"),o.controller.error(za(t.reason)),U(this,io,mb).call(this,o,e);break;case Wn.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(za(t.reason)),U(this,io,mb).call(this,o,e);break;case Wn.CANCEL:if(!u)break;const h=za(t.reason);Promise.try(u.onCancel||YS,h).then(function(){r.postMessage({sourceName:i,targetName:a,stream:Wn.CANCEL_COMPLETE,streamId:e,success:!0})},function(p){r.postMessage({sourceName:i,targetName:a,stream:Wn.CANCEL_COMPLETE,streamId:e,reason:za(p)})}),u.sinkCapability.reject(h),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},mb=async function(t,e){var i,a,r;await Promise.allSettled([(i=t.startCall)==null?void 0:i.promise,(a=t.pullCall)==null?void 0:a.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var B0;class F_{constructor({enableHWA:t=!1}){I(this,B0,!1);T(this,B0,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,e);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!d(this,B0)})}}reset(t,e,i){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){qi("Abstract method `_createCanvas` called.")}}B0=new WeakMap;class IC extends F_{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const i=this._document.createElement("canvas");return i.width=t,i.height=e,i}}class I_{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){qi("Abstract method `_fetch` called.")}}class XS extends I_{async _fetch(t){const e=await U2(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):q2(e)}}class B_{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,i,a,r){return"none"}destroy(t=!1){}}var Mf,Qg,iu,nu,ra,kf,Rf,re,sa,X1,mg,bb,bg,z_,Gw,vg,W1,$1,Vw,K1;class BC extends B_{constructor({docId:e,ownerDocument:i=globalThis.document}){super();I(this,re);I(this,Mf);I(this,Qg);I(this,iu);I(this,nu);I(this,ra);I(this,kf);I(this,Rf,0);T(this,nu,e),T(this,ra,i)}addFilter(e){if(!e)return"none";let i=d(this,re,sa).get(e);if(i)return i;const[a,r,o]=U(this,re,bb).call(this,e),u=e.length===1?a:`${a}${r}${o}`;if(i=d(this,re,sa).get(u),i)return d(this,re,sa).set(e,i),i;const h=`g_${d(this,nu)}_transfer_map_${wa(this,Rf)._++}`,p=U(this,re,bg).call(this,h);d(this,re,sa).set(e,p),d(this,re,sa).set(u,p);const m=U(this,re,vg).call(this,h);return U(this,re,$1).call(this,a,r,o,m),p}addHCMFilter(e,i){var L;const a=`${e}-${i}`,r="base";let o=d(this,re,X1).get(r);if((o==null?void 0:o.key)===a||(o?((L=o.filter)==null||L.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},d(this,re,X1).set(r,o)),!e||!i))return o.url;const u=U(this,re,K1).call(this,e);e=Ae.makeHexColor(...u);const h=U(this,re,K1).call(this,i);if(i=Ae.makeHexColor(...h),d(this,re,mg).style.color="",e==="#000000"&&i==="#ffffff"||e===i)return o.url;const p=new Array(256);for(let N=0;N<=255;N++){const M=N/255;p[N]=M<=.03928?M/12.92:((M+.055)/1.055)**2.4}const m=p.join(","),y=`g_${d(this,nu)}_hcm_filter`,A=o.filter=U(this,re,vg).call(this,y);U(this,re,$1).call(this,m,m,m,A),U(this,re,Gw).call(this,A);const w=(N,M)=>{const E=u[N]/255,R=h[N]/255,P=new Array(M+1);for(let K=0;K<=M;K++)P[K]=E+K/M*(R-E);return P.join(",")};return U(this,re,$1).call(this,w(0,5),w(1,5),w(2,5),A),o.url=U(this,re,bg).call(this,y),o.url}addAlphaFilter(e){let i=d(this,re,sa).get(e);if(i)return i;const[a]=U(this,re,bb).call(this,[e]),r=`alpha_${a}`;if(i=d(this,re,sa).get(r),i)return d(this,re,sa).set(e,i),i;const o=`g_${d(this,nu)}_alpha_map_${wa(this,Rf)._++}`,u=U(this,re,bg).call(this,o);d(this,re,sa).set(e,u),d(this,re,sa).set(r,u);const h=U(this,re,vg).call(this,o);return U(this,re,Vw).call(this,a,h),u}addLuminosityFilter(e){let i=d(this,re,sa).get(e||"luminosity");if(i)return i;let a,r;if(e?([a]=U(this,re,bb).call(this,[e]),r=`luminosity_${a}`):r="luminosity",i=d(this,re,sa).get(r),i)return d(this,re,sa).set(e,i),i;const o=`g_${d(this,nu)}_luminosity_map_${wa(this,Rf)._++}`,u=U(this,re,bg).call(this,o);d(this,re,sa).set(e,u),d(this,re,sa).set(r,u);const h=U(this,re,vg).call(this,o);return U(this,re,z_).call(this,h),e&&U(this,re,Vw).call(this,a,h),u}addHighlightHCMFilter(e,i,a,r,o){var R;const u=`${i}-${a}-${r}-${o}`;let h=d(this,re,X1).get(e);if((h==null?void 0:h.key)===u||(h?((R=h.filter)==null||R.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},d(this,re,X1).set(e,h)),!i||!a))return h.url;const[p,m]=[i,a].map(U(this,re,K1).bind(this));let y=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),A=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[w,L]=[r,o].map(U(this,re,K1).bind(this));A<y&&([y,A,w,L]=[A,y,L,w]),d(this,re,mg).style.color="";const N=(P,K,X)=>{const st=new Array(256),it=(A-y)/X,W=P/255,lt=(K-P)/(255*X);let yt=0;for(let H=0;H<=X;H++){const J=Math.round(y+H*it),ut=W+H*lt;for(let rt=yt;rt<=J;rt++)st[rt]=ut;yt=J+1}for(let H=yt;H<256;H++)st[H]=st[yt-1];return st.join(",")},M=`g_${d(this,nu)}_hcm_${e}_filter`,E=h.filter=U(this,re,vg).call(this,M);return U(this,re,Gw).call(this,E),U(this,re,$1).call(this,N(w[0],L[0],5),N(w[1],L[1],5),N(w[2],L[2],5),E),h.url=U(this,re,bg).call(this,M),h.url}destroy(e=!1){var i,a,r,o;e&&((i=d(this,kf))!=null&&i.size)||((a=d(this,iu))==null||a.parentNode.parentNode.remove(),T(this,iu,null),(r=d(this,Qg))==null||r.clear(),T(this,Qg,null),(o=d(this,kf))==null||o.clear(),T(this,kf,null),T(this,Rf,0))}}Mf=new WeakMap,Qg=new WeakMap,iu=new WeakMap,nu=new WeakMap,ra=new WeakMap,kf=new WeakMap,Rf=new WeakMap,re=new WeakSet,sa=function(){return d(this,Qg)||T(this,Qg,new Map)},X1=function(){return d(this,kf)||T(this,kf,new Map)},mg=function(){if(!d(this,iu)){const e=d(this,ra).createElement("div"),{style:i}=e;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const a=d(this,ra).createElementNS(Bc,"svg");a.setAttribute("width",0),a.setAttribute("height",0),T(this,iu,d(this,ra).createElementNS(Bc,"defs")),e.append(a),a.append(d(this,iu)),d(this,ra).body.append(e)}return d(this,iu)},bb=function(e){if(e.length===1){const p=e[0],m=new Array(256);for(let A=0;A<256;A++)m[A]=p[A]/255;const y=m.join(",");return[y,y,y]}const[i,a,r]=e,o=new Array(256),u=new Array(256),h=new Array(256);for(let p=0;p<256;p++)o[p]=i[p]/255,u[p]=a[p]/255,h[p]=r[p]/255;return[o.join(","),u.join(","),h.join(",")]},bg=function(e){if(d(this,Mf)===void 0){T(this,Mf,"");const i=d(this,ra).URL;i!==d(this,ra).baseURI&&(Ev(i)?He('#createUrl: ignore "data:"-URL for performance reasons.'):T(this,Mf,Q4(i,"")))}return`url(${d(this,Mf)}#${e})`},z_=function(e){const i=d(this,ra).createElementNS(Bc,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(i)},Gw=function(e){const i=d(this,ra).createElementNS(Bc,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(i)},vg=function(e){const i=d(this,ra).createElementNS(Bc,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",e),d(this,re,mg).append(i),i},W1=function(e,i,a){const r=d(this,ra).createElementNS(Bc,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",a),e.append(r)},$1=function(e,i,a,r){const o=d(this,ra).createElementNS(Bc,"feComponentTransfer");r.append(o),U(this,re,W1).call(this,o,"feFuncR",e),U(this,re,W1).call(this,o,"feFuncG",i),U(this,re,W1).call(this,o,"feFuncB",a)},Vw=function(e,i){const a=d(this,ra).createElementNS(Bc,"feComponentTransfer");i.append(a),U(this,re,W1).call(this,a,"feFuncA",e)},K1=function(e){return d(this,re,mg).style.color=e,Lv(getComputedStyle(d(this,re,mg)).getPropertyValue("color"))};class q_{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){qi("Abstract method `_fetch` called.")}}class WS extends q_{async _fetch(t){const e=await U2(t,"arraybuffer");return new Uint8Array(e)}}class U_{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(i=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){qi("Abstract method `_fetch` called.")}}class $S extends U_{async _fetch(t){const e=await U2(t,"arraybuffer");return new Uint8Array(e)}}Ea&&He("Please use the `legacy` build in Node.js environments.");async function $A(c){const e=await process.getBuiltinModule("fs").promises.readFile(c);return new Uint8Array(e)}class zC extends B_{}class qC extends F_{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class UC extends I_{async _fetch(t){return $A(t)}}class HC extends q_{async _fetch(t){return $A(t)}}class GC extends U_{async _fetch(t){return $A(t)}}const Is={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Yw(c,t){if(!t)return;const e=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],e,i),c.clip(a)}class KA{isModifyingCurrentTransform(){return!1}getPattern(){qi("Abstract method `getPattern` called.")}}class VC extends KA{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)e.addColorStop(i[0],i[1]);return e}getPattern(t,e,i,a){let r;if(a===Is.STROKE||a===Is.FILL){const o=e.current.getClippedPathBoundingBox(a,wn(t))||[0,0,0,0],u=Math.ceil(o[2]-o[0])||1,h=Math.ceil(o[3]-o[1])||1,p=e.cachedCanvases.getCanvas("pattern",u,h),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-o[0],-o[1]),i=Ae.transform(i,[1,0,0,1,o[0],o[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Yw(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),r=t.createPattern(p.canvas,"no-repeat");const y=new DOMMatrix(i);r.setTransform(y)}else Yw(t,this._bbox),r=this._createGradient(t);return r}}function nw(c,t,e,i,a,r,o,u){const h=t.coords,p=t.colors,m=c.data,y=c.width*4;let A;h[e+1]>h[i+1]&&(A=e,e=i,i=A,A=r,r=o,o=A),h[i+1]>h[a+1]&&(A=i,i=a,a=A,A=o,o=u,u=A),h[e+1]>h[i+1]&&(A=e,e=i,i=A,A=r,r=o,o=A);const w=(h[e]+t.offsetX)*t.scaleX,L=(h[e+1]+t.offsetY)*t.scaleY,N=(h[i]+t.offsetX)*t.scaleX,M=(h[i+1]+t.offsetY)*t.scaleY,E=(h[a]+t.offsetX)*t.scaleX,R=(h[a+1]+t.offsetY)*t.scaleY;if(L>=R)return;const P=p[r],K=p[r+1],X=p[r+2],st=p[o],it=p[o+1],W=p[o+2],lt=p[u],yt=p[u+1],H=p[u+2],J=Math.round(L),ut=Math.round(R);let rt,_t,B,z,Q,pt,O,ft;for(let k=J;k<=ut;k++){if(k<M){const gt=k<L?0:(L-k)/(L-M);rt=w-(w-N)*gt,_t=P-(P-st)*gt,B=K-(K-it)*gt,z=X-(X-W)*gt}else{let gt;k>R?gt=1:M===R?gt=0:gt=(M-k)/(M-R),rt=N-(N-E)*gt,_t=st-(st-lt)*gt,B=it-(it-yt)*gt,z=W-(W-H)*gt}let q;k<L?q=0:k>R?q=1:q=(L-k)/(L-R),Q=w-(w-E)*q,pt=P-(P-lt)*q,O=K-(K-yt)*q,ft=X-(X-H)*q;const et=Math.round(Math.min(rt,Q)),at=Math.round(Math.max(rt,Q));let ct=y*k+et*4;for(let gt=et;gt<=at;gt++)q=(rt-gt)/(rt-Q),q<0?q=0:q>1&&(q=1),m[ct++]=_t-(_t-pt)*q|0,m[ct++]=B-(B-O)*q|0,m[ct++]=z-(z-ft)*q|0,m[ct++]=255}}function YC(c,t,e){const i=t.coords,a=t.colors;let r,o;switch(t.type){case"lattice":const u=t.verticesPerRow,h=Math.floor(i.length/u)-1,p=u-1;for(r=0;r<h;r++){let m=r*u;for(let y=0;y<p;y++,m++)nw(c,e,i[m],i[m+1],i[m+u],a[m],a[m+1],a[m+u]),nw(c,e,i[m+u+1],i[m+1],i[m+u],a[m+u+1],a[m+1],a[m+u])}break;case"triangles":for(r=0,o=i.length;r<o;r+=3)nw(c,e,i[r],i[r+1],i[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}class XC extends KA{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,i){const u=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-u,m=Math.ceil(this._bounds[3])-h,y=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),A=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),w=p/y,L=m/A,N={coords:this._coords,colors:this._colors,offsetX:-u,offsetY:-h,scaleX:1/w,scaleY:1/L},M=y+2*2,E=A+2*2,R=i.getCanvas("mesh",M,E),P=R.context,K=P.createImageData(y,A);if(e){const st=K.data;for(let it=0,W=st.length;it<W;it+=4)st[it]=e[0],st[it+1]=e[1],st[it+2]=e[2],st[it+3]=255}for(const st of this._figures)YC(K,st,N);return P.putImageData(K,2,2),{canvas:R.canvas,offsetX:u-2*w,offsetY:h-2*L,scaleX:w,scaleY:L}}isModifyingCurrentTransform(){return!0}getPattern(t,e,i,a){Yw(t,this._bbox);const r=new Float32Array(2);if(a===Is.SHADING)Ae.singularValueDecompose2dScale(wn(t),r);else if(this.matrix){Ae.singularValueDecompose2dScale(this.matrix,r);const[u,h]=r;Ae.singularValueDecompose2dScale(e.baseTransform,r),r[0]*=u,r[1]*=h}else Ae.singularValueDecompose2dScale(e.baseTransform,r);const o=this._createMeshCanvas(r,a===Is.SHADING?null:this._background,e.cachedCanvases);return a!==Is.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class WC extends KA{getPattern(){return"hotpink"}}function $C(c){switch(c[0]){case"RadialAxial":return new VC(c);case"Mesh":return new XC(c);case"Dummy":return new WC}throw new Error(`Unknown IR type: ${c[0]}`)}const KS={COLORED:1,UNCOLORED:2},cv=class cv{constructor(t,e,i,a){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=i,this.baseTransform=a}createPatternCanvas(t){const{bbox:e,operatorList:i,paintType:a,tilingType:r,color:o,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:p}=this;h=Math.abs(h),p=Math.abs(p),Nv("TilingType: "+r);const m=e[0],y=e[1],A=e[2],w=e[3],L=A-m,N=w-y,M=new Float32Array(2);Ae.singularValueDecompose2dScale(this.matrix,M);const[E,R]=M;Ae.singularValueDecompose2dScale(this.baseTransform,M);const P=E*M[0],K=R*M[1];let X=L,st=N,it=!1,W=!1;const lt=Math.ceil(h*P),yt=Math.ceil(p*K),H=Math.ceil(L*P),J=Math.ceil(N*K);lt>=H?X=h:it=!0,yt>=J?st=p:W=!0;const ut=this.getSizeAndScale(X,this.ctx.canvas.width,P),rt=this.getSizeAndScale(st,this.ctx.canvas.height,K),_t=t.cachedCanvases.getCanvas("pattern",ut.size,rt.size),B=_t.context,z=u.createCanvasGraphics(B);if(z.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(z,a,o),B.translate(-ut.scale*m,-rt.scale*y),z.transform(ut.scale,0,0,rt.scale,0,0),B.save(),this.clipBbox(z,m,y,A,w),z.baseTransform=wn(z.ctx),z.executeOperatorList(i),z.endDrawing(),B.restore(),it||W){const Q=_t.canvas;it&&(X=h),W&&(st=p);const pt=this.getSizeAndScale(X,this.ctx.canvas.width,P),O=this.getSizeAndScale(st,this.ctx.canvas.height,K),ft=pt.size,k=O.size,q=t.cachedCanvases.getCanvas("pattern-workaround",ft,k),et=q.context,at=it?Math.floor(L/h):0,ct=W?Math.floor(N/p):0;for(let gt=0;gt<=at;gt++)for(let St=0;St<=ct;St++)et.drawImage(Q,ft*gt,k*St,ft,k,0,0,ft,k);return{canvas:q.canvas,scaleX:pt.scale,scaleY:O.scale,offsetX:m,offsetY:y}}return{canvas:_t.canvas,scaleX:ut.scale,scaleY:rt.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,e,i){const a=Math.max(cv.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*i);return r>=a?r=a:i=r/t,{scale:i,size:r}}clipBbox(t,e,i,a,r){const o=a-e,u=r-i;t.ctx.rect(e,i,o,u),Ae.axialAlignedBoundingBox([e,i,a,r],wn(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,i){const a=t.ctx,r=t.current;switch(e){case KS.COLORED:const{fillStyle:o,strokeStyle:u}=this.ctx;a.fillStyle=r.fillColor=o,a.strokeStyle=r.strokeColor=u;break;case KS.UNCOLORED:a.fillStyle=a.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new pC(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,i,a){let r=i;a!==Is.SHADING&&(r=Ae.transform(r,e.baseTransform),this.matrix&&(r=Ae.transform(r,this.matrix)));const o=this.createPatternCanvas(e);let u=new DOMMatrix(r);u=u.translate(o.offsetX,o.offsetY),u=u.scale(1/o.scaleX,1/o.scaleY);const h=t.createPattern(o.canvas,"repeat");return h.setTransform(u),h}};Wt(cv,"MAX_PATTERN_SIZE",3e3);let Xw=cv;function KC({src:c,srcPos:t=0,dest:e,width:i,height:a,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const u=qs.isLittleEndian?4278190080:255,[h,p]=o?[r,u]:[u,r],m=i>>3,y=i&7,A=c.length;e=new Uint32Array(e.buffer);let w=0;for(let L=0;L<a;L++){for(const M=t+m;t<M;t++){const E=t<A?c[t]:255;e[w++]=E&128?p:h,e[w++]=E&64?p:h,e[w++]=E&32?p:h,e[w++]=E&16?p:h,e[w++]=E&8?p:h,e[w++]=E&4?p:h,e[w++]=E&2?p:h,e[w++]=E&1?p:h}if(y===0)continue;const N=t<A?c[t++]:255;for(let M=0;M<y;M++)e[w++]=N&1<<7-M?p:h}return{srcPos:t,destPos:w}}const QS=16,ZS=100,QC=15,JS=10,Va=16,sw=new DOMMatrix,Er=new Float32Array(2),Sg=new Float32Array([1/0,1/0,-1/0,-1/0]);function ZC(c,t){if(c._removeMirroring)throw new Error("Context is already forwarding operations.");c.__originalSave=c.save,c.__originalRestore=c.restore,c.__originalRotate=c.rotate,c.__originalScale=c.scale,c.__originalTranslate=c.translate,c.__originalTransform=c.transform,c.__originalSetTransform=c.setTransform,c.__originalResetTransform=c.resetTransform,c.__originalClip=c.clip,c.__originalMoveTo=c.moveTo,c.__originalLineTo=c.lineTo,c.__originalBezierCurveTo=c.bezierCurveTo,c.__originalRect=c.rect,c.__originalClosePath=c.closePath,c.__originalBeginPath=c.beginPath,c._removeMirroring=()=>{c.save=c.__originalSave,c.restore=c.__originalRestore,c.rotate=c.__originalRotate,c.scale=c.__originalScale,c.translate=c.__originalTranslate,c.transform=c.__originalTransform,c.setTransform=c.__originalSetTransform,c.resetTransform=c.__originalResetTransform,c.clip=c.__originalClip,c.moveTo=c.__originalMoveTo,c.lineTo=c.__originalLineTo,c.bezierCurveTo=c.__originalBezierCurveTo,c.rect=c.__originalRect,c.closePath=c.__originalClosePath,c.beginPath=c.__originalBeginPath,delete c._removeMirroring},c.save=function(){t.save(),this.__originalSave()},c.restore=function(){t.restore(),this.__originalRestore()},c.translate=function(e,i){t.translate(e,i),this.__originalTranslate(e,i)},c.scale=function(e,i){t.scale(e,i),this.__originalScale(e,i)},c.transform=function(e,i,a,r,o,u){t.transform(e,i,a,r,o,u),this.__originalTransform(e,i,a,r,o,u)},c.setTransform=function(e,i,a,r,o,u){t.setTransform(e,i,a,r,o,u),this.__originalSetTransform(e,i,a,r,o,u)},c.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},c.rotate=function(e){t.rotate(e),this.__originalRotate(e)},c.clip=function(e){t.clip(e),this.__originalClip(e)},c.moveTo=function(e,i){t.moveTo(e,i),this.__originalMoveTo(e,i)},c.lineTo=function(e,i){t.lineTo(e,i),this.__originalLineTo(e,i)},c.bezierCurveTo=function(e,i,a,r,o,u){t.bezierCurveTo(e,i,a,r,o,u),this.__originalBezierCurveTo(e,i,a,r,o,u)},c.rect=function(e,i,a,r){t.rect(e,i,a,r),this.__originalRect(e,i,a,r)},c.closePath=function(){t.closePath(),this.__originalClosePath()},c.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class JC{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,i){let a;return this.cache[t]!==void 0?(a=this.cache[t],this.canvasFactory.reset(a,e,i)):(a=this.canvasFactory.create(e,i),this.cache[t]=a),a}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function tb(c,t,e,i,a,r,o,u,h,p){const[m,y,A,w,L,N]=wn(c);if(y===0&&A===0){const R=o*m+L,P=Math.round(R),K=u*w+N,X=Math.round(K),st=(o+h)*m+L,it=Math.abs(Math.round(st)-P)||1,W=(u+p)*w+N,lt=Math.abs(Math.round(W)-X)||1;return c.setTransform(Math.sign(m),0,0,Math.sign(w),P,X),c.drawImage(t,e,i,a,r,0,0,it,lt),c.setTransform(m,y,A,w,L,N),[it,lt]}if(m===0&&w===0){const R=u*A+L,P=Math.round(R),K=o*y+N,X=Math.round(K),st=(u+p)*A+L,it=Math.abs(Math.round(st)-P)||1,W=(o+h)*y+N,lt=Math.abs(Math.round(W)-X)||1;return c.setTransform(0,Math.sign(y),Math.sign(A),0,P,X),c.drawImage(t,e,i,a,r,0,0,lt,it),c.setTransform(m,y,A,w,L,N),[lt,it]}c.drawImage(t,e,i,a,r,o,u,h,p);const M=Math.hypot(m,y),E=Math.hypot(A,w);return[M*h,E*p]}class t4{constructor(t,e){Wt(this,"alphaIsShape",!1);Wt(this,"fontSize",0);Wt(this,"fontSizeScale",1);Wt(this,"textMatrix",null);Wt(this,"textMatrixScale",1);Wt(this,"fontMatrix",xw);Wt(this,"leading",0);Wt(this,"x",0);Wt(this,"y",0);Wt(this,"lineX",0);Wt(this,"lineY",0);Wt(this,"charSpacing",0);Wt(this,"wordSpacing",0);Wt(this,"textHScale",1);Wt(this,"textRenderingMode",na.FILL);Wt(this,"textRise",0);Wt(this,"fillColor","#000000");Wt(this,"strokeColor","#000000");Wt(this,"patternFill",!1);Wt(this,"patternStroke",!1);Wt(this,"fillAlpha",1);Wt(this,"strokeAlpha",1);Wt(this,"lineWidth",1);Wt(this,"activeSMask",null);Wt(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Sg.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Is.FILL,e=null){const i=this.minMax.slice();if(t===Is.STROKE){e||qi("Stroke bounding box must include transform."),Ae.singularValueDecompose2dScale(e,Er);const a=Er[0]*this.lineWidth/2,r=Er[1]*this.lineWidth/2;i[0]-=a,i[1]-=r,i[2]+=a,i[3]+=r}return i}updateClipFromPath(){const t=Ae.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Sg,0)}getClippedPathBoundingBox(t=Is.FILL,e=null){return Ae.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function e4(c,t){if(t instanceof ImageData){c.putImageData(t,0,0);return}const e=t.height,i=t.width,a=e%Va,r=(e-a)/Va,o=a===0?r:r+1,u=c.createImageData(i,Va);let h=0,p;const m=t.data,y=u.data;let A,w,L,N;if(t.kind===lb.GRAYSCALE_1BPP){const M=m.byteLength,E=new Uint32Array(y.buffer,0,y.byteLength>>2),R=E.length,P=i+7>>3,K=4294967295,X=qs.isLittleEndian?4278190080:255;for(A=0;A<o;A++){for(L=A<r?Va:a,p=0,w=0;w<L;w++){const st=M-h;let it=0;const W=st>P?i:st*8-7,lt=W&-8;let yt=0,H=0;for(;it<lt;it+=8)H=m[h++],E[p++]=H&128?K:X,E[p++]=H&64?K:X,E[p++]=H&32?K:X,E[p++]=H&16?K:X,E[p++]=H&8?K:X,E[p++]=H&4?K:X,E[p++]=H&2?K:X,E[p++]=H&1?K:X;for(;it<W;it++)yt===0&&(H=m[h++],yt=128),E[p++]=H&yt?K:X,yt>>=1}for(;p<R;)E[p++]=0;c.putImageData(u,0,A*Va)}}else if(t.kind===lb.RGBA_32BPP){for(w=0,N=i*Va*4,A=0;A<r;A++)y.set(m.subarray(h,h+N)),h+=N,c.putImageData(u,0,w),w+=Va;A<o&&(N=i*a*4,y.set(m.subarray(h,h+N)),c.putImageData(u,0,w))}else if(t.kind===lb.RGB_24BPP)for(L=Va,N=i*L,A=0;A<o;A++){for(A>=r&&(L=a,N=i*L),p=0,w=N;w--;)y[p++]=m[h++],y[p++]=m[h++],y[p++]=m[h++],y[p++]=255;c.putImageData(u,0,A*Va)}else throw new Error(`bad image kind: ${t.kind}`)}function i4(c,t){if(t.bitmap){c.drawImage(t.bitmap,0,0);return}const e=t.height,i=t.width,a=e%Va,r=(e-a)/Va,o=a===0?r:r+1,u=c.createImageData(i,Va);let h=0;const p=t.data,m=u.data;for(let y=0;y<o;y++){const A=y<r?Va:a;({srcPos:h}=KC({src:p,srcPos:h,dest:m,width:i,height:A,nonBlackColor:0})),c.putImageData(u,0,y*Va)}}function F1(c,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of e)c[i]!==void 0&&(t[i]=c[i]);c.setLineDash!==void 0&&(t.setLineDash(c.getLineDash()),t.lineDashOffset=c.lineDashOffset)}function eb(c){c.strokeStyle=c.fillStyle="#000000",c.fillRule="nonzero",c.globalAlpha=1,c.lineWidth=1,c.lineCap="butt",c.lineJoin="miter",c.miterLimit=10,c.globalCompositeOperation="source-over",c.font="10px sans-serif",c.setLineDash!==void 0&&(c.setLineDash([]),c.lineDashOffset=0);const{filter:t}=c;t!=="none"&&t!==""&&(c.filter="none")}function n4(c,t){if(t)return!0;Ae.singularValueDecompose2dScale(c,Er);const e=Math.fround(nc.pixelRatio*pd.PDF_TO_CSS_UNITS);return Er[0]<=e&&Er[1]<=e}const tT=["butt","round","square"],eT=["miter","round","bevel"],iT={},s4={};var Xo,Ww,$w,Kw;const nx=class nx{constructor(t,e,i,a,r,{optionalContentConfig:o,markedContentStack:u=null},h,p){I(this,Xo);this.ctx=t,this.current=new t4(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=i,this.canvasFactory=a,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=u||[],this.optionalContentConfig=o,this.cachedCanvases=new JC(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:i=!1,background:a=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,u=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=u,i){const h=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...wn(this.compositeCtx))}this.ctx.save(),eb(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=wn(this.ctx)}executeOperatorList(t,e,i,a){const r=t.argsArray,o=t.fnArray;let u=e||0;const h=r.length;if(h===u)return u;const p=h-u>JS&&typeof i=="function",m=p?Date.now()+QC:0;let y=0;const A=this.commonObjs,w=this.objs;let L;for(;;){if(a!==void 0&&u===a.nextBreakPoint)return a.breakIt(u,i),u;if(L=o[u],L!==Gb.dependency)this[L].apply(this,r[u]);else for(const N of r[u]){const M=N.startsWith("g_")?A:w;if(!M.has(N))return M.get(N,i),u}if(u++,u===h)return u;if(p&&++y>JS){if(Date.now()>m)return i(),u;y=0}}}endDrawing(){U(this,Xo,Ww).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),U(this,Xo,$w).call(this)}_scaleImage(t,e){const i=t.width??t.displayWidth,a=t.height??t.displayHeight;let r=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),u=i,h=a,p="prescale1",m,y;for(;r>2&&u>1||o>2&&h>1;){let A=u,w=h;r>2&&u>1&&(A=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),r/=u/A),o>2&&h>1&&(w=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,o/=h/w),m=this.cachedCanvases.getCanvas(p,A,w),y=m.context,y.clearRect(0,0,A,w),y.drawImage(t,0,0,u,h,0,0,A,w),t=m.canvas,u=A,h=w,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:i,height:a}=t,r=this.current.fillColor,o=this.current.patternFill,u=wn(e);let h,p,m,y;if((t.bitmap||t.data)&&t.count>1){const lt=t.bitmap||t.data.buffer;p=JSON.stringify(o?u:[u.slice(0,4),r]),h=this._cachedBitmapsMap.get(lt),h||(h=new Map,this._cachedBitmapsMap.set(lt,h));const yt=h.get(p);if(yt&&!o){const H=Math.round(Math.min(u[0],u[2])+u[4]),J=Math.round(Math.min(u[1],u[3])+u[5]);return{canvas:yt,offsetX:H,offsetY:J}}m=yt}m||(y=this.cachedCanvases.getCanvas("maskCanvas",i,a),i4(y.context,t));let A=Ae.transform(u,[1/i,0,0,-1/a,0,0]);A=Ae.transform(A,[1,0,0,1,0,-a]);const w=Sg.slice();Ae.axialAlignedBoundingBox([0,0,i,a],A,w);const[L,N,M,E]=w,R=Math.round(M-L)||1,P=Math.round(E-N)||1,K=this.cachedCanvases.getCanvas("fillCanvas",R,P),X=K.context,st=L,it=N;X.translate(-st,-it),X.transform(...A),m||(m=this._scaleImage(y.canvas,Ml(X)),m=m.img,h&&o&&h.set(p,m)),X.imageSmoothingEnabled=n4(wn(X),t.interpolate),tb(X,m,0,0,m.width,m.height,0,0,i,a),X.globalCompositeOperation="source-in";const W=Ae.transform(Ml(X),[1,0,0,1,-st,-it]);return X.fillStyle=o?r.getPattern(e,this,W,Is.FILL):r,X.fillRect(0,0,i,a),h&&!o&&(this.cachedCanvases.delete("fillCanvas"),h.set(p,K.canvas)),{canvas:K.canvas,offsetX:Math.round(st),offsetY:Math.round(it)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=tT[t]}setLineJoin(t){this.ctx.lineJoin=eT[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,i]of t)switch(e){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,e);this.suspendedCtx=this.ctx;const r=this.ctx=a.context;r.setTransform(this.suspendedCtx.getTransform()),F1(this.suspendedCtx,r),ZC(r,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),F1(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,i,a){const r=a[0],o=a[1],u=a[2]-r,h=a[3]-o;u===0||h===0||(this.genericComposeSMask(e.context,i,u,h,e.subtype,e.backdrop,e.transferMap,r,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,e,i,a,r,o,u,h,p,m,y){let A=t.canvas,w=h-m,L=p-y;if(o)if(w<0||L<0||w+i>A.width||L+a>A.height){const M=this.cachedCanvases.getCanvas("maskExtension",i,a),E=M.context;E.drawImage(A,-w,-L),E.globalCompositeOperation="destination-atop",E.fillStyle=o,E.fillRect(0,0,i,a),E.globalCompositeOperation="source-over",A=M.canvas,w=L=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const M=new Path2D;M.rect(w,L,i,a),t.clip(M),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(w,L,i,a),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&u?e.filter=this.filterFactory.addAlphaFilter(u):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(u));const N=new Path2D;N.rect(h,p,i,a),e.clip(N),e.globalCompositeOperation="destination-in",e.drawImage(A,w,L,i,a,h,p,i,a),e.restore()}save(){this.inSMaskMode&&F1(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&F1(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,i,a,r,o){this.ctx.transform(t,e,i,a,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,i){let[a]=e;if(!i){a||(a=e[0]=new Path2D),this[t](a);return}if(!(a instanceof Path2D)){const r=e[0]=new Path2D;for(let o=0,u=a.length;o<u;)switch(a[o++]){case K5.moveTo:r.moveTo(a[o++],a[o++]);break;case K5.lineTo:r.lineTo(a[o++],a[o++]);break;case K5.curveTo:r.bezierCurveTo(a[o++],a[o++],a[o++],a[o++],a[o++],a[o++]);break;case K5.closePath:r.closePath();break;default:He(`Unrecognized drawing path operator: ${a[o-1]}`);break}a=r}Ae.axialAlignedBoundingBox(i,wn(this.ctx),this.current.minMax),this[t](a)}closePath(){this.ctx.closePath()}stroke(t,e=!0){const i=this.ctx,a=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const r=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=a.getPattern(i,this,Ml(i),Is.STROKE),r){const o=new Path2D;o.addPath(t,i.getTransform().invertSelf().multiplySelf(r)),t=o}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);e&&this.consumePath(t,this.current.getClippedPathBoundingBox(Is.STROKE,wn(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,e=!0){const i=this.ctx,a=this.current.fillColor,r=this.current.patternFill;let o=!1;if(r){const h=a.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=a.getPattern(i,this,Ml(i),Is.FILL),h){const p=new Path2D;p.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=p}o=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),o&&i.restore(),e&&this.consumePath(t,u)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=iT}eoClip(){this.pendingClip=s4}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0)return;const i=new Path2D,a=e.getTransform().invertSelf();for(const{transform:r,x:o,y:u,fontSize:h,path:p}of t)p&&i.addPath(p,new DOMMatrix(r).preMultiplySelf(a).translate(o,u).scale(h,-h));e.clip(i),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(a.fontMatrix=i.fontMatrix||xw,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&He("Invalid font matrix for font "+t),e<0?(e=-e,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const r=i.loadedName||"sans-serif",o=((m=i.systemFontInfo)==null?void 0:m.css)||`"${r}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const h=i.italic?"italic":"normal";let p=e;e<QS?p=QS:e>ZS&&(p=ZS),this.current.fontSizeScale=e/p,this.ctx.font=`${h} ${u} ${p}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t){const{current:e}=this;e.textMatrix=t,e.textMatrixScale=Math.hypot(t[0],t[1]),e.x=e.lineX=0,e.y=e.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,i,a,r){const o=this.ctx,u=this.current,h=u.font,p=u.textRenderingMode,m=u.fontSize/u.fontSizeScale,y=p&na.FILL_STROKE_MASK,A=!!(p&na.ADD_TO_PATH_FLAG),w=u.patternFill&&!h.missingFile,L=u.patternStroke&&!h.missingFile;let N;if((h.disableFontFace||A||w||L)&&!h.missingFile&&(N=h.getPathGenerator(this.commonObjs,t)),N&&(h.disableFontFace||w||L)){o.save(),o.translate(e,i),o.scale(m,-m);let M;if((y===na.FILL||y===na.FILL_STROKE)&&(a?(M=o.getTransform(),o.setTransform(...a),o.fill(U(this,Xo,Kw).call(this,N,M,a))):o.fill(N)),y===na.STROKE||y===na.FILL_STROKE)if(r){M||(M=o.getTransform()),o.setTransform(...r);const{a:E,b:R,c:P,d:K}=M,X=Ae.inverseTransform(r),st=Ae.transform([E,R,P,K,0,0],X);Ae.singularValueDecompose2dScale(st,Er),o.lineWidth*=Math.max(Er[0],Er[1])/m,o.stroke(U(this,Xo,Kw).call(this,N,M,r))}else o.lineWidth/=m,o.stroke(N);o.restore()}else(y===na.FILL||y===na.FILL_STROKE)&&o.fillText(t,e,i),(y===na.STROKE||y===na.FILL_STROKE)&&o.strokeText(t,e,i);A&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:wn(o),x:e,y:i,fontSize:m,path:N})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let i=!1;for(let a=3;a<e.length;a+=4)if(e[a]>0&&e[a]<255){i=!0;break}return ii(this,"isFontSubpixelAAEnabled",i)}showText(t){const e=this.current,i=e.font;if(i.isType3Font)return this.showType3Text(t);const a=e.fontSize;if(a===0)return;const r=this.ctx,o=e.fontSizeScale,u=e.charSpacing,h=e.wordSpacing,p=e.fontDirection,m=e.textHScale*p,y=t.length,A=i.vertical,w=A?1:-1,L=i.defaultVMetrics,N=a*e.fontMatrix[0],M=e.textRenderingMode===na.FILL&&!i.disableFontFace&&!e.patternFill;r.save(),e.textMatrix&&r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),p>0?r.scale(m,-1):r.scale(m,1);let E,R;if(e.patternFill){r.save();const it=e.fillColor.getPattern(r,this,Ml(r),Is.FILL);E=wn(r),r.restore(),r.fillStyle=it}if(e.patternStroke){r.save();const it=e.strokeColor.getPattern(r,this,Ml(r),Is.STROKE);R=wn(r),r.restore(),r.strokeStyle=it}let P=e.lineWidth;const K=e.textMatrixScale;if(K===0||P===0){const it=e.textRenderingMode&na.FILL_STROKE_MASK;(it===na.STROKE||it===na.FILL_STROKE)&&(P=this.getSinglePixelWidth())}else P/=K;if(o!==1&&(r.scale(o,o),P/=o),r.lineWidth=P,i.isInvalidPDFjsFont){const it=[];let W=0;for(const lt of t)it.push(lt.unicode),W+=lt.width;r.fillText(it.join(""),0,0),e.x+=W*N*m,r.restore(),this.compose();return}let X=0,st;for(st=0;st<y;++st){const it=t[st];if(typeof it=="number"){X+=w*it*a/1e3;continue}let W=!1;const lt=(it.isSpace?h:0)+u,yt=it.fontChar,H=it.accent;let J,ut,rt=it.width;if(A){const B=it.vmetric||L,z=-(it.vmetric?B[1]:rt*.5)*N,Q=B[2]*N;rt=B?-B[0]:rt,J=z/o,ut=(X+Q)/o}else J=X/o,ut=0;if(i.remeasure&&rt>0){const B=r.measureText(yt).width*1e3/a*o;if(rt<B&&this.isFontSubpixelAAEnabled){const z=rt/B;W=!0,r.save(),r.scale(z,1),J/=z}else rt!==B&&(J+=(rt-B)/2e3*a/o)}if(this.contentVisible&&(it.isInFont||i.missingFile)){if(M&&!H)r.fillText(yt,J,ut);else if(this.paintChar(yt,J,ut,E,R),H){const B=J+a*H.offset.x/o,z=ut-a*H.offset.y/o;this.paintChar(H.fontChar,B,z,E,R)}}const _t=A?rt*N-lt*p:rt*N+lt*p;X+=_t,W&&r.restore()}A?e.y-=X:e.x+=X*m,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,i=this.current,a=i.font,r=i.fontSize,o=i.fontDirection,u=a.vertical?1:-1,h=i.charSpacing,p=i.wordSpacing,m=i.textHScale*o,y=i.fontMatrix||xw,A=t.length,w=i.textRenderingMode===na.INVISIBLE;let L,N,M,E;if(!(w||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),i.textMatrix&&e.transform(...i.textMatrix),e.translate(i.x,i.y+i.textRise),e.scale(m,o),L=0;L<A;++L){if(N=t[L],typeof N=="number"){E=u*N*r/1e3,this.ctx.translate(E,0),i.x+=E*m;continue}const R=(N.isSpace?p:0)+h,P=a.charProcOperatorList[N.operatorListId];P?this.contentVisible&&(this.save(),e.scale(r,r),e.transform(...y),this.executeOperatorList(P),this.restore()):He(`Type3 character "${N.operatorListId}" is not available.`);const K=[N.width,0];Ae.applyTransform(K,y),M=K[0]*r+R,e.translate(M,0),i.x+=M*m}e.restore()}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,i,a,r,o){const u=new Path2D;u.rect(i,a,r-i,o-a),this.ctx.clip(u),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const i=this.baseTransform||wn(this.ctx),a={createCanvasGraphics:r=>new nx(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Xw(t,this.ctx,a,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=$C(this.getObject(t)),this.cachedPatterns.set(t,i)),e&&(i.matrix=e),i}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const i=this._getPattern(t);e.fillStyle=i.getPattern(e,this,Ml(e),Is.SHADING);const a=Ml(e);if(a){const{width:r,height:o}=e.canvas,u=Sg.slice();Ae.axialAlignedBoundingBox([0,0,r,o],a,u);const[h,p,m,y]=u;this.ctx.fillRect(h,p,m-h,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){qi("Should not call beginInlineImage")}beginImageData(){qi("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=wn(this.ctx),e)){Ae.axialAlignedBoundingBox(e,this.baseTransform,this.current.minMax);const[i,a,r,o]=e,u=new Path2D;u.rect(i,a,r-i,o-a),this.ctx.clip(u),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||Nv("TODO: Support non-isolated groups."),t.knockout&&He("Knockout groups not supported.");const i=wn(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=Sg.slice();Ae.axialAlignedBoundingBox(t.bbox,wn(e),a);const r=[0,0,e.canvas.width,e.canvas.height];a=Ae.intersect(a,r)||[0,0,0,0];const o=Math.floor(a[0]),u=Math.floor(a[1]),h=Math.max(Math.ceil(a[2])-o,1),p=Math.max(Math.ceil(a[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,h,p),A=y.context;A.translate(-o,-u),A.transform(...i);let w=new Path2D;const[L,N,M,E]=t.bbox;if(w.rect(L,N,M-L,E-N),t.matrix){const R=new Path2D;R.addPath(w,new DOMMatrix(t.matrix)),w=R}A.clip(w),t.smask?this.smaskStack.push({canvas:y.canvas,context:A,offsetX:o,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,u),e.save()),F1(e,A),this.ctx=A,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=wn(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const r=Sg.slice();Ae.axialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],a,r),this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,i,a,r){if(U(this,Xo,Ww).call(this),eb(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],u=e[3]-e[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=e[0],i[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=u,Ae.singularValueDecompose2dScale(wn(this.ctx),Er);const{viewportScale:h}=this,p=Math.ceil(o*this.outputScaleX*h),m=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:y,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(t,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(Er[0],0,0,-Er[1],0,u*Er[1]),eb(this.ctx)}else{eb(this.ctx),this.endPath();const h=new Path2D;h.rect(e[0],e[1],o,u),this.ctx.clip(h)}}this.current=new t4(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),U(this,Xo,$w).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const i=this.ctx,a=this._createMaskCanvas(t),r=a.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,a.offsetX,a.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,i=0,a=0,r,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const u=this.ctx;u.save();const h=wn(u);u.transform(e,i,a,r,0,0);const p=this._createMaskCanvas(t);u.setTransform(1,0,0,1,p.offsetX-h[4],p.offsetY-h[5]);for(let m=0,y=o.length;m<y;m+=2){const A=Ae.transform(h,[e,i,a,r,o[m],o[m+1]]);u.drawImage(p.canvas,A[4],A[5])}u.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,i=this.current.fillColor,a=this.current.patternFill;for(const r of t){const{data:o,width:u,height:h,transform:p}=r,m=this.cachedCanvases.getCanvas("maskCanvas",u,h),y=m.context;y.save();const A=this.getObject(o,r);i4(y,A),y.globalCompositeOperation="source-in",y.fillStyle=a?i.getPattern(y,this,Ml(e),Is.FILL):i,y.fillRect(0,0,u,h),y.restore(),e.save(),e.transform(...p),e.scale(1,-1),tb(e,m.canvas,0,0,u,h,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){He("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,i,a){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){He("Dependent image isn't ready yet");return}const o=r.width,u=r.height,h=[];for(let p=0,m=a.length;p<m;p+=2)h.push({transform:[e,0,0,i,a[p],a[p+1]],x:0,y:0,w:o,h:u});this.paintInlineImageXObjectGroup(r,h)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:i,height:a}=t,r=this.cachedCanvases.getCanvas("inlineImage",i,a),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,i=t.height,a=this.ctx;this.save();const{filter:r}=a;r!=="none"&&r!==""&&(a.filter="none"),a.scale(1/e,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const p=this.cachedCanvases.getCanvas("inlineImage",e,i).context;e4(p,t),o=this.applyTransferMapsToCanvas(p)}const u=this._scaleImage(o,Ml(a));a.imageSmoothingEnabled=n4(wn(a),t.interpolate),tb(a,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,e,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const i=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const r=t.width,o=t.height,h=this.cachedCanvases.getCanvas("inlineImage",r,o).context;e4(h,t),a=this.applyTransferMapsToCanvas(h)}for(const r of e)i.save(),i.transform(...r.transform),i.scale(1,-1),tb(i,a,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const a=this.ctx;this.pendingClip&&(i||(this.pendingClip===s4?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=wn(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),a=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,a)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:i,c:a,d:r}=this.ctx.getTransform();let o,u;if(i===0&&a===0){const h=Math.abs(e),p=Math.abs(r);if(h===p)if(t===0)o=u=1/h;else{const m=h*t;o=u=m<1?1/m:1}else if(t===0)o=1/h,u=1/p;else{const m=h*t,y=p*t;o=m<1?1/m:1,u=y<1?1/y:1}}else{const h=Math.abs(e*r-i*a),p=Math.hypot(e,i),m=Math.hypot(a,r);if(t===0)o=m/h,u=p/h;else{const y=t*h;o=m>y?m/y:1,u=p>y?p/y:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=u}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:i,current:{lineWidth:a}}=this,[r,o]=this.getScaleForStroking();if(r===o){i.lineWidth=(a||1)*r,i.stroke(t);return}const u=i.getLineDash();e&&i.save(),i.scale(r,o),sw.a=1/r,sw.d=1/o;const h=new Path2D;if(h.addPath(t,sw),u.length>0){const p=Math.max(r,o);i.setLineDash(u.map(m=>m/p)),i.lineDashOffset/=p}i.lineWidth=a||1,i.stroke(h),e&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Xo=new WeakSet,Ww=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$w=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}},Kw=function(t,e,i){const a=new Path2D;return a.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(e)),a};let Mg=nx;for(const c in Gb)Mg.prototype[c]!==void 0&&(Mg.prototype[Gb[c]]=Mg.prototype[c]);var z0,q0;class tc{static get workerPort(){return d(this,z0)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");T(this,z0,t)}static get workerSrc(){return d(this,q0)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");T(this,q0,t)}}z0=new WeakMap,q0=new WeakMap,I(tc,z0,null),I(tc,q0,"");var Zg,U0;class nT{constructor({parsedData:t,rawData:e}){I(this,Zg);I(this,U0);T(this,Zg,t),T(this,U0,e)}getRaw(){return d(this,U0)}get(t){return d(this,Zg).get(t)??null}[Symbol.iterator](){return d(this,Zg).entries()}}Zg=new WeakMap,U0=new WeakMap;const yg=Symbol("INTERNAL");var H0,G0,V0,Jg;class sT{constructor(t,{name:e,intent:i,usage:a,rbGroups:r}){I(this,H0,!1);I(this,G0,!1);I(this,V0,!1);I(this,Jg,!0);T(this,H0,!!(t&Nr.DISPLAY)),T(this,G0,!!(t&Nr.PRINT)),this.name=e,this.intent=i,this.usage=a,this.rbGroups=r}get visible(){if(d(this,V0))return d(this,Jg);if(!d(this,Jg))return!1;const{print:t,view:e}=this.usage;return d(this,H0)?(e==null?void 0:e.viewState)!=="OFF":d(this,G0)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,i=!1){t!==yg&&qi("Internal method `_setVisible` called."),T(this,V0,i),T(this,Jg,e)}}H0=new WeakMap,G0=new WeakMap,V0=new WeakMap,Jg=new WeakMap;var Ih,Bi,tm,em,Y0,Qw;class aT{constructor(t,e=Nr.DISPLAY){I(this,Y0);I(this,Ih,null);I(this,Bi,new Map);I(this,tm,null);I(this,em,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,T(this,em,t.order);for(const i of t.groups)d(this,Bi).set(i.id,new sT(e,i));if(t.baseState==="OFF")for(const i of d(this,Bi).values())i._setVisible(yg,!1);for(const i of t.on)d(this,Bi).get(i)._setVisible(yg,!0);for(const i of t.off)d(this,Bi).get(i)._setVisible(yg,!1);T(this,tm,this.getHash())}}isVisible(t){if(d(this,Bi).size===0)return!0;if(!t)return Nv("Optional content group not defined."),!0;if(t.type==="OCG")return d(this,Bi).has(t.id)?d(this,Bi).get(t.id).visible:(He(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return U(this,Y0,Qw).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!d(this,Bi).has(e))return He(`Optional content group not found: ${e}`),!0;if(d(this,Bi).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!d(this,Bi).has(e))return He(`Optional content group not found: ${e}`),!0;if(!d(this,Bi).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!d(this,Bi).has(e))return He(`Optional content group not found: ${e}`),!0;if(!d(this,Bi).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!d(this,Bi).has(e))return He(`Optional content group not found: ${e}`),!0;if(d(this,Bi).get(e).visible)return!1}return!0}return He(`Unknown optional content policy ${t.policy}.`),!0}return He(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,i=!0){var r;const a=d(this,Bi).get(t);if(!a){He(`Optional content group not found: ${t}`);return}if(i&&e&&a.rbGroups.length)for(const o of a.rbGroups)for(const u of o)u!==t&&((r=d(this,Bi).get(u))==null||r._setVisible(yg,!1,!0));a._setVisible(yg,!!e,!0),T(this,Ih,null)}setOCGState({state:t,preserveRB:e}){let i;for(const a of t){switch(a){case"ON":case"OFF":case"Toggle":i=a;continue}const r=d(this,Bi).get(a);if(r)switch(i){case"ON":this.setVisibility(a,!0,e);break;case"OFF":this.setVisibility(a,!1,e);break;case"Toggle":this.setVisibility(a,!r.visible,e);break}}T(this,Ih,null)}get hasInitialVisibility(){return d(this,tm)===null||this.getHash()===d(this,tm)}getOrder(){return d(this,Bi).size?d(this,em)?d(this,em).slice():[...d(this,Bi).keys()]:null}getGroup(t){return d(this,Bi).get(t)||null}getHash(){if(d(this,Ih)!==null)return d(this,Ih);const t=new k_;for(const[e,i]of d(this,Bi))t.update(`${e}:${i.visible}`);return T(this,Ih,t.hexdigest())}[Symbol.iterator](){return d(this,Bi).entries()}}Ih=new WeakMap,Bi=new WeakMap,tm=new WeakMap,em=new WeakMap,Y0=new WeakSet,Qw=function(t){const e=t.length;if(e<2)return!0;const i=t[0];for(let a=1;a<e;a++){const r=t[a];let o;if(Array.isArray(r))o=U(this,Y0,Qw).call(this,r);else if(d(this,Bi).has(r))o=d(this,Bi).get(r).visible;else return He(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class rT{constructor(t,{disableRange:e=!1,disableStream:i=!1}){Qn(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:r,progressiveDone:o,contentDispositionFilename:u}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=u,(r==null?void 0:r.length)>0){const h=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!e,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,p)=>{this._onReceiveData({begin:h,chunk:p})}),t.addProgressListener((h,p)=>{this._onProgress({loaded:h,total:p})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const i=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const a=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(i),!0)});Qn(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,i,a,r;t.total===void 0?(i=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||i.call(e,{loaded:t.loaded}):(r=(a=this._fullRequestReader)==null?void 0:a.onProgress)==null||r.call(a,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){Qn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new oT(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new lT(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeReaders.slice(0))i.cancel(t);this._pdfDataRangeTransport.abort()}}class oT{constructor(t,e,i=!1,a=null){this._stream=t,this._done=i||!1,this._filename=XA(a)?a:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class lT{constructor(t,e,i){this._stream=t,this._begin=e,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function cT(c){let t=!0,e=i("filename\\*","i").exec(c);if(e){e=e[1];let m=u(e);return m=unescape(m),m=h(m),m=p(m),r(m)}if(e=o(c),e){const m=p(e);return r(m)}if(e=i("filename","i").exec(c),e){e=e[1];let m=u(e);return m=p(m),r(m)}function i(m,y){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function a(m,y){if(m){if(!/^[\x00-\xFF]+$/.test(y))return y;try{const A=new TextDecoder(m,{fatal:!0}),w=q2(y);y=A.decode(w),t=!1}catch{}}return y}function r(m){return t&&/[\x80-\xff]/.test(m)&&(m=a("utf-8",m),t&&(m=a("iso-8859-1",m))),m}function o(m){const y=[];let A;const w=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(A=w.exec(m))!==null;){let[,N,M,E]=A;if(N=parseInt(N,10),N in y){if(N===0)break;continue}y[N]=[M,E]}const L=[];for(let N=0;N<y.length&&N in y;++N){let[M,E]=y[N];E=u(E),M&&(E=unescape(E),N===0&&(E=h(E))),L.push(E)}return L.join("")}function u(m){if(m.startsWith('"')){const y=m.slice(1).split('\\"');for(let A=0;A<y.length;++A){const w=y[A].indexOf('"');w!==-1&&(y[A]=y[A].slice(0,w),y.length=A+1),y[A]=y[A].replaceAll(/\\(.)/g,"$1")}m=y.join('"')}return m}function h(m){const y=m.indexOf("'");if(y===-1)return m;const A=m.slice(0,y),L=m.slice(y+1).replace(/^[^']*'/,"");return a(A,L)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,A,w,L){if(w==="q"||w==="Q")return L=L.replaceAll("_"," "),L=L.replaceAll(/=([0-9a-fA-F]{2})/g,function(N,M){return String.fromCharCode(parseInt(M,16))}),a(A,L);try{L=atob(L)}catch{}return a(A,L)})}return""}function H_(c,t){const e=new Headers;if(!c||!t||typeof t!="object")return e;for(const i in t){const a=t[i];a!==void 0&&e.append(i,a)}return e}function Cv(c){var t;return((t=URL.parse(c))==null?void 0:t.origin)??null}function G_({responseHeaders:c,isHttp:t,rangeChunkSize:e,disableRange:i}){const a={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(c.get("Content-Length"),10);return!Number.isInteger(r)||(a.suggestedLength=r,r<=2*e)||i||!t||c.get("Accept-Ranges")!=="bytes"||(c.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function V_(c){const t=c.get("Content-Disposition");if(t){let e=cT(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(XA(e))return e}return null}function V2(c,t){return new Vb(`Unexpected server response (${c}) while retrieving PDF "${t}".`,c,c===404||c===0&&t.startsWith("file:"))}function Y_(c){return c===200||c===206}function X_(c,t,e){return{method:"GET",headers:c,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function W_(c){return c instanceof Uint8Array?c.buffer:c instanceof ArrayBuffer?c:(He(`getArrayBuffer - unexpected data format: ${c}`),new Uint8Array(c).buffer)}class uT{constructor(t){Wt(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=H_(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Qn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new hT(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new dT(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class hT{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const i=new Headers(t.headers),a=e.url;fetch(a,X_(i,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=Cv(r.url),!Y_(r.status))throw V2(r.status,a);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:u,suggestedLength:h}=G_({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=V_(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new fd("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:W_(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class dT{constructor(t,e,i){this._stream=t,this._reader=null,this._loaded=0;const a=t.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${e}-${i-1}`);const o=a.url;fetch(o,X_(r,this._withCredentials,this._abortController)).then(u=>{const h=Cv(u.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!Y_(u.status))throw V2(u.status,o);this._readCapability.resolve(),this._reader=u.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:W_(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const aw=200,rw=206;function fT(c){const t=c.response;return typeof t!="string"?t:q2(t).buffer}class pT{constructor({url:t,httpHeaders:e,withCredentials:i}){Wt(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=H_(this.isHttp,e),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,i=this.currXhrId++,a=this.pendingRequests[i]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[r,o]of this.headers)e.setRequestHeader(r,o);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),a.expectedStatus=rw):a.expectedStatus=aw,e.responseType="arraybuffer",Qn(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,i),e.onprogress=this.onProgress.bind(this,i),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,e.send(null),i}onProgress(t,e){var a;const i=this.pendingRequests[t];i&&((a=i.onProgress)==null||a.call(i,e))}onStateChange(t,e){const i=this.pendingRequests[t];if(!i)return;const a=i.xhr;if(a.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),a.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],a.status===0&&this.isHttp){i.onError(a.status);return}const r=a.status||aw;if(!(r===aw&&i.expectedStatus===rw)&&r!==i.expectedStatus){i.onError(a.status);return}const u=fT(a);if(r===rw){const h=a.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);p?i.onDone({begin:parseInt(p[1],10),chunk:u}):(He('Missing or invalid "Content-Range" header.'),i.onError(0))}else u?i.onDone({begin:0,chunk:u}):i.onError(a.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class gT{constructor(t){this._source=t,this._manager=new pT(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return Qn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new mT(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const i=new bT(this._manager,t,e);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class mT{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Cv(e.responseURL);const i=e.getAllResponseHeaders(),a=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(u=>{const[h,...p]=u.split(": ");return[h,p.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=G_({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=V_(a),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=V2(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class bT{constructor(t,e,i){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=Cv((e=this._manager.getRequestXhr(this._requestId))==null?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=V2(t,this._url));for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const vT=/^[a-z][a-z0-9\-+.]+:/i;function yT(c){if(vT.test(c))return new URL(c);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(c))}class wT{constructor(t){this.source=t,this.url=yT(t.url),Qn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return Qn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new AT(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const i=new xT(this,t,e);return this._rangeRequestReaders.push(i),i}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const i of this._rangeRequestReaders.slice(0))i.cancel(t)}}class AT{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=V2(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new fd("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class xT{constructor(t,e,i){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=t.source;this._isStreamingSupported=!a.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:e,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const I1=Symbol("INITIAL_DATA");var fr,X0,Zw;class $_{constructor(){I(this,X0);I(this,fr,Object.create(null))}get(t,e=null){if(e){const a=U(this,X0,Zw).call(this,t);return a.promise.then(()=>e(a.data)),null}const i=d(this,fr)[t];if(!i||i.data===I1)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const e=d(this,fr)[t];return!!e&&e.data!==I1}delete(t){const e=d(this,fr)[t];return!e||e.data===I1?!1:(delete d(this,fr)[t],!0)}resolve(t,e=null){const i=U(this,X0,Zw).call(this,t);i.data=e,i.resolve()}clear(){var t;for(const e in d(this,fr)){const{data:i}=d(this,fr)[e];(t=i==null?void 0:i.bitmap)==null||t.close()}T(this,fr,Object.create(null))}*[Symbol.iterator](){for(const t in d(this,fr)){const{data:e}=d(this,fr)[t];e!==I1&&(yield[t,e])}}}fr=new WeakMap,X0=new WeakSet,Zw=function(t){var e;return(e=d(this,fr))[t]||(e[t]={...Promise.withResolvers(),data:I1})};const ST=1e5,a4=30;var c4,Bh,Ha,W0,$0,Df,su,K0,Q0,Pf,im,nm,zh,sm,Z0,am,Of,J0,t2,rm,jf,e2,qh,om,Nu,K_,Q_,Jw,Tr,vb,tA,Z_,J_;const ns=class ns{constructor({textContentSource:t,container:e,viewport:i}){I(this,Nu);I(this,Bh,Promise.withResolvers());I(this,Ha,null);I(this,W0,!1);I(this,$0,!!((c4=globalThis.FontInspector)!=null&&c4.enabled));I(this,Df,null);I(this,su,null);I(this,K0,0);I(this,Q0,0);I(this,Pf,null);I(this,im,null);I(this,nm,0);I(this,zh,0);I(this,sm,Object.create(null));I(this,Z0,[]);I(this,am,null);I(this,Of,[]);I(this,J0,new WeakMap);I(this,t2,null);var h;if(t instanceof ReadableStream)T(this,am,t);else if(typeof t=="object")T(this,am,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');T(this,Ha,T(this,im,e)),T(this,zh,i.scale*nc.pixelRatio),T(this,nm,i.rotation),T(this,su,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:r,pageX:o,pageY:u}=i.rawDims;T(this,t2,[1,0,0,-1,-o,u+r]),T(this,Q0,a),T(this,K0,r),U(h=ns,Tr,Z_).call(h),bp(e,i),d(this,Bh).promise.finally(()=>{d(ns,om).delete(this),T(this,su,null),T(this,sm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=qs.platform;return ii(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{d(this,Pf).read().then(({value:e,done:i})=>{if(i){d(this,Bh).resolve();return}d(this,Df)??T(this,Df,e.lang),Object.assign(d(this,sm),e.styles),U(this,Nu,K_).call(this,e.items),t()},d(this,Bh).reject)};return T(this,Pf,d(this,am).getReader()),d(ns,om).add(this),t(),d(this,Bh).promise}update({viewport:t,onBefore:e=null}){var r;const i=t.scale*nc.pixelRatio,a=t.rotation;if(a!==d(this,nm)&&(e==null||e(),T(this,nm,a),bp(d(this,im),{rotation:a})),i!==d(this,zh)){e==null||e(),T(this,zh,i);const o={div:null,properties:null,ctx:U(r=ns,Tr,vb).call(r,d(this,Df))};for(const u of d(this,Of))o.properties=d(this,J0).get(u),o.div=u,U(this,Nu,Jw).call(this,o)}}cancel(){var e;const t=new fd("TextLayer task cancelled.");(e=d(this,Pf))==null||e.cancel(t).catch(()=>{}),T(this,Pf,null),d(this,Bh).reject(t)}get textDivs(){return d(this,Of)}get textContentItemsStr(){return d(this,Z0)}static cleanup(){if(!(d(this,om).size>0)){d(this,rm).clear();for(const{canvas:t}of d(this,jf).values())t.remove();d(this,jf).clear()}}};Bh=new WeakMap,Ha=new WeakMap,W0=new WeakMap,$0=new WeakMap,Df=new WeakMap,su=new WeakMap,K0=new WeakMap,Q0=new WeakMap,Pf=new WeakMap,im=new WeakMap,nm=new WeakMap,zh=new WeakMap,sm=new WeakMap,Z0=new WeakMap,am=new WeakMap,Of=new WeakMap,J0=new WeakMap,t2=new WeakMap,rm=new WeakMap,jf=new WeakMap,e2=new WeakMap,qh=new WeakMap,om=new WeakMap,Nu=new WeakSet,K_=function(t){var a,r;if(d(this,W0))return;(r=d(this,su)).ctx??(r.ctx=U(a=ns,Tr,vb).call(a,d(this,Df)));const e=d(this,Of),i=d(this,Z0);for(const o of t){if(e.length>ST){He("Ignoring additional textDivs for performance reasons."),T(this,W0,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const u=d(this,Ha);T(this,Ha,document.createElement("span")),d(this,Ha).classList.add("markedContent"),o.id&&d(this,Ha).setAttribute("id",`${o.id}`),u.append(d(this,Ha))}else o.type==="endMarkedContent"&&T(this,Ha,d(this,Ha).parentNode);continue}i.push(o.str),U(this,Nu,Q_).call(this,o)}},Q_=function(t){var N;const e=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};d(this,Of).push(e);const a=Ae.transform(d(this,t2),t.transform);let r=Math.atan2(a[1],a[0]);const o=d(this,sm)[t.fontName];o.vertical&&(r+=Math.PI/2);let u=d(this,$0)&&o.fontSubstitution||o.fontFamily;u=ns.fontFamilyMap.get(u)||u;const h=Math.hypot(a[2],a[3]),p=h*U(N=ns,Tr,J_).call(N,u,o,d(this,Df));let m,y;r===0?(m=a[4],y=a[5]-p):(m=a[4]+p*Math.sin(r),y=a[5]-p*Math.cos(r));const A="calc(var(--total-scale-factor) *",w=e.style;d(this,Ha)===d(this,im)?(w.left=`${(100*m/d(this,Q0)).toFixed(2)}%`,w.top=`${(100*y/d(this,K0)).toFixed(2)}%`):(w.left=`${A}${m.toFixed(2)}px)`,w.top=`${A}${y.toFixed(2)}px)`),w.fontSize=`${A}${(d(ns,qh)*h).toFixed(2)}px)`,w.fontFamily=u,i.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,d(this,$0)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),r!==0&&(i.angle=r*(180/Math.PI));let L=!1;if(t.str.length>1)L=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const M=Math.abs(t.transform[0]),E=Math.abs(t.transform[3]);M!==E&&Math.max(M,E)/Math.min(M,E)>1.5&&(L=!0)}if(L&&(i.canvasWidth=o.vertical?t.height:t.width),d(this,J0).set(e,i),d(this,su).div=e,d(this,su).properties=i,U(this,Nu,Jw).call(this,d(this,su)),i.hasText&&d(this,Ha).append(e),i.hasEOL){const M=document.createElement("br");M.setAttribute("role","presentation"),d(this,Ha).append(M)}},Jw=function(t){var u;const{div:e,properties:i,ctx:a}=t,{style:r}=e;let o="";if(d(ns,qh)>1&&(o=`scale(${1/d(ns,qh)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:h}=r,{canvasWidth:p,fontSize:m}=i;U(u=ns,Tr,tA).call(u,a,m*d(this,zh),h);const{width:y}=a.measureText(e.textContent);y>0&&(o=`scaleX(${p*d(this,zh)/y}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(r.transform=o)},Tr=new WeakSet,vb=function(t=null){let e=d(this,jf).get(t||(t=""));if(!e){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),e=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),d(this,jf).set(t,e),d(this,e2).set(e,{size:0,family:""})}return e},tA=function(t,e,i){const a=d(this,e2).get(t);e===a.size&&i===a.family||(t.font=`${e}px ${i}`,a.size=e,a.family=i)},Z_=function(){if(d(this,qh)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),T(this,qh,t.getBoundingClientRect().height),t.remove()},J_=function(t,e,i){const a=d(this,rm).get(t);if(a)return a;const r=U(this,Tr,vb).call(this,i);r.canvas.width=r.canvas.height=a4,U(this,Tr,tA).call(this,r,a4,t);const o=r.measureText(""),u=o.fontBoundingBoxAscent,h=Math.abs(o.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let p=.8;return u?p=u/(u+h):(qs.platform.isFirefox&&He("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?p=e.ascent:e.descent&&(p=1+e.descent)),d(this,rm).set(t,p),p},I(ns,Tr),I(ns,rm,new Map),I(ns,jf,new Map),I(ns,e2,new WeakMap),I(ns,qh,null),I(ns,om,new Set);let c0=ns;class u0{static textContent(t){const e=[],i={items:e,styles:Object.create(null)};function a(r){var h;if(!r)return;let o=null;const u=r.name;if(u==="#text")o=r.value;else if(u0.shouldBuildText(u))(h=r==null?void 0:r.attributes)!=null&&h.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&e.push({str:o}),!!r.children)for(const p of r.children)a(p)}return a(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const _T=100;function t6(c={}){typeof c=="string"||c instanceof URL?c={url:c}:(c instanceof ArrayBuffer||ArrayBuffer.isView(c))&&(c={data:c});const t=new eA,{docId:e}=t,i=c.url?DC(c.url):null,a=c.data?PC(c.data):null,r=c.httpHeaders||null,o=c.withCredentials===!0,u=c.password??null,h=c.range instanceof e6?c.range:null,p=Number.isInteger(c.rangeChunkSize)&&c.rangeChunkSize>0?c.rangeChunkSize:2**16;let m=c.worker instanceof h0?c.worker:null;const y=c.verbosity,A=typeof c.docBaseUrl=="string"&&!Ev(c.docBaseUrl)?c.docBaseUrl:null,w=Z5(c.cMapUrl),L=c.cMapPacked!==!1,N=c.CMapReaderFactory||(Ea?UC:XS),M=Z5(c.iccUrl),E=Z5(c.standardFontDataUrl),R=c.StandardFontDataFactory||(Ea?HC:WS),P=Z5(c.wasmUrl),K=c.WasmFactory||(Ea?GC:$S),X=c.stopAtErrors!==!0,st=Number.isInteger(c.maxImageSize)&&c.maxImageSize>-1?c.maxImageSize:-1,it=c.isEvalSupported!==!1,W=typeof c.isOffscreenCanvasSupported=="boolean"?c.isOffscreenCanvasSupported:!Ea,lt=typeof c.isImageDecoderSupported=="boolean"?c.isImageDecoderSupported:!Ea&&(qs.platform.isFirefox||!globalThis.chrome),yt=Number.isInteger(c.canvasMaxAreaInBytes)?c.canvasMaxAreaInBytes:-1,H=typeof c.disableFontFace=="boolean"?c.disableFontFace:Ea,J=c.fontExtraProperties===!0,ut=c.enableXfa===!0,rt=c.ownerDocument||globalThis.document,_t=c.disableRange===!0,B=c.disableStream===!0,z=c.disableAutoFetch===!0,Q=c.pdfBug===!0,pt=c.CanvasFactory||(Ea?qC:IC),O=c.FilterFactory||(Ea?zC:BC),ft=c.enableHWA===!0,k=c.useWasm!==!1,q=h?h.length:c.length??NaN,et=typeof c.useSystemFonts=="boolean"?c.useSystemFonts:!Ea&&!H,at=typeof c.useWorkerFetch=="boolean"?c.useWorkerFetch:!!(N===XS&&R===WS&&K===$S&&w&&E&&P&&q1(w,document.baseURI)&&q1(E,document.baseURI)&&q1(P,document.baseURI)),ct=null;hC(y);const gt={canvasFactory:new pt({ownerDocument:rt,enableHWA:ft}),filterFactory:new O({docId:e,ownerDocument:rt}),cMapReaderFactory:at?null:new N({baseUrl:w,isCompressed:L}),standardFontDataFactory:at?null:new R({baseUrl:E}),wasmFactory:at?null:new K({baseUrl:P})};m||(m=h0.create({verbosity:y,port:tc.workerPort}),t._worker=m);const St={docId:e,apiVersion:"5.4.54",data:a,password:u,disableAutoFetch:z,rangeChunkSize:p,length:q,docBaseUrl:A,enableXfa:ut,evaluatorOptions:{maxImageSize:st,disableFontFace:H,ignoreErrors:X,isEvalSupported:it,isOffscreenCanvasSupported:W,isImageDecoderSupported:lt,canvasMaxAreaInBytes:yt,fontExtraProperties:J,useSystemFonts:et,useWasm:k,useWorkerFetch:at,cMapUrl:w,iccUrl:M,standardFontDataUrl:E,wasmUrl:P}},Tt={ownerDocument:rt,pdfBug:Q,styleElement:ct,loadingParams:{disableAutoFetch:z,enableXfa:ut}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Yt=m.messageHandler.sendWithPromise("GetDocRequest",St,a?[a.buffer]:null);let Gt;if(h)Gt=new rT(h,{disableRange:_t,disableStream:B});else if(!a){if(!i)throw new Error("getDocument - no `url` parameter provided.");const $t=q1(i)?uT:Ea?wT:gT;Gt=new $t({url:i,length:q,httpHeaders:r,withCredentials:o,rangeChunkSize:p,disableRange:_t,disableStream:B})}return Yt.then($t=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Kt=new Y1(e,$t,m.port),xe=new LT(Kt,t,Gt,Tt,gt,ft);t._transport=xe,Kt.send("Ready",null)})}).catch(t._capability.reject),t}var uv;const hv=class hv{constructor(){Wt(this,"_capability",Promise.withResolvers());Wt(this,"_transport",null);Wt(this,"_worker",null);Wt(this,"docId",`d${wa(hv,uv)._++}`);Wt(this,"destroyed",!1);Wt(this,"onPassword",null);Wt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,e,i,a;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(a=this._worker)==null||a.destroy(),this._worker=null}async getData(){return this._transport.getData()}};uv=new WeakMap,I(hv,uv,0);let eA=hv;var Ff,i2,n2,s2,a2;class e6{constructor(t,e,i=!1,a=null){I(this,Ff,Promise.withResolvers());I(this,i2,[]);I(this,n2,[]);I(this,s2,[]);I(this,a2,[]);this.length=t,this.initialData=e,this.progressiveDone=i,this.contentDispositionFilename=a}addRangeListener(t){d(this,a2).push(t)}addProgressListener(t){d(this,s2).push(t)}addProgressiveReadListener(t){d(this,n2).push(t)}addProgressiveDoneListener(t){d(this,i2).push(t)}onDataRange(t,e){for(const i of d(this,a2))i(t,e)}onDataProgress(t,e){d(this,Ff).promise.then(()=>{for(const i of d(this,s2))i(t,e)})}onDataProgressiveRead(t){d(this,Ff).promise.then(()=>{for(const e of d(this,n2))e(t)})}onDataProgressiveDone(){d(this,Ff).promise.then(()=>{for(const t of d(this,i2))t()})}transportReady(){d(this,Ff).resolve()}requestDataRange(t,e){qi("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Ff=new WeakMap,i2=new WeakMap,n2=new WeakMap,s2=new WeakMap,a2=new WeakMap;class NT{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ii(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var au,If,Q1;class ET{constructor(t,e,i,a=!1){I(this,If);I(this,au,!1);this._pageIndex=t,this._pageInfo=e,this._transport=i,this._stats=a?new GS:null,this._pdfBug=a,this.commonObjs=i.commonObjs,this.objs=new $_,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:i=0,offsetY:a=0,dontFlip:r=!1}={}){return new H2({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:i,offsetY:a,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ii(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,canvas:e=t.canvas,viewport:i,intent:a="display",annotationMode:r=wh.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:p=null,pageColors:m=null,printAnnotationStorage:y=null,isEditing:A=!1}){var X,st;(X=this._stats)==null||X.time("Overall");const w=this._transport.getRenderingIntent(a,r,y,A),{renderingIntent:L,cacheKey:N}=w;T(this,au,!1),h||(h=this._transport.getOptionalContentConfig(L));let M=this._intentStates.get(N);M||(M=Object.create(null),this._intentStates.set(N,M)),M.streamReaderCancelTimeout&&(clearTimeout(M.streamReaderCancelTimeout),M.streamReaderCancelTimeout=null);const E=!!(L&Nr.PRINT);M.displayReadyCapability||(M.displayReadyCapability=Promise.withResolvers(),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(st=this._stats)==null||st.time("Page Request"),this._pumpOperatorList(w));const R=it=>{var W;M.renderTasks.delete(P),E&&T(this,au,!0),U(this,If,Q1).call(this),it?(P.capability.reject(it),this._abortOperatorList({intentState:M,reason:it instanceof Error?it:new Error(it)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(W=globalThis.Stats)!=null&&W.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new iA({callback:R,params:{canvas:e,canvasContext:t,viewport:i,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:M.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!E,pdfBug:this._pdfBug,pageColors:m,enableHWA:this._transport.enableHWA});(M.renderTasks||(M.renderTasks=new Set)).add(P);const K=P.task;return Promise.all([M.displayReadyCapability.promise,h]).then(([it,W])=>{var lt;if(this.destroyed){R();return}if((lt=this._stats)==null||lt.time("Rendering"),!(W.renderingIntent&L))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:it,optionalContentConfig:W}),P.operatorListChanged()}).catch(R),K}getOperatorList({intent:t="display",annotationMode:e=wh.ENABLE,printAnnotationStorage:i=null,isEditing:a=!1}={}){var p;function r(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(h))}const o=this._transport.getRenderingIntent(t,e,i,a,!0);let u=this._intentStates.get(o.cacheKey);u||(u=Object.create(null),this._intentStates.set(o.cacheKey,u));let h;return u.opListReadCapability||(h=Object.create(null),h.operatorListChanged=r,u.opListReadCapability=Promise.withResolvers(),(u.renderTasks||(u.renderTasks=new Set)).add(h),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(p=this._stats)==null||p.time("Page Request"),this._pumpOperatorList(o)),u.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>u0.textContent(i));const e=this.streamTextContent(t);return new Promise(function(i,a){function r(){o.read().then(function({value:h,done:p}){if(p){i(u);return}u.lang??(u.lang=h.lang),Object.assign(u.styles,h.styles),u.items.push(...h.items),r()},a)}const o=e.getReader(),u={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const i of e.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),T(this,au,!1),Promise.all(t)}cleanup(t=!1){T(this,au,!0);const e=U(this,If,Q1).call(this);return t&&e&&this._stats&&(this._stats=new GS),e}_startRenderPage(t,e){var a,r;const i=this._intentStates.get(e);i&&((a=this._stats)==null||a.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let i=0,a=t.length;i<a;i++)e.operatorList.fnArray.push(t.fnArray[i]),e.operatorList.argsArray.push(t.argsArray[i]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const i of e.renderTasks)i.operatorListChanged();t.lastChunk&&U(this,If,Q1).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:i,modifiedIds:a}){const{map:r,transfer:o}=i,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:a},o).getReader(),p=this._intentStates.get(e);p.streamReader=h;const m=()=>{h.read().then(({value:y,done:A})=>{if(A){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(y,p),m())},y=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const A of p.renderTasks)A.operatorListChanged();U(this,If,Q1).call(this)}if(p.displayReadyCapability)p.displayReadyCapability.reject(y);else if(p.opListReadCapability)p.opListReadCapability.reject(y);else throw y}})};m()}_abortOperatorList({intentState:t,reason:e,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(e instanceof YA){let a=_T;e.extraDelay>0&&e.extraDelay<1e3&&(a+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},a);return}}if(t.streamReader.cancel(new fd(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[a,r]of this._intentStates)if(r===t){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}au=new WeakMap,If=new WeakSet,Q1=function(){if(!d(this,au)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),T(this,au,!1),!0};var Uh,Bo,ru,Bf,dv,zf,qf,Ca,yb,i6,n6,Z1,lm,wb;const ln=class ln{constructor({name:t=null,port:e=null,verbosity:i=dC()}={}){I(this,Ca);I(this,Uh,Promise.withResolvers());I(this,Bo,null);I(this,ru,null);I(this,Bf,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,e){if(d(ln,qf).has(e))throw new Error("Cannot use more than one PDFWorker per port.");d(ln,qf).set(e,this),U(this,Ca,i6).call(this,e)}else U(this,Ca,n6).call(this)}get promise(){return d(this,Uh).promise}get port(){return d(this,ru)}get messageHandler(){return d(this,Bo)}destroy(){var t,e;this.destroyed=!0,(t=d(this,Bf))==null||t.terminate(),T(this,Bf,null),d(ln,qf).delete(d(this,ru)),T(this,ru,null),(e=d(this,Bo))==null||e.destroy(),T(this,Bo,null)}static create(t){const e=d(this,qf).get(t==null?void 0:t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new ln(t)}static get workerSrc(){if(tc.workerSrc)return tc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ii(this,"_setupFakeWorkerGlobal",(async()=>d(this,lm,wb)?d(this,lm,wb):(await import(this.workerSrc)).WorkerMessageHandler)())}};Uh=new WeakMap,Bo=new WeakMap,ru=new WeakMap,Bf=new WeakMap,dv=new WeakMap,zf=new WeakMap,qf=new WeakMap,Ca=new WeakSet,yb=function(){d(this,Uh).resolve(),d(this,Bo).send("configure",{verbosity:this.verbosity})},i6=function(t){T(this,ru,t),T(this,Bo,new Y1("main","worker",t)),d(this,Bo).on("ready",()=>{}),U(this,Ca,yb).call(this)},n6=function(){if(d(ln,zf)||d(ln,lm,wb)){U(this,Ca,Z1).call(this);return}let{workerSrc:t}=ln;try{ln._isSameOrigin(window.location,t)||(t=ln._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),i=new Y1("main","worker",e),a=()=>{r.abort(),i.destroy(),e.terminate(),this.destroyed?d(this,Uh).reject(new Error("Worker was destroyed")):U(this,Ca,Z1).call(this)},r=new AbortController;e.addEventListener("error",()=>{d(this,Bf)||a()},{signal:r.signal}),i.on("test",u=>{if(r.abort(),this.destroyed||!u){a();return}T(this,Bo,i),T(this,ru,e),T(this,Bf,e),U(this,Ca,yb).call(this)}),i.on("ready",u=>{if(r.abort(),this.destroyed){a();return}try{o()}catch{U(this,Ca,Z1).call(this)}});const o=()=>{const u=new Uint8Array;i.send("test",u,[u.buffer])};o();return}catch{Nv("The worker has been disabled.")}U(this,Ca,Z1).call(this)},Z1=function(){d(ln,zf)||(He("Setting up fake worker."),T(ln,zf,!0)),ln._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){d(this,Uh).reject(new Error("Worker was destroyed"));return}const e=new FC;T(this,ru,e);const i=`fake${wa(ln,dv)._++}`,a=new Y1(i+"_worker",i,e);t.setup(a,e),T(this,Bo,new Y1(i,i+"_worker",e)),U(this,Ca,yb).call(this)}).catch(t=>{d(this,Uh).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},lm=new WeakSet,wb=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},I(ln,lm),I(ln,dv,0),I(ln,zf,!1),I(ln,qf,new WeakMap),Ea&&(T(ln,zf,!0),tc.workerSrc||(tc.workerSrc="./pdf.worker.mjs")),ln._isSameOrigin=(t,e)=>{const i=URL.parse(t);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const a=new URL(e,i);return i.origin===a.origin},ln._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},ln.fromPort=t=>{if(_C("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ln.create(t)};let h0=ln;var ou,Gl,cm,um,lu,Uf,J1;class LT{constructor(t,e,i,a,r,o){I(this,Uf);I(this,ou,new Map);I(this,Gl,new Map);I(this,cm,new Map);I(this,um,new Map);I(this,lu,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new $_,this.fontLoader=new kC({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return ii(this,"annotationStorage",new WA)}getRenderingIntent(t,e=wh.ENABLE,i=null,a=!1,r=!1){let o=Nr.DISPLAY,u=Uw;switch(t){case"any":o=Nr.ANY;break;case"display":break;case"print":o=Nr.PRINT;break;default:He(`getRenderingIntent - invalid intent: ${t}`)}const h=o&Nr.PRINT&&i instanceof D_?i:this.annotationStorage;switch(e){case wh.DISABLE:o+=Nr.ANNOTATIONS_DISABLE;break;case wh.ENABLE:break;case wh.ENABLE_FORMS:o+=Nr.ANNOTATIONS_FORMS;break;case wh.ENABLE_STORAGE:o+=Nr.ANNOTATIONS_STORAGE,u=h.serializable;break;default:He(`getRenderingIntent - invalid annotationMode: ${e}`)}a&&(o+=Nr.IS_EDITING),r&&(o+=Nr.OPLIST);const{ids:p,hash:m}=h.modifiedIds,y=[o,u.hash,m];return{renderingIntent:o,cacheKey:y.join("_"),annotationStorageSerializable:u,modifiedIds:p}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=d(this,lu))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of d(this,Gl).values())t.push(a._destroy());d(this,Gl).clear(),d(this,cm).clear(),d(this,um).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var a,r;this.commonObjs.clear(),this.fontLoader.clear(),d(this,ou).clear(),this.filterFactory.destroy(),c0.cleanup(),(a=this._networkStream)==null||a.cancelAllRequests(new fd("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(i,a)=>{Qn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},a.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){a.close();return}Qn(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{a.error(r)})},a.onCancel=r=>{this._fullReader.cancel(r),a.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{var u;await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:r,contentLength:o}=this._fullReader;return(!a||!r)&&(this._lastProgress&&((u=e.onProgress)==null||u.call(e,this._lastProgress)),this._fullReader.onProgress=h=>{var p;(p=e.onProgress)==null||p.call(e,{loaded:h.loaded,total:h.total})}),{isStreamingSupported:a,isRangeSupported:r,contentLength:o}}),t.on("GetRangeReader",(i,a)=>{Qn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){a.close();return}a.onPull=()=>{r.read().then(function({value:o,done:u}){if(u){a.close();return}Qn(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{a.error(o)})},a.onCancel=o=>{r.cancel(o),a.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,e._capability.resolve(new NT(i,this))}),t.on("DocException",i=>{e._capability.reject(za(i))}),t.on("PasswordRequest",i=>{T(this,lu,Promise.withResolvers());try{if(!e.onPassword)throw za(i);const a=r=>{r instanceof Error?d(this,lu).reject(r):d(this,lu).resolve({password:r})};e.onPassword(a,i.code)}catch(a){d(this,lu).reject(a)}return d(this,lu).promise}),t.on("DataLoaded",i=>{var a;(a=e.onProgress)==null||a.call(e,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;d(this,Gl).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,a,r])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in r){const m=r.error;He(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const u=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,h=new RC(r,u);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!h.fontExtraProperties&&h.data&&(h.data=null),this.commonObjs.resolve(i,h)});break;case"CopyLocalImage":const{imageRef:p}=r;Qn(p,"The imageRef must be defined.");for(const m of d(this,Gl).values())for(const[,y]of m.objs)if((y==null?void 0:y.ref)===p)return y.dataLen?(this.commonObjs.resolve(i,structuredClone(y)),y.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),t.on("obj",([i,a,r,o])=>{var h;if(this.destroyed)return;const u=d(this,Gl).get(a);if(!u.objs.has(i)){if(u._intentStates.size===0){(h=o==null?void 0:o.bitmap)==null||h.close();return}switch(r){case"Image":case"Pattern":u.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",i=>{var a;this.destroyed||(a=e.onProgress)==null||a.call(e,{loaded:i.loaded,total:i.total})}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[i.type];if(!a)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&He("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((i=this._fullReader)==null?void 0:i.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,i=d(this,cm).get(e);if(i)return i;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&d(this,um).set(r.refStr,t);const o=new ET(e,r,this,this._params.pdfBug);return d(this,Gl).set(e,o),o});return d(this,cm).set(e,a),a}getPageIndex(t){return Hw(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return U(this,Uf,J1).call(this,"GetFieldObjects")}hasJSActions(){return U(this,Uf,J1).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return U(this,Uf,J1).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return U(this,Uf,J1).call(this,"GetOptionalContentConfig").then(e=>new aT(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=d(this,ou).get(t);if(e)return e;const i=this.messageHandler.sendWithPromise(t,null).then(a=>{var r,o;return{info:a[0],metadata:a[1]?new nT(a[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return d(this,ou).set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of d(this,Gl).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),d(this,ou).clear(),this.filterFactory.destroy(!0),c0.cleanup()}}cachedPageNumber(t){if(!Hw(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return d(this,um).get(e)??null}}ou=new WeakMap,Gl=new WeakMap,cm=new WeakMap,um=new WeakMap,lu=new WeakMap,Uf=new WeakSet,J1=function(t,e=null){const i=d(this,ou).get(t);if(i)return i;const a=this.messageHandler.sendWithPromise(t,e);return d(this,ou).set(t,a),a};var Hh;class CT{constructor(t){I(this,Hh,null);Wt(this,"onContinue",null);Wt(this,"onError",null);T(this,Hh,t)}get promise(){return d(this,Hh).capability.promise}cancel(t=0){d(this,Hh).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=d(this,Hh).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=d(this,Hh);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Hh=new WeakMap;var Gh,Hf;const cf=class cf{constructor({callback:t,params:e,objs:i,commonObjs:a,annotationCanvasMap:r,operatorList:o,pageIndex:u,canvasFactory:h,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:y=!1,pageColors:A=null,enableHWA:w=!1}){I(this,Gh,null);this.callback=t,this.params=e,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=u,this.canvasFactory=h,this.filterFactory=p,this._pdfBug=y,this.pageColors=A,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new CT(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var u,h;if(this.cancelled)return;if(this._canvas){if(d(cf,Hf).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");d(cf,Hf).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:a,background:r}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Mg(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:i,transparency:t,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(h=this.graphicsReadyCallback)==null||h.call(this)}cancel(t=null,e=0){var i,a,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),d(this,Gh)&&(window.cancelAnimationFrame(d(this,Gh)),T(this,Gh,null)),d(cf,Hf).delete(this._canvas),t||(t=new YA(`Rendering cancelled, page ${this._pageIndex+1}`,e)),this.callback(t),(r=(a=this.task).onError)==null||r.call(a,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?T(this,Gh,window.requestAnimationFrame(()=>{T(this,Gh,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),d(cf,Hf).delete(this._canvas),this.callback())))}};Gh=new WeakMap,Hf=new WeakMap,I(cf,Hf,new WeakSet);let iA=cf;const TT="5.4.54",MT="295fb3ec4";var pr,Gf,hm,rs,r2,dm,cu,o2,Vh,zo,l2,zi,nA,sA,aA,sf,s6,yh;const qa=class qa{constructor({editor:t=null,uiManager:e=null}){I(this,zi);I(this,pr,null);I(this,Gf,null);I(this,hm);I(this,rs,null);I(this,r2,!1);I(this,dm,!1);I(this,cu,null);I(this,o2);I(this,Vh,null);I(this,zo,null);var i,a;t?(T(this,dm,!1),T(this,cu,t)):T(this,dm,!0),T(this,zo,(t==null?void 0:t._uiManager)||e),T(this,o2,d(this,zo)._eventBus),T(this,hm,((i=t==null?void 0:t.color)==null?void 0:i.toUpperCase())||((a=d(this,zo))==null?void 0:a.highlightColors.values().next().value)||"#FFFF98"),d(qa,l2)||T(qa,l2,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ii(this,"_keyboardManager",new G2([[["Escape","mac+Escape"],qa.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],qa.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],qa.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],qa.prototype._moveToPrevious],[["Home","mac+Home"],qa.prototype._moveToBeginning],[["End","mac+End"],qa.prototype._moveToEnd]]))}renderButton(){const t=T(this,pr,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",d(this,cu)&&(t.ariaControls=`${d(this,cu).id}_colorpicker_dropdown`);const e=d(this,zo)._signal;t.addEventListener("click",U(this,zi,sf).bind(this),{signal:e}),t.addEventListener("keydown",U(this,zi,aA).bind(this),{signal:e});const i=T(this,Gf,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=d(this,hm),t.append(i),t}renderMainDropdown(){const t=T(this,rs,U(this,zi,nA).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===d(this,pr)){U(this,zi,sf).call(this,t);return}const e=t.target.getAttribute("data-color");e&&U(this,zi,sA).call(this,e,t)}_moveToNext(t){var e,i;if(!d(this,zi,yh)){U(this,zi,sf).call(this,t);return}if(t.target===d(this,pr)){(e=d(this,rs).firstChild)==null||e.focus();return}(i=t.target.nextSibling)==null||i.focus()}_moveToPrevious(t){var e,i;if(t.target===((e=d(this,rs))==null?void 0:e.firstChild)||t.target===d(this,pr)){d(this,zi,yh)&&this._hideDropdownFromKeyboard();return}d(this,zi,yh)||U(this,zi,sf).call(this,t),(i=t.target.previousSibling)==null||i.focus()}_moveToBeginning(t){var e;if(!d(this,zi,yh)){U(this,zi,sf).call(this,t);return}(e=d(this,rs).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!d(this,zi,yh)){U(this,zi,sf).call(this,t);return}(e=d(this,rs).lastChild)==null||e.focus()}hideDropdown(){var t,e;(t=d(this,rs))==null||t.classList.add("hidden"),d(this,pr).ariaExpanded="false",(e=d(this,Vh))==null||e.abort(),T(this,Vh,null)}_hideDropdownFromKeyboard(){var t;if(!d(this,dm)){if(!d(this,zi,yh)){(t=d(this,cu))==null||t.unselect();return}this.hideDropdown(),d(this,pr).focus({preventScroll:!0,focusVisible:d(this,r2)})}}updateColor(t){if(d(this,Gf)&&(d(this,Gf).style.backgroundColor=t),!d(this,rs))return;const e=d(this,zo).highlightColors.values();for(const i of d(this,rs).children)i.ariaSelected=e.next().value===t.toUpperCase()}destroy(){var t,e;(t=d(this,pr))==null||t.remove(),T(this,pr,null),T(this,Gf,null),(e=d(this,rs))==null||e.remove(),T(this,rs,null)}};pr=new WeakMap,Gf=new WeakMap,hm=new WeakMap,rs=new WeakMap,r2=new WeakMap,dm=new WeakMap,cu=new WeakMap,o2=new WeakMap,Vh=new WeakMap,zo=new WeakMap,l2=new WeakMap,zi=new WeakSet,nA=function(){const t=document.createElement("div"),e=d(this,zo)._signal;t.addEventListener("contextmenu",no,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),d(this,cu)&&(t.id=`${d(this,cu).id}_colorpicker_dropdown`);for(const[i,a]of d(this,zo).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",a),r.title=i,r.setAttribute("data-l10n-id",d(qa,l2)[i]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=a,r.ariaSelected=a===d(this,hm),r.addEventListener("click",U(this,zi,sA).bind(this,a),{signal:e}),t.append(r)}return t.addEventListener("keydown",U(this,zi,aA).bind(this),{signal:e}),t},sA=function(t,e){e.stopPropagation(),d(this,o2).dispatch("switchannotationeditorparams",{source:this,type:ui.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)},aA=function(t){qa._keyboardManager.exec(this,t)},sf=function(t){if(d(this,zi,yh)){this.hideDropdown();return}if(T(this,r2,t.detail===0),d(this,Vh)||(T(this,Vh,new AbortController),window.addEventListener("pointerdown",U(this,zi,s6).bind(this),{signal:d(this,zo).combinedSignal(d(this,Vh))})),d(this,pr).ariaExpanded="true",d(this,rs)){d(this,rs).classList.remove("hidden");return}const e=T(this,rs,U(this,zi,nA).call(this));d(this,pr).append(e)},s6=function(t){var e;(e=d(this,rs))!=null&&e.contains(t.target)||this.hideDropdown()},yh=function(){return d(this,rs)&&!d(this,rs).classList.contains("hidden")},I(qa,l2,null);let $b=qa;var Vl,c2,fm,u2;const uf=class uf{constructor(t){I(this,Vl,null);I(this,c2,null);I(this,fm,null);T(this,c2,t),T(this,fm,t._uiManager),d(uf,u2)||T(uf,u2,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(d(this,Vl))return d(this,Vl);const{editorType:t,colorType:e,colorValue:i}=d(this,c2),a=T(this,Vl,document.createElement("input"));return a.type="color",a.value=i||"#000000",a.className="basicColorPicker",a.tabIndex=0,a.setAttribute("data-l10n-id",d(uf,u2)[t]),a.addEventListener("input",()=>{d(this,fm).updateParams(e,a.value)},{signal:d(this,fm)._signal}),a}update(t){d(this,Vl)&&(d(this,Vl).value=t)}destroy(){var t;(t=d(this,Vl))==null||t.remove(),T(this,Vl,null)}hideDropdown(){}};Vl=new WeakMap,c2=new WeakMap,fm=new WeakMap,u2=new WeakMap,I(uf,u2,null);let Kb=uf;function r4(c){return Math.floor(Math.max(0,Math.min(1,c))*255).toString(16).padStart(2,"0")}function B1(c){return Math.max(0,Math.min(255,255*c))}class o4{static CMYK_G([t,e,i,a]){return["G",1-Math.min(1,.3*t+.59*i+.11*e+a)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=B1(t),[t,t,t]}static G_HTML([t]){const e=r4(t);return`#${e}${e}${e}`}static RGB_G([t,e,i]){return["G",.3*t+.59*e+.11*i]}static RGB_rgb(t){return t.map(B1)}static RGB_HTML(t){return`#${t.map(r4).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,i,a]){return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,e+a)]}static CMYK_rgb([t,e,i,a]){return[B1(1-Math.min(1,t+a)),B1(1-Math.min(1,i+a)),B1(1-Math.min(1,e+a))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,i]){const a=1-t,r=1-e,o=1-i,u=Math.min(a,r,o);return["CMYK",a,r,o,u]}}class kT{create(t,e,i=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),i||(a.setAttribute("width",`${t}px`),a.setAttribute("height",`${e}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${e}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){qi("Abstract method `_createSVG` called.")}}class Qb extends kT{_createSVG(t){return document.createElementNS(Bc,t)}}class a6{static setupStorage(t,e,i,a,r){const o=a.getValue(e,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),r==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",u=>{a.setValue(e,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),r==="print")break;t.addEventListener("input",u=>{a.setValue(e,{value:u.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const u of i.children)u.attributes.value===o.value?u.attributes.selected=!0:u.attributes.hasOwnProperty("selected")&&delete u.attributes.selected}t.addEventListener("input",u=>{const h=u.target.options,p=h.selectedIndex===-1?"":h[h.selectedIndex].value;a.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:i=null,intent:a,linkService:r}){const{attributes:o}=e,u=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${a}`);for(const[h,p]of Object.entries(o))if(p!=null)switch(h){case"class":p.length&&t.setAttribute(h,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!u||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,p)}u&&r.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,e,i)}static render(t){var y,A;const e=t.annotationStorage,i=t.linkService,a=t.xfaHtml,r=t.intent||"display",o=document.createElement(a.name);a.attributes&&this.setAttributes({html:o,element:a,intent:r,linkService:i});const u=r!=="richText",h=t.div;if(h.append(o),t.viewport){const w=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=w}u&&h.setAttribute("class","xfaLayer xfaFont");const p=[];if(a.children.length===0){if(a.value){const w=document.createTextNode(a.value);o.append(w),u&&u0.shouldBuildText(a.name)&&p.push(w)}return{textDivs:p}}const m=[[a,-1,o]];for(;m.length>0;){const[w,L,N]=m.at(-1);if(L+1===w.children.length){m.pop();continue}const M=w.children[++m.at(-1)[1]];if(M===null)continue;const{name:E}=M;if(E==="#text"){const P=document.createTextNode(M.value);p.push(P),N.append(P);continue}const R=(y=M==null?void 0:M.attributes)!=null&&y.xmlns?document.createElementNS(M.attributes.xmlns,E):document.createElement(E);if(N.append(R),M.attributes&&this.setAttributes({html:R,element:M,storage:e,intent:r,linkService:i}),((A=M.children)==null?void 0:A.length)>0)m.push([M,-1,R]);else if(M.value){const P=document.createTextNode(M.value);u&&u0.shouldBuildText(E)&&p.push(P),R.append(P)}}for(const w of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const RT=9,yp=new WeakSet,DT=new Date().getTimezoneOffset()*60*1e3;class l4{static create(t){switch(t.data.annotationType){case $n.LINK:return new QA(t);case $n.TEXT:return new PT(t);case $n.WIDGET:switch(t.data.fieldType){case"Tx":return new OT(t);case"Btn":return t.data.radioButton?new l6(t):t.data.checkBox?new FT(t):new IT(t);case"Ch":return new BT(t);case"Sig":return new jT(t)}return new xp(t);case $n.POPUP:return new oA(t);case $n.FREETEXT:return new f6(t);case $n.LINE:return new qT(t);case $n.SQUARE:return new UT(t);case $n.CIRCLE:return new HT(t);case $n.POLYLINE:return new p6(t);case $n.CARET:return new VT(t);case $n.INK:return new ZA(t);case $n.POLYGON:return new GT(t);case $n.HIGHLIGHT:return new g6(t);case $n.UNDERLINE:return new YT(t);case $n.SQUIGGLY:return new XT(t);case $n.STRIKEOUT:return new WT(t);case $n.STAMP:return new m6(t);case $n.FILEATTACHMENT:return new $T(t);default:return new qn(t)}}}var Vf,pm,uu,h2,rA;const sx=class sx{constructor(t,{isRenderable:e=!1,ignoreBorder:i=!1,createQuadrilaterals:a=!1}={}){I(this,h2);I(this,Vf,null);I(this,pm,!1);I(this,uu,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(i)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t!=null&&t.str||e!=null&&e.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return sx._hasPopupData(this.data)}updateEdited(t){var r;if(!this.container)return;t.rect&&(d(this,Vf)||T(this,Vf,{rect:this.data.rect.slice(0)}));const{rect:e,popup:i}=t;e&&U(this,h2,rA).call(this,e);let a=((r=d(this,uu))==null?void 0:r.popup)||this.popup;!a&&(i!=null&&i.text)&&(this._createPopup(i),a=d(this,uu).popup),a&&(a.updateEdited(t),i!=null&&i.deleted&&(a.remove(),T(this,uu,null),this.popup=null))}resetEdited(){var t;d(this,Vf)&&(U(this,h2,rA).call(this,d(this,Vf).rect),(t=d(this,uu))==null||t.popup.resetEdited(),T(this,Vf,null))}_createContainer(t){const{data:e,parent:{page:i,viewport:a}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),!(this instanceof xp)&&!(this instanceof QA)&&(r.tabIndex=0);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof oA){const{rotation:N}=e;return!e.hasOwnCanvas&&N!==0&&this.setRotation(N,r),r}const{width:u,height:h}=this;if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const N=e.borderStyle.horizontalCornerRadius,M=e.borderStyle.verticalCornerRadius;if(N>0||M>0){const R=`calc(${N}px * var(--total-scale-factor)) / calc(${M}px * var(--total-scale-factor))`;o.borderRadius=R}else if(this instanceof l6){const R=`calc(${u}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;o.borderRadius=R}switch(e.borderStyle.style){case pg.SOLID:o.borderStyle="solid";break;case pg.DASHED:o.borderStyle="dashed";break;case pg.BEVELED:He("Unimplemented border style: beveled");break;case pg.INSET:He("Unimplemented border style: inset");break;case pg.UNDERLINE:o.borderBottomStyle="solid";break}const E=e.borderColor||null;E?(T(this,pm,!0),o.borderColor=Ae.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):o.borderWidth=0}const p=Ae.normalizeRect([e.rect[0],i.view[3]-e.rect[1]+i.view[1],e.rect[2],i.view[3]-e.rect[3]+i.view[1]]),{pageWidth:m,pageHeight:y,pageX:A,pageY:w}=a.rawDims;o.left=`${100*(p[0]-A)/m}%`,o.top=`${100*(p[1]-w)/y}%`;const{rotation:L}=e;return e.hasOwnCanvas||L===0?(o.width=`${100*u/m}%`,o.height=`${100*h/y}%`):this.setRotation(L,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:a}=this.parent.viewport.rawDims;let{width:r,height:o}=this;t%180!==0&&([r,o]=[o,r]),e.style.width=`${100*r/i}%`,e.style.height=`${100*o/a}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,i,a)=>{const r=a.detail[e],o=r[0],u=r.slice(1);a.target.style[i]=o4[`${o}_HTML`](u),this.annotationStorage.setValue(this.data.id,{[i]:o4[`${o}_rgb`](u)})};return ii(this,"_commonActions",{display:e=>{const{display:i}=e.detail,a=i%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:i===1||i===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:i}=e.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const i=e.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,e){const i=this._commonActions;for(const a of Object.keys(e.detail)){const r=t[a]||i[a];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const i=this._commonActions;for(const[a,r]of Object.entries(e)){const o=i[a];if(o){const u={detail:{[a]:r},target:t};o(u),delete e[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,i,a,r]=this.data.rect.map(N=>Math.fround(N));if(t.length===8){const[N,M,E,R]=t.subarray(2,6);if(a===N&&r===M&&e===E&&i===R)return}const{style:o}=this.container;let u;if(d(this,pm)){const{borderColor:N,borderWidth:M}=o;o.borderWidth=0,u=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${N}" stroke-width="${M}">`],this.container.classList.add("hasBorder")}const h=a-e,p=r-i,{svgFactory:m}=this,y=m.createElement("svg");y.classList.add("quadrilateralsContainer"),y.setAttribute("width",0),y.setAttribute("height",0),y.role="none";const A=m.createElement("defs");y.append(A);const w=m.createElement("clipPath"),L=`clippath_${this.data.id}`;w.setAttribute("id",L),w.setAttribute("clipPathUnits","objectBoundingBox"),A.append(w);for(let N=2,M=t.length;N<M;N+=8){const E=t[N],R=t[N+1],P=t[N+2],K=t[N+3],X=m.createElement("rect"),st=(P-e)/h,it=(r-R)/p,W=(E-P)/h,lt=(R-K)/p;X.setAttribute("x",st),X.setAttribute("y",it),X.setAttribute("width",W),X.setAttribute("height",lt),w.append(X),u==null||u.push(`<rect vector-effect="non-scaling-stroke" x="${st}" y="${it}" width="${W}" height="${lt}"/>`)}d(this,pm)&&(u.push("</g></svg>')"),o.backgroundImage=u.join("")),this.container.append(y),this.container.style.clipPath=`url(#${L})`}_createPopup(t=null){const{data:e}=this;let i,a;t?(i={str:t.text},a=t.date):(i=e.contentsObj,a=e.modificationDate);const r=T(this,uu,new oA({data:{color:e.color,titleObj:e.titleObj,modificationDate:a,contentsObj:i,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}get hasPopupElement(){return!!(d(this,uu)||this.popup||this.data.popupRef)}render(){qi("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const i=[];if(this._fieldObjects){const a=this._fieldObjects[t];if(a)for(const{page:r,id:o,exportValues:u}of a){if(r===-1||o===e)continue;const h=typeof u=="string"?u:null,p=document.querySelector(`[data-element-id="${o}"]`);if(p&&!yp.has(p)){He(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:h,domElement:p})}return i}for(const a of document.getElementsByName(t)){const{exportValue:r}=a,o=a.getAttribute("data-element-id");o!==e&&yp.has(a)&&i.push({id:o,exportValue:r,domElement:a})}return i}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Vf=new WeakMap,pm=new WeakMap,uu=new WeakMap,h2=new WeakSet,rA=function(t){const{container:{style:e},data:{rect:i,rotation:a},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:u,pageY:h}}}}=this;i==null||i.splice(0,4,...t),e.left=`${100*(t[0]-u)/r}%`,e.top=`${100*(o-t[3]+h)/o}%`,a===0?(e.width=`${100*(t[2]-t[0])/r}%`,e.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(a)};let qn=sx;var Lr,af,r6,o6;class QA extends qn{constructor(e,i=null){super(e,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});I(this,Lr);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:i}=this,a=document.createElement("a");a.setAttribute("data-element-id",e.id);let r=!1;return e.url?(i.addLinkAttributes(a,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(a,e.action,e.overlaidText),r=!0):e.attachment?(U(this,Lr,r6).call(this,a,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(U(this,Lr,o6).call(this,a,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(a,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(a,e),r=!0),e.resetForm?(this._bindResetFormAction(a,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(a,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(a),this.container}_bindLink(e,i,a=""){e.href=this.linkService.getDestinationHash(i),e.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&U(this,Lr,af).call(this),a&&(e.title=a)}_bindNamedAction(e,i,a=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(i),!1),a&&(e.title=a),U(this,Lr,af).call(this)}_bindJSAction(e,i){e.href=this.linkService.getAnchorUrl("");const a=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const o=a.get(r);o&&(e[o]=()=>{var u;return(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}i.overlaidText&&(e.title=i.overlaidText),e.onclick||(e.onclick=()=>!1),U(this,Lr,af).call(this)}_bindResetFormAction(e,i){const a=e.onclick;if(a||(e.href=this.linkService.getAnchorUrl("")),U(this,Lr,af).call(this),!this._fieldObjects){He('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),a||(e.onclick=()=>!1);return}e.onclick=()=>{var y;a==null||a();const{fields:r,refs:o,include:u}=i,h=[];if(r.length!==0||o.length!==0){const A=new Set(o);for(const w of r){const L=this._fieldObjects[w]||[];for(const{id:N}of L)A.add(N)}for(const w of Object.values(this._fieldObjects))for(const L of w)A.has(L.id)===u&&h.push(L)}else for(const A of Object.values(this._fieldObjects))h.push(...A);const p=this.annotationStorage,m=[];for(const A of h){const{id:w}=A;switch(m.push(w),A.type){case"text":{const N=A.defaultValue||"";p.setValue(w,{value:N});break}case"checkbox":case"radiobutton":{const N=A.defaultValue===A.exportValues;p.setValue(w,{value:N});break}case"combobox":case"listbox":{const N=A.defaultValue||"";p.setValue(w,{value:N});break}default:continue}const L=document.querySelector(`[data-element-id="${w}"]`);if(L){if(!yp.has(L)){He(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;L.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}Lr=new WeakSet,af=function(){this.container.setAttribute("data-internal-link","")},r6=function(e,i,a="",r=null){e.href=this.linkService.getAnchorUrl(""),i.description?e.title=i.description:a&&(e.title=a),e.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,r),!1},U(this,Lr,af).call(this)},o6=function(e,i,a=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(i),!1),a&&(e.title=a),U(this,Lr,af).call(this)};class PT extends qn{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class xp extends qn{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return qs.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,i,a,r){i.includes("mouse")?t.addEventListener(i,o=>{var u;(u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{var u;if(i==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(i==="focus"){if(e.focused)return;e.focused=!0}r&&((u=this.linkService.eventBus)==null||u.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:r(o)}}))})}_setEventListeners(t,e,i,a){var r,o,u;for(const[h,p]of i)(p==="Action"||(r=this.data.actions)!=null&&r[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,h,p,a),p==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((u=this.data.actions)!=null&&u.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":Ae.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||RT,r=t.style;let o;const u=2,h=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u),m=Math.round(p/(Jy*a))||1,y=p/m;o=Math.min(a,h(y/Jy))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-u);o=Math.min(a,h(p/Jy))}r.fontSize=`calc(${o}px * var(--total-scale-factor))`,r.color=Ae.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class OT extends xp{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,i,a){const r=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=i),r.setValue(o.id,{[a]:i})}render(){var a,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let u=o.value||"";const h=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;h&&u.length>h&&(u=u.slice(0,h));let p=o.formattedValue||((a=this.data.textContent)==null?void 0:a.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:u,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=p??u,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",p??u),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),yp.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:y,datetimeType:A,timeStep:w}=this.data,L=!!A&&this.enableScripting;y&&(i.title=y),this._setRequired(i,this.data.required),h&&(i.maxLength=h),i.addEventListener("input",M=>{t.setValue(e,{value:M.target.value}),this.setPropertyOnSiblings(i,"value",M.target.value,"value"),m.formattedValue=null}),i.addEventListener("resetform",M=>{const E=this.data.defaultFieldValue??"";i.value=m.userValue=E,m.formattedValue=null});let N=M=>{const{formattedValue:E}=m;E!=null&&(M.target.value=E),M.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",E=>{var P;if(m.focused)return;const{target:R}=E;if(L&&(R.type=A,w&&(R.step=w)),m.userValue){const K=m.userValue;if(L)if(A==="time"){const X=new Date(K),st=[X.getHours(),X.getMinutes(),X.getSeconds()];R.value=st.map(it=>it.toString().padStart(2,"0")).join(":")}else R.value=new Date(K-DT).toISOString().split(A==="date"?"T":".",1)[0];else R.value=K}m.lastCommittedValue=R.value,m.commitKey=1,(P=this.data.actions)!=null&&P.Focus||(m.focused=!0)}),i.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const R={value(P){m.userValue=P.detail.value??"",L||t.setValue(e,{value:m.userValue.toString()}),P.target.value=m.userValue},formattedValue(P){const{formattedValue:K}=P.detail;m.formattedValue=K,K!=null&&P.target!==document.activeElement&&(P.target.value=K);const X={formattedValue:K};L&&(X.value=K),t.setValue(e,X)},selRange(P){P.target.setSelectionRange(...P.detail.selRange)},charLimit:P=>{var it;const{charLimit:K}=P.detail,{target:X}=P;if(K===0){X.removeAttribute("maxLength");return}X.setAttribute("maxLength",K);let st=m.userValue;!st||st.length<=K||(st=st.slice(0,K),X.value=m.userValue=st,t.setValue(e,{value:st}),(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:st,willCommit:!0,commitKey:1,selStart:X.selectionStart,selEnd:X.selectionEnd}}))}};this._dispatchEventFromSandbox(R,E)}),i.addEventListener("keydown",E=>{var K;m.commitKey=1;let R=-1;if(E.key==="Escape"?R=0:E.key==="Enter"&&!this.data.multiLine?R=2:E.key==="Tab"&&(m.commitKey=3),R===-1)return;const{value:P}=E.target;m.lastCommittedValue!==P&&(m.lastCommittedValue=P,m.userValue=P,(K=this.linkService.eventBus)==null||K.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:R,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const M=N;N=null,i.addEventListener("blur",E=>{var K,X;if(!m.focused||!E.relatedTarget)return;(K=this.data.actions)!=null&&K.Blur||(m.focused=!1);const{target:R}=E;let{value:P}=R;if(L){if(P&&A==="time"){const st=P.split(":").map(it=>parseInt(it,10));P=new Date(2e3,0,1,st[0],st[1],st[2]||0).valueOf(),R.step=""}else P=new Date(P).valueOf();R.type="text"}m.userValue=P,m.lastCommittedValue!==P&&((X=this.linkService.eventBus)==null||X.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,willCommit:!0,commitKey:m.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}})),M(E)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",E=>{var lt;m.lastCommittedValue=null;const{data:R,target:P}=E,{value:K,selectionStart:X,selectionEnd:st}=P;let it=X,W=st;switch(E.inputType){case"deleteWordBackward":{const yt=K.substring(0,X).match(/\w*[^\w]*$/);yt&&(it-=yt[0].length);break}case"deleteWordForward":{const yt=K.substring(X).match(/^[^\w]*\w*/);yt&&(W+=yt[0].length);break}case"deleteContentBackward":X===st&&(it-=1);break;case"deleteContentForward":X===st&&(W+=1);break}E.preventDefault(),(lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:K,change:R||"",willCommit:!1,selStart:it,selEnd:W}})}),this._setEventListeners(i,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(N&&i.addEventListener("blur",N),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/h;i.classList.add("comb"),i.style.letterSpacing=`calc(${E}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class jT extends xp{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class FT extends xp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.exportValue===e.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",t.setValue(i,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return yp.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,a&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=0,r.addEventListener("change",o=>{const{name:u,checked:h}=o.target;for(const p of this._getElementsByName(u,i)){const m=h&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(i,{value:h})}),r.addEventListener("resetform",o=>{const u=e.defaultFieldValue||"Off";o.target.checked=u===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const u={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(i,{value:h.target.checked})}};this._dispatchEventFromSandbox(u,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class l6 extends xp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,i=e.id;let a=t.getValue(i,{value:e.fieldValue===e.buttonValue}).value;if(typeof a=="string"&&(a=a!==e.buttonValue,t.setValue(i,{value:a})),a)for(const o of this._getElementsByName(e.fieldName,i))t.setValue(o.id,{value:!1});const r=document.createElement("input");if(yp.add(r),r.setAttribute("data-element-id",i),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,a&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",o=>{const{name:u,checked:h}=o.target;for(const p of this._getElementsByName(u,i))t.setValue(p.id,{value:!1});t.setValue(i,{value:h})}),r.addEventListener("resetform",o=>{const u=e.defaultFieldValue;o.target.checked=u!=null&&u===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;r.addEventListener("updatefromsandbox",u=>{const h={value:p=>{const m=o===p.detail.value;for(const y of this._getElementsByName(p.target.name)){const A=m&&y.id===i;y.domElement&&(y.domElement.checked=A),t.setValue(y.id,{value:A})}}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class IT extends QA{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class BT extends xp{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,i=t.getValue(e,{value:this.data.fieldValue}),a=document.createElement("select");yp.add(a),a.setAttribute("data-element-id",e),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue;for(const A of a.options)A.selected=A.value===y});for(const m of this.data.options){const y=document.createElement("option");y.textContent=m.displayValue,y.value=m.exportValue,i.value.includes(m.exportValue)&&(y.setAttribute("selected",!0),r=!1),a.append(y)}let o=null;if(r){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),a.prepend(m),o=()=>{m.remove(),a.removeEventListener("input",o),o=null},a.addEventListener("input",o)}const u=m=>{const y=m?"value":"textContent",{options:A,multiple:w}=a;return w?Array.prototype.filter.call(A,L=>L.selected).map(L=>L[y]):A.selectedIndex===-1?null:A[A.selectedIndex][y]};let h=u(!1);const p=m=>{const y=m.target.options;return Array.prototype.map.call(y,A=>({displayValue:A.textContent,exportValue:A.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",m=>{const y={value(A){o==null||o();const w=A.detail.value,L=new Set(Array.isArray(w)?w:[w]);for(const N of a.options)N.selected=L.has(N.value);t.setValue(e,{value:u(!0)}),h=u(!1)},multipleSelection(A){a.multiple=!0},remove(A){const w=a.options,L=A.detail.remove;w[L].selected=!1,a.remove(L),w.length>0&&Array.prototype.findIndex.call(w,M=>M.selected)===-1&&(w[0].selected=!0),t.setValue(e,{value:u(!0),items:p(A)}),h=u(!1)},clear(A){for(;a.length!==0;)a.remove(0);t.setValue(e,{value:null,items:[]}),h=u(!1)},insert(A){const{index:w,displayValue:L,exportValue:N}=A.detail.insert,M=a.children[w],E=document.createElement("option");E.textContent=L,E.value=N,M?M.before(E):a.append(E),t.setValue(e,{value:u(!0),items:p(A)}),h=u(!1)},items(A){const{items:w}=A.detail;for(;a.length!==0;)a.remove(0);for(const L of w){const{displayValue:N,exportValue:M}=L,E=document.createElement("option");E.textContent=N,E.value=M,a.append(E)}a.options.length>0&&(a.options[0].selected=!0),t.setValue(e,{value:u(!0),items:p(A)}),h=u(!1)},indices(A){const w=new Set(A.detail.indices);for(const L of A.target.options)L.selected=w.has(L.index);t.setValue(e,{value:u(!0)}),h=u(!1)},editable(A){A.target.disabled=!A.detail.editable}};this._dispatchEventFromSandbox(y,m)}),a.addEventListener("input",m=>{var w;const y=u(!0),A=u(!1);t.setValue(e,{value:y}),m.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:A,changeEx:y,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):a.addEventListener("input",function(m){t.setValue(e,{value:u(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class oA extends qn{constructor(t){const{data:e,elements:i}=t;super(t,{isRenderable:qn._hasPopupData(e)}),this.elements=i,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=new zT({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const a of this.elements)a.popup=e,a.container.ariaHasPopup="dialog",i.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(a=>`${VA}${a}`).join(",")),this.container}}var gm,fv,pv,mm,bm,En,hu,Yh,vm,d2,ym,Yl,gr,Xh,du,f2,fu,wm,Yf,Wh,Si,Ab,xb,lA,c6,u6,h6,d6,Sb,_b,cA;class zT{constructor({container:t,color:e,elements:i,titleObj:a,modificationDate:r,contentsObj:o,richText:u,parent:h,rect:p,parentRect:m,open:y}){I(this,Si);I(this,gm,U(this,Si,h6).bind(this));I(this,fv,U(this,Si,cA).bind(this));I(this,pv,U(this,Si,_b).bind(this));I(this,mm,U(this,Si,Sb).bind(this));I(this,bm,null);I(this,En,null);I(this,hu,null);I(this,Yh,null);I(this,vm,null);I(this,d2,null);I(this,ym,null);I(this,Yl,!1);I(this,gr,null);I(this,Xh,null);I(this,du,null);I(this,f2,null);I(this,fu,null);I(this,wm,null);I(this,Yf,null);I(this,Wh,!1);T(this,En,t),T(this,wm,a),T(this,hu,o),T(this,fu,u),T(this,d2,h),T(this,bm,e),T(this,f2,p),T(this,ym,m),T(this,vm,i),T(this,Yh,Yb.toDateObject(r)),this.trigger=i.flatMap(A=>A.getElementsToTriggerPopup()),U(this,Si,Ab).call(this),d(this,En).hidden=!0,y&&U(this,Si,Sb).call(this)}render(){var a;if(d(this,gr))return;const t=T(this,gr,document.createElement("div"));if(t.className="popup",d(this,bm)){const r=t.style.outlineColor=Ae.makeHexColor(...d(this,bm));t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const e=document.createElement("span");if(e.className="header",(a=d(this,wm))!=null&&a.str){const r=document.createElement("span");r.className="title",e.append(r),{dir:r.dir,str:r.textContent}=d(this,wm)}if(t.append(e),d(this,Yh)){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:d(this,Yh).valueOf()})),r.dateTime=d(this,Yh).toISOString(),e.append(r)}const i=d(this,Si,xb);if(i)a6.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(d(this,hu));t.append(r)}d(this,En).append(t)}_formatContents({str:t,dir:e}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=e;const a=t.split(/(?:\r\n?|\n)/);for(let r=0,o=a.length;r<o;++r){const u=a[r];i.append(document.createTextNode(u)),r<o-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:t,popup:e,deleted:i}){var a;if(i||e!=null&&e.deleted){this.remove();return}U(this,Si,Ab).call(this),d(this,Yf)||T(this,Yf,{contentsObj:d(this,hu),richText:d(this,fu)}),t&&T(this,du,null),e&&(T(this,fu,U(this,Si,u6).call(this,e.text)),T(this,Yh,Yb.toDateObject(e.date)),T(this,hu,null)),(a=d(this,gr))==null||a.remove(),T(this,gr,null)}resetEdited(){var t;d(this,Yf)&&({contentsObj:wa(this,hu)._,richText:wa(this,fu)._}=d(this,Yf),T(this,Yf,null),(t=d(this,gr))==null||t.remove(),T(this,gr,null),T(this,du,null))}remove(){var t,e;(t=d(this,Xh))==null||t.abort(),T(this,Xh,null),(e=d(this,gr))==null||e.remove(),T(this,gr,null),T(this,Wh,!1),T(this,Yl,!1);for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){T(this,Wh,this.isVisible),d(this,Wh)&&(d(this,En).hidden=!0)}maybeShow(){U(this,Si,Ab).call(this),d(this,Wh)&&(d(this,gr)||U(this,Si,_b).call(this),T(this,Wh,!1),d(this,En).hidden=!1)}get isVisible(){return d(this,En).hidden===!1}}gm=new WeakMap,fv=new WeakMap,pv=new WeakMap,mm=new WeakMap,bm=new WeakMap,En=new WeakMap,hu=new WeakMap,Yh=new WeakMap,vm=new WeakMap,d2=new WeakMap,ym=new WeakMap,Yl=new WeakMap,gr=new WeakMap,Xh=new WeakMap,du=new WeakMap,f2=new WeakMap,fu=new WeakMap,wm=new WeakMap,Yf=new WeakMap,Wh=new WeakMap,Si=new WeakSet,Ab=function(){var e;if(d(this,Xh))return;T(this,Xh,new AbortController);const{signal:t}=d(this,Xh);for(const i of this.trigger)i.addEventListener("click",d(this,mm),{signal:t}),i.addEventListener("mouseenter",d(this,pv),{signal:t}),i.addEventListener("mouseleave",d(this,fv),{signal:t}),i.classList.add("popupTriggerArea");for(const i of d(this,vm))(e=i.container)==null||e.addEventListener("keydown",d(this,gm),{signal:t})},xb=function(){const t=d(this,fu),e=d(this,hu);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&d(this,fu).html||null},lA=function(){var t,e,i;return((i=(e=(t=d(this,Si,xb))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.fontSize)||0},c6=function(){var t,e,i;return((i=(e=(t=d(this,Si,xb))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:i.color)||null},u6=function(t){const e=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},a={style:{color:d(this,Si,c6),fontSize:d(this,Si,lA)?`calc(${d(this,Si,lA)}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:a});return i},h6=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&d(this,Yl))&&U(this,Si,Sb).call(this)},d6=function(){if(d(this,du)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:i,pageX:a,pageY:r}}}=d(this,d2);let o=!!d(this,ym),u=o?d(this,ym):d(this,f2);for(const L of d(this,vm))if(!u||Ae.intersect(L.data.rect,u)!==null){u=L.data.rect,o=!0;break}const h=Ae.normalizeRect([u[0],t[3]-u[1]+t[1],u[2],t[3]-u[3]+t[1]]),m=o?u[2]-u[0]+5:0,y=h[0]+m,A=h[1];T(this,du,[100*(y-a)/e,100*(A-r)/i]);const{style:w}=d(this,En);w.left=`${d(this,du)[0]}%`,w.top=`${d(this,du)[1]}%`},Sb=function(){T(this,Yl,!d(this,Yl)),d(this,Yl)?(U(this,Si,_b).call(this),d(this,En).addEventListener("click",d(this,mm)),d(this,En).addEventListener("keydown",d(this,gm))):(U(this,Si,cA).call(this),d(this,En).removeEventListener("click",d(this,mm)),d(this,En).removeEventListener("keydown",d(this,gm)))},_b=function(){d(this,gr)||this.render(),this.isVisible?d(this,Yl)&&d(this,En).classList.add("focused"):(U(this,Si,d6).call(this),d(this,En).hidden=!1,d(this,En).style.zIndex=parseInt(d(this,En).style.zIndex)+1e3)},cA=function(){d(this,En).classList.remove("focused"),!(d(this,Yl)||!this.isVisible)&&(d(this,En).hidden=!0,d(this,En).style.zIndex=parseInt(d(this,En).style.zIndex)-1e3)};class f6 extends qn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ue.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const i=document.createElement("span");i.textContent=e,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var p2;class qT extends qn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,p2,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:i,height:a}=this,r=this.svgFactory.create(i,a,!0),o=T(this,p2,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,p2)}addHighlightArea(){this.container.classList.add("highlightArea")}}p2=new WeakMap;var g2;class UT extends qn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,g2,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:i,height:a}=this,r=this.svgFactory.create(i,a,!0),o=e.borderStyle.width,u=T(this,g2,this.svgFactory.createElement("svg:rect"));return u.setAttribute("x",o/2),u.setAttribute("y",o/2),u.setAttribute("width",i-o),u.setAttribute("height",a-o),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),r.append(u),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,g2)}addHighlightArea(){this.container.classList.add("highlightArea")}}g2=new WeakMap;var m2;class HT extends qn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,m2,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:i,height:a}=this,r=this.svgFactory.create(i,a,!0),o=e.borderStyle.width,u=T(this,m2,this.svgFactory.createElement("svg:ellipse"));return u.setAttribute("cx",i/2),u.setAttribute("cy",a/2),u.setAttribute("rx",i/2-o/2),u.setAttribute("ry",a/2-o/2),u.setAttribute("stroke-width",o||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),r.append(u),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,m2)}addHighlightArea(){this.container.classList.add("highlightArea")}}m2=new WeakMap;var b2;class p6 extends qn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,b2,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:i,borderStyle:a,popupRef:r},width:o,height:u}=this;if(!i)return this.container;const h=this.svgFactory.create(o,u,!0);let p=[];for(let y=0,A=i.length;y<A;y+=2){const w=i[y]-e[0],L=e[3]-i[y+1];p.push(`${w},${L}`)}p=p.join(" ");const m=T(this,b2,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",a.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),h.append(m),this.container.append(h),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return d(this,b2)}addHighlightArea(){this.container.classList.add("highlightArea")}}b2=new WeakMap;class GT extends p6{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class VT extends qn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var v2,Xf,y2,uA;class ZA extends qn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});I(this,y2);I(this,v2,null);I(this,Xf,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ue.HIGHLIGHT:Ue.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:i,inkLists:a,borderStyle:r,popupRef:o}}=this,{transform:u,width:h,height:p}=U(this,y2,uA).call(this,i,e),m=this.svgFactory.create(h,p,!0),y=T(this,v2,this.svgFactory.createElement("svg:g"));m.append(y),y.setAttribute("stroke-width",r.width||1),y.setAttribute("stroke-linecap","round"),y.setAttribute("stroke-linejoin","round"),y.setAttribute("stroke-miterlimit",10),y.setAttribute("stroke","transparent"),y.setAttribute("fill","transparent"),y.setAttribute("transform",u);for(let A=0,w=a.length;A<w;A++){const L=this.svgFactory.createElement(this.svgElementName);d(this,Xf).push(L),L.setAttribute("points",a[A].join(",")),y.append(L)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(m),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:i,points:a,rect:r}=e,o=d(this,v2);if(i>=0&&o.setAttribute("stroke-width",i||1),a)for(let u=0,h=d(this,Xf).length;u<h;u++)d(this,Xf)[u].setAttribute("points",a[u].join(","));if(r){const{transform:u,width:h,height:p}=U(this,y2,uA).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${h} ${p}`),o.setAttribute("transform",u)}}getElementsToTriggerPopup(){return d(this,Xf)}addHighlightArea(){this.container.classList.add("highlightArea")}}v2=new WeakMap,Xf=new WeakMap,y2=new WeakSet,uA=function(e,i){switch(e){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class g6 extends qn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ue.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class YT extends qn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class XT extends qn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class WT extends qn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class m6 extends qn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ue.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var w2,A2,hA;class $T extends qn{constructor(e){var a;super(e,{isRenderable:!0});I(this,A2);I(this,w2,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(a=this.linkService.eventBus)==null||a.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:i}=this;let a;i.hasAppearance||i.fillAlpha===0?a=document.createElement("div"):(a=document.createElement("img"),a.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),a.addEventListener("dblclick",U(this,A2,hA).bind(this)),T(this,w2,a);const{isMac:r}=qs.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&U(this,A2,hA).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),e.append(a),e}getElementsToTriggerPopup(){return d(this,w2)}addHighlightArea(){this.container.classList.add("highlightArea")}}w2=new WeakMap,A2=new WeakSet,hA=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var x2,Wf,$h,S2,bd,fA,pA;const ax=class ax{constructor({div:t,accessibilityManager:e,annotationCanvasMap:i,annotationEditorUIManager:a,page:r,viewport:o,structTreeLayer:u}){I(this,bd);I(this,x2,null);I(this,Wf,null);I(this,$h,new Map);I(this,S2,null);this.div=t,T(this,x2,e),T(this,Wf,i),T(this,S2,u||null),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return d(this,$h).size>0}async render(t){var o;const{annotations:e}=t,i=this.div;bp(i,this.viewport);const a=new Map,r={data:null,layer:i,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Qb,annotationStorage:t.annotationStorage||new WA,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of e){if(u.noHTML)continue;const h=u.annotationType===$n.POPUP;if(h){const y=a.get(u.id);if(!y)continue;r.elements=y}else if(u.rect[2]===u.rect[0]||u.rect[3]===u.rect[1])continue;r.data=u;const p=l4.create(r);if(!p.isRenderable)continue;if(!h&&u.popupRef){const y=a.get(u.popupRef);y?y.push(p):a.set(u.popupRef,[p])}const m=p.render();u.hidden&&(m.style.visibility="hidden"),await U(this,bd,fA).call(this,m,u.id,r.elements),p._isEditable&&(d(this,$h).set(p.data.id,p),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(p))}U(this,bd,pA).call(this)}async addLinkAnnotations(t,e){const i={data:null,layer:this.div,linkService:e,svgFactory:new Qb,parent:this};for(const a of t){a.borderStyle||(a.borderStyle=ax._defaultBorderStyle),i.data=a;const r=l4.create(i);if(!r.isRenderable)continue;const o=r.render();await U(this,bd,fA).call(this,o,a.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,bp(e,{rotation:t.rotation}),U(this,bd,pA).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(d(this,$h).values())}getEditableAnnotation(t){return d(this,$h).get(t)}static get _defaultBorderStyle(){return ii(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:pg.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};x2=new WeakMap,Wf=new WeakMap,$h=new WeakMap,S2=new WeakMap,bd=new WeakSet,fA=async function(t,e,i){var u,h;const a=t.firstChild||t,r=a.id=`${VA}${e}`,o=await((u=d(this,S2))==null?void 0:u.getAriaAttributes(r));if(o)for(const[p,m]of o)a.setAttribute(p,m);i?i.at(-1).container.after(t):(this.div.append(t),(h=d(this,x2))==null||h.moveElementInDOM(this.div,t,a,!1))},pA=function(){var e;if(!d(this,Wf))return;const t=this.div;for(const[i,a]of d(this,Wf)){const r=t.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;a.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(a):o.classList.contains("annotationContent")?o.after(a):o.before(a):r.append(a);const u=d(this,$h).get(i);u&&(u._hasNoCanvas?((e=this._annotationEditorUIManager)==null||e.setMissingCanvas(i,r.id,a),u._hasNoCanvas=!1):u.canvas=a)}d(this,Wf).clear()};let dA=ax;const ib=/\r\n?|\n/g;var Qr,mr,_2,$f,br,Zn,b6,v6,y6,Nb,_u,Eb,Lb,w6,mA,A6;const Wi=class Wi extends $i{constructor(e){super({...e,name:"freeTextEditor"});I(this,Zn);I(this,Qr);I(this,mr,"");I(this,_2,`${this.id}-editor`);I(this,$f,null);I(this,br);Wt(this,"_colorPicker",null);T(this,Qr,e.color||Wi._defaultColor||$i._defaultLineColor),T(this,br,e.fontSize||Wi._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const e=Wi.prototype,i=o=>o.isEmpty(),a=vp.TRANSLATE_SMALL,r=vp.TRANSLATE_BIG;return ii(this,"_keyboardManager",new G2([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[a,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,a],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(e,i){$i.initialize(e,i);const a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,i){switch(e){case ui.FREETEXT_SIZE:Wi._defaultFontSize=i;break;case ui.FREETEXT_COLOR:Wi._defaultColor=i;break}}updateParams(e,i){switch(e){case ui.FREETEXT_SIZE:U(this,Zn,b6).call(this,i);break;case ui.FREETEXT_COLOR:U(this,Zn,v6).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ui.FREETEXT_SIZE,Wi._defaultFontSize],[ui.FREETEXT_COLOR,Wi._defaultColor||$i._defaultLineColor]]}get propertiesToUpdate(){return[[ui.FREETEXT_SIZE,d(this,br)],[ui.FREETEXT_COLOR,d(this,Qr)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Kb(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ui.FREETEXT_COLOR}get colorValue(){return d(this,Qr)}_translateEmpty(e,i){this._uiManager.translateSelectedEditors(e,i,!0)}getInitialTranslation(){const e=this.parentScale;return[-Wi._internalPadding*e,-(Wi._internalPadding+d(this,br))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),T(this,$f,new AbortController);const e=this._uiManager.combinedSignal(d(this,$f));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",d(this,_2)),this._isDraggable=!0,(e=d(this,$f))==null||e.abort(),T(this,$f,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var i;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=d(this,mr),i=T(this,mr,U(this,Zn,y6).call(this).trimEnd());if(e===i)return;const a=r=>{if(T(this,mr,r),!r){this.remove();return}U(this,Zn,Lb).call(this),this._uiManager.rebuild(this),U(this,Zn,Nb).call(this)};this.addCommands({cmd:()=>{a(i)},undo:()=>{a(e)},mustExec:!1}),U(this,Zn,Nb).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Wi._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,i;(this._isCopy||this.annotationElementId)&&(e=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",d(this,_2)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:a}=this.editorDiv;if(a.fontSize=`calc(${d(this,br)}px * var(--total-scale-factor))`,a.color=d(this,Qr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,p]=this.getInitialTranslation();[h,p]=this.pageTranslationToScreen(h,p);const[m,y]=this.pageDimensions,[A,w]=this.pageTranslation;let L,N;switch(this.rotation){case 0:L=e+(u[0]-A)/m,N=i+this.height-(u[1]-w)/y;break;case 90:L=e+(u[0]-A)/m,N=i-(u[1]-w)/y,[h,p]=[p,-h];break;case 180:L=e-this.width+(u[0]-A)/m,N=i-(u[1]-w)/y,[h,p]=[-h,-p];break;case 270:L=e+(u[0]-A-this.height*y)/m,N=i+(u[1]-w-this.width*m)/y,[h,p]=[-p,h];break}this.setAt(L*r,N*o,h,p)}else this._moveAfterPaste(e,i);U(this,Zn,Lb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var L,N,M;const i=e.clipboardData||window.clipboardData,{types:a}=i;if(a.length===1&&a[0]==="text/plain")return;e.preventDefault();const r=U(L=Wi,_u,mA).call(L,i.getData("text")||"").replaceAll(ib,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const u=o.getRangeAt(0);if(!r.includes(`
`)){u.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:h,startOffset:p}=u,m=[],y=[];if(h.nodeType===Node.TEXT_NODE){const E=h.parentElement;if(y.push(h.nodeValue.slice(p).replaceAll(ib,"")),E!==this.editorDiv){let R=m;for(const P of this.editorDiv.childNodes){if(P===E){R=y;continue}R.push(U(N=Wi,_u,Eb).call(N,P))}}m.push(h.nodeValue.slice(0,p).replaceAll(ib,""))}else if(h===this.editorDiv){let E=m,R=0;for(const P of this.editorDiv.childNodes)R++===p&&(E=y),E.push(U(M=Wi,_u,Eb).call(M,P))}T(this,mr,`${m.join(`
`)}${r}${y.join(`
`)}`),U(this,Zn,Lb).call(this);const A=new Range;let w=Math.sumPrecise(m.map(E=>E.length));for(const{firstChild:E}of this.editorDiv.childNodes)if(E.nodeType===Node.TEXT_NODE){const R=E.nodeValue.length;if(w<=R){A.setStart(E,w),A.setEnd(E,w);break}w-=R}o.removeAllRanges(),o.addRange(A)}get contentDiv(){return this.editorDiv}static async deserialize(e,i,a){var u;let r=null;if(e instanceof f6){const{data:{defaultAppearanceData:{fontSize:h,fontColor:p},rect:m,rotation:y,id:A,popupRef:w,contentsObj:L},textContent:N,textPosition:M,parent:{page:{pageNumber:E}}}=e;if(!N||N.length===0)return null;r=e={annotationType:Ue.FREETEXT,color:Array.from(p),fontSize:h,value:N.join(`
`),position:M,pageIndex:E-1,rect:m.slice(0),rotation:y,annotationElementId:A,id:A,deleted:!1,popupRef:w,comment:(L==null?void 0:L.str)||null}}const o=await super.deserialize(e,i,a);return T(o,br,e.fontSize),T(o,Qr,Ae.makeHexColor(...e.color)),T(o,mr,U(u=Wi,_u,mA).call(u,e.value)),o._initialData=r,e.comment&&o.setCommentData(e.comment),o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Wi._internalPadding*this.parentScale,a=this.getRect(i,i),r=$i._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:d(this,Qr)),o={annotationType:Ue.FREETEXT,color:r,fontSize:d(this,br),value:U(this,Zn,w6).call(this),pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(o),e?(o.isCopy=!0,o):this.annotationElementId&&!U(this,Zn,A6).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const i=super.renderAnnotationElement(e),{style:a}=i;a.fontSize=`calc(${d(this,br)}px * var(--total-scale-factor))`,a.color=d(this,Qr),i.replaceChildren();for(const u of d(this,mr).split(`
`)){const h=document.createElement("div");h.append(u?document.createTextNode(u):document.createElement("br")),i.append(h)}const r=Wi._internalPadding*this.parentScale,o={rect:this.getRect(r,r)};return o.popup=this.hasEditedComment?this.comment:{text:d(this,mr)},e.updateEdited(o),i}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Qr=new WeakMap,mr=new WeakMap,_2=new WeakMap,$f=new WeakMap,br=new WeakMap,Zn=new WeakSet,b6=function(e){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-d(this,br))*this.parentScale),T(this,br,r),U(this,Zn,Nb).call(this)},a=d(this,br);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ui.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},v6=function(e){const i=r=>{var o;T(this,Qr,this.editorDiv.style.color=r),(o=this._colorPicker)==null||o.update(r)},a=d(this,Qr);this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ui.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},y6=function(){var a;const e=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(U(a=Wi,_u,Eb).call(a,r)),i=r);return e.join(`
`)},Nb=function(){const[e,i]=this.parentDimensions;let a;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,u=o.style.display,h=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),a=o.getBoundingClientRect(),o.remove(),o.style.display=u,o.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=a.width/e,this.height=a.height/i):(this.width=a.height/e,this.height=a.width/i),this.fixAndSetPosition()},_u=new WeakSet,Eb=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(ib,"")},Lb=function(){if(this.editorDiv.replaceChildren(),!!d(this,mr))for(const e of d(this,mr).split(`
`)){const i=document.createElement("div");i.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(i)}},w6=function(){return d(this,mr).replaceAll(""," ")},mA=function(e){return e.replaceAll(" ","")},A6=function(e){const{value:i,fontSize:a,color:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==i||e.fontSize!==a||e.color.some((u,h)=>u!==r[h])||e.pageIndex!==o},I(Wi,_u),Wt(Wi,"_freeTextDefaultContent",""),Wt(Wi,"_internalPadding",0),Wt(Wi,"_defaultColor",null),Wt(Wi,"_defaultFontSize",10),Wt(Wi,"_type","freetext"),Wt(Wi,"_editorType",Ue.FREETEXT);let gA=Wi;class oe{toSVGPath(){qi("Abstract method `toSVGPath` must be implemented.")}get box(){qi("Abstract getter `box` must be implemented.")}serialize(t,e){qi("Abstract method `serialize` must be implemented.")}static _rescale(t,e,i,a,r,o){o||(o=new Float32Array(t.length));for(let u=0,h=t.length;u<h;u+=2)o[u]=e+t[u]*a,o[u+1]=i+t[u+1]*r;return o}static _rescaleAndSwap(t,e,i,a,r,o){o||(o=new Float32Array(t.length));for(let u=0,h=t.length;u<h;u+=2)o[u]=e+t[u+1]*a,o[u+1]=i+t[u]*r;return o}static _translate(t,e,i,a){a||(a=new Float32Array(t.length));for(let r=0,o=t.length;r<o;r+=2)a[r]=e+t[r],a[r+1]=i+t[r+1];return a}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,i,a,r){switch(r){case 90:return[1-e/i,t/a];case 180:return[1-t/i,1-e/a];case 270:return[e/i,1-t/a];default:return[t/i,e/a]}}static _normalizePagePoint(t,e,i){switch(i){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,i,a,r,o){return[(t+5*i)/6,(e+5*a)/6,(5*i+r)/6,(5*a+o)/6,(i+r)/2,(a+o)/2]}}Wt(oe,"PRECISION",1e-4);var vr,qo,Am,xm,Xl,ei,Kf,Qf,N2,E2,Sm,_m,Kh,L2,gv,mv,ls,t0,x6,S6,_6,N6,E6,L6;const Hc=class Hc{constructor({x:t,y:e},i,a,r,o,u=0){I(this,ls);I(this,vr);I(this,qo,[]);I(this,Am);I(this,xm);I(this,Xl,[]);I(this,ei,new Float32Array(18));I(this,Kf);I(this,Qf);I(this,N2);I(this,E2);I(this,Sm);I(this,_m);I(this,Kh,[]);T(this,vr,i),T(this,_m,r*a),T(this,xm,o),d(this,ei).set([NaN,NaN,NaN,NaN,t,e],6),T(this,Am,u),T(this,E2,d(Hc,L2)*a),T(this,N2,d(Hc,mv)*a),T(this,Sm,a),d(this,Kh).push(t,e)}isEmpty(){return isNaN(d(this,ei)[8])}add({x:t,y:e}){var lt;T(this,Kf,t),T(this,Qf,e);const[i,a,r,o]=d(this,vr);let[u,h,p,m]=d(this,ei).subarray(8,12);const y=t-p,A=e-m,w=Math.hypot(y,A);if(w<d(this,N2))return!1;const L=w-d(this,E2),N=L/w,M=N*y,E=N*A;let R=u,P=h;u=p,h=m,p+=M,m+=E,(lt=d(this,Kh))==null||lt.push(t,e);const K=-E/L,X=M/L,st=K*d(this,_m),it=X*d(this,_m);return d(this,ei).set(d(this,ei).subarray(2,8),0),d(this,ei).set([p+st,m+it],4),d(this,ei).set(d(this,ei).subarray(14,18),12),d(this,ei).set([p-st,m-it],16),isNaN(d(this,ei)[6])?(d(this,Xl).length===0&&(d(this,ei).set([u+st,h+it],2),d(this,Xl).push(NaN,NaN,NaN,NaN,(u+st-i)/r,(h+it-a)/o),d(this,ei).set([u-st,h-it],14),d(this,qo).push(NaN,NaN,NaN,NaN,(u-st-i)/r,(h-it-a)/o)),d(this,ei).set([R,P,u,h,p,m],6),!this.isEmpty()):(d(this,ei).set([R,P,u,h,p,m],6),Math.abs(Math.atan2(P-h,R-u)-Math.atan2(E,M))<Math.PI/2?([u,h,p,m]=d(this,ei).subarray(2,6),d(this,Xl).push(NaN,NaN,NaN,NaN,((u+p)/2-i)/r,((h+m)/2-a)/o),[u,h,R,P]=d(this,ei).subarray(14,18),d(this,qo).push(NaN,NaN,NaN,NaN,((R+u)/2-i)/r,((P+h)/2-a)/o),!0):([R,P,u,h,p,m]=d(this,ei).subarray(0,6),d(this,Xl).push(((R+5*u)/6-i)/r,((P+5*h)/6-a)/o,((5*u+p)/6-i)/r,((5*h+m)/6-a)/o,((u+p)/2-i)/r,((h+m)/2-a)/o),[p,m,u,h,R,P]=d(this,ei).subarray(12,18),d(this,qo).push(((R+5*u)/6-i)/r,((P+5*h)/6-a)/o,((5*u+p)/6-i)/r,((5*h+m)/6-a)/o,((u+p)/2-i)/r,((h+m)/2-a)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=d(this,Xl),e=d(this,qo);if(isNaN(d(this,ei)[6])&&!this.isEmpty())return U(this,ls,x6).call(this);const i=[];i.push(`M${t[4]} ${t[5]}`);for(let a=6;a<t.length;a+=6)isNaN(t[a])?i.push(`L${t[a+4]} ${t[a+5]}`):i.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);U(this,ls,_6).call(this,i);for(let a=e.length-6;a>=6;a-=6)isNaN(e[a])?i.push(`L${e[a+4]} ${e[a+5]}`):i.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);return U(this,ls,S6).call(this,i),i.join(" ")}newFreeDrawOutline(t,e,i,a,r,o){return new C6(t,e,i,a,r,o)}getOutlines(){var y;const t=d(this,Xl),e=d(this,qo),i=d(this,ei),[a,r,o,u]=d(this,vr),h=new Float32Array((((y=d(this,Kh))==null?void 0:y.length)??0)+2);for(let A=0,w=h.length-2;A<w;A+=2)h[A]=(d(this,Kh)[A]-a)/o,h[A+1]=(d(this,Kh)[A+1]-r)/u;if(h[h.length-2]=(d(this,Kf)-a)/o,h[h.length-1]=(d(this,Qf)-r)/u,isNaN(i[6])&&!this.isEmpty())return U(this,ls,N6).call(this,h);const p=new Float32Array(d(this,Xl).length+24+d(this,qo).length);let m=t.length;for(let A=0;A<m;A+=2){if(isNaN(t[A])){p[A]=p[A+1]=NaN;continue}p[A]=t[A],p[A+1]=t[A+1]}m=U(this,ls,L6).call(this,p,m);for(let A=e.length-6;A>=6;A-=6)for(let w=0;w<6;w+=2){if(isNaN(e[A+w])){p[m]=p[m+1]=NaN,m+=2;continue}p[m]=e[A+w],p[m+1]=e[A+w+1],m+=2}return U(this,ls,E6).call(this,p,m),this.newFreeDrawOutline(p,h,d(this,vr),d(this,Sm),d(this,Am),d(this,xm))}};vr=new WeakMap,qo=new WeakMap,Am=new WeakMap,xm=new WeakMap,Xl=new WeakMap,ei=new WeakMap,Kf=new WeakMap,Qf=new WeakMap,N2=new WeakMap,E2=new WeakMap,Sm=new WeakMap,_m=new WeakMap,Kh=new WeakMap,L2=new WeakMap,gv=new WeakMap,mv=new WeakMap,ls=new WeakSet,t0=function(){const t=d(this,ei).subarray(4,6),e=d(this,ei).subarray(16,18),[i,a,r,o]=d(this,vr);return[(d(this,Kf)+(t[0]-e[0])/2-i)/r,(d(this,Qf)+(t[1]-e[1])/2-a)/o,(d(this,Kf)+(e[0]-t[0])/2-i)/r,(d(this,Qf)+(e[1]-t[1])/2-a)/o]},x6=function(){const[t,e,i,a]=d(this,vr),[r,o,u,h]=U(this,ls,t0).call(this);return`M${(d(this,ei)[2]-t)/i} ${(d(this,ei)[3]-e)/a} L${(d(this,ei)[4]-t)/i} ${(d(this,ei)[5]-e)/a} L${r} ${o} L${u} ${h} L${(d(this,ei)[16]-t)/i} ${(d(this,ei)[17]-e)/a} L${(d(this,ei)[14]-t)/i} ${(d(this,ei)[15]-e)/a} Z`},S6=function(t){const e=d(this,qo);t.push(`L${e[4]} ${e[5]} Z`)},_6=function(t){const[e,i,a,r]=d(this,vr),o=d(this,ei).subarray(4,6),u=d(this,ei).subarray(16,18),[h,p,m,y]=U(this,ls,t0).call(this);t.push(`L${(o[0]-e)/a} ${(o[1]-i)/r} L${h} ${p} L${m} ${y} L${(u[0]-e)/a} ${(u[1]-i)/r}`)},N6=function(t){const e=d(this,ei),[i,a,r,o]=d(this,vr),[u,h,p,m]=U(this,ls,t0).call(this),y=new Float32Array(36);return y.set([NaN,NaN,NaN,NaN,(e[2]-i)/r,(e[3]-a)/o,NaN,NaN,NaN,NaN,(e[4]-i)/r,(e[5]-a)/o,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(e[16]-i)/r,(e[17]-a)/o,NaN,NaN,NaN,NaN,(e[14]-i)/r,(e[15]-a)/o],0),this.newFreeDrawOutline(y,t,d(this,vr),d(this,Sm),d(this,Am),d(this,xm))},E6=function(t,e){const i=d(this,qo);return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],e),e+=6},L6=function(t,e){const i=d(this,ei).subarray(4,6),a=d(this,ei).subarray(16,18),[r,o,u,h]=d(this,vr),[p,m,y,A]=U(this,ls,t0).call(this);return t.set([NaN,NaN,NaN,NaN,(i[0]-r)/u,(i[1]-o)/h,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,y,A,NaN,NaN,NaN,NaN,(a[0]-r)/u,(a[1]-o)/h],e),e+=24},I(Hc,L2,8),I(Hc,gv,2),I(Hc,mv,d(Hc,L2)+d(Hc,gv));let Zb=Hc;var Nm,Zf,pu,C2,yr,T2,Fn,bv,T6;class C6 extends oe{constructor(e,i,a,r,o,u){super();I(this,bv);I(this,Nm);I(this,Zf,new Float32Array(4));I(this,pu);I(this,C2);I(this,yr);I(this,T2);I(this,Fn);T(this,Fn,e),T(this,yr,i),T(this,Nm,a),T(this,T2,r),T(this,pu,o),T(this,C2,u),this.lastPoint=[NaN,NaN],U(this,bv,T6).call(this,u);const[h,p,m,y]=d(this,Zf);for(let A=0,w=e.length;A<w;A+=2)e[A]=(e[A]-h)/m,e[A+1]=(e[A+1]-p)/y;for(let A=0,w=i.length;A<w;A+=2)i[A]=(i[A]-h)/m,i[A+1]=(i[A+1]-p)/y}toSVGPath(){const e=[`M${d(this,Fn)[4]} ${d(this,Fn)[5]}`];for(let i=6,a=d(this,Fn).length;i<a;i+=6){if(isNaN(d(this,Fn)[i])){e.push(`L${d(this,Fn)[i+4]} ${d(this,Fn)[i+5]}`);continue}e.push(`C${d(this,Fn)[i]} ${d(this,Fn)[i+1]} ${d(this,Fn)[i+2]} ${d(this,Fn)[i+3]} ${d(this,Fn)[i+4]} ${d(this,Fn)[i+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,i,a,r],o){const u=a-e,h=r-i;let p,m;switch(o){case 0:p=oe._rescale(d(this,Fn),e,r,u,-h),m=oe._rescale(d(this,yr),e,r,u,-h);break;case 90:p=oe._rescaleAndSwap(d(this,Fn),e,i,u,h),m=oe._rescaleAndSwap(d(this,yr),e,i,u,h);break;case 180:p=oe._rescale(d(this,Fn),a,i,-u,h),m=oe._rescale(d(this,yr),a,i,-u,h);break;case 270:p=oe._rescaleAndSwap(d(this,Fn),a,r,-u,-h),m=oe._rescaleAndSwap(d(this,yr),a,r,-u,-h);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return d(this,Zf)}newOutliner(e,i,a,r,o,u=0){return new Zb(e,i,a,r,o,u)}getNewOutline(e,i){const[a,r,o,u]=d(this,Zf),[h,p,m,y]=d(this,Nm),A=o*m,w=u*y,L=a*m+h,N=r*y+p,M=this.newOutliner({x:d(this,yr)[0]*A+L,y:d(this,yr)[1]*w+N},d(this,Nm),d(this,T2),e,d(this,C2),i??d(this,pu));for(let E=2;E<d(this,yr).length;E+=2)M.add({x:d(this,yr)[E]*A+L,y:d(this,yr)[E+1]*w+N});return M.getOutlines()}}Nm=new WeakMap,Zf=new WeakMap,pu=new WeakMap,C2=new WeakMap,yr=new WeakMap,T2=new WeakMap,Fn=new WeakMap,bv=new WeakSet,T6=function(e){const i=d(this,Fn);let a=i[4],r=i[5];const o=[a,r,a,r];let u=a,h=r;const p=e?Math.max:Math.min;for(let y=6,A=i.length;y<A;y+=6){const w=i[y+4],L=i[y+5];if(isNaN(i[y]))Ae.pointBoundingBox(w,L,o),h<L?(u=w,h=L):h===L&&(u=p(u,w));else{const N=[1/0,1/0,-1/0,-1/0];Ae.bezierBoundingBox(a,r,...i.slice(y,y+6),N),Ae.rectBoundingBox(...N,o),h<N[3]?(u=N[2],h=N[3]):h===N[3]&&(u=p(u,N[2]))}a=w,r=L}const m=d(this,Zf);m[0]=o[0]-d(this,pu),m[1]=o[1]-d(this,pu),m[2]=o[2]-o[0]+2*d(this,pu),m[3]=o[3]-o[1]+2*d(this,pu),this.lastPoint=[u,h]};var M2,k2,Qh,Uo,Ta,M6,Cb,k6,R6,vA;class bA{constructor(t,e=0,i=0,a=!0){I(this,Ta);I(this,M2);I(this,k2);I(this,Qh,[]);I(this,Uo,[]);const r=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:w,y:L,width:N,height:M}of t){const E=Math.floor((w-e)/o)*o,R=Math.ceil((w+N+e)/o)*o,P=Math.floor((L-e)/o)*o,K=Math.ceil((L+M+e)/o)*o,X=[E,P,K,!0],st=[R,P,K,!1];d(this,Qh).push(X,st),Ae.rectBoundingBox(E,P,R,K,r)}const u=r[2]-r[0]+2*i,h=r[3]-r[1]+2*i,p=r[0]-i,m=r[1]-i,y=d(this,Qh).at(a?-1:-2),A=[y[0],y[2]];for(const w of d(this,Qh)){const[L,N,M]=w;w[0]=(L-p)/u,w[1]=(N-m)/h,w[2]=(M-m)/h}T(this,M2,new Float32Array([p,m,u,h])),T(this,k2,A)}getOutlines(){d(this,Qh).sort((e,i)=>e[0]-i[0]||e[1]-i[1]||e[2]-i[2]);const t=[];for(const e of d(this,Qh))e[3]?(t.push(...U(this,Ta,vA).call(this,e)),U(this,Ta,k6).call(this,e)):(U(this,Ta,R6).call(this,e),t.push(...U(this,Ta,vA).call(this,e)));return U(this,Ta,M6).call(this,t)}}M2=new WeakMap,k2=new WeakMap,Qh=new WeakMap,Uo=new WeakMap,Ta=new WeakSet,M6=function(t){const e=[],i=new Set;for(const o of t){const[u,h,p]=o;e.push([u,h,o],[u,p,o])}e.sort((o,u)=>o[1]-u[1]||o[0]-u[0]);for(let o=0,u=e.length;o<u;o+=2){const h=e[o][2],p=e[o+1][2];h.push(p),p.push(h),i.add(h),i.add(p)}const a=[];let r;for(;i.size>0;){const o=i.values().next().value;let[u,h,p,m,y]=o;i.delete(o);let A=u,w=h;for(r=[u,p],a.push(r);;){let L;if(i.has(m))L=m;else if(i.has(y))L=y;else break;i.delete(L),[u,h,p,m,y]=L,A!==u&&(r.push(A,w,u,w===h?h:p),A=u),w=w===h?p:h}r.push(A,w)}return new KT(a,d(this,M2),d(this,k2))},Cb=function(t){const e=d(this,Uo);let i=0,a=e.length-1;for(;i<=a;){const r=i+a>>1,o=e[r][0];if(o===t)return r;o<t?i=r+1:a=r-1}return a+1},k6=function([,t,e]){const i=U(this,Ta,Cb).call(this,t);d(this,Uo).splice(i,0,[t,e])},R6=function([,t,e]){const i=U(this,Ta,Cb).call(this,t);for(let a=i;a<d(this,Uo).length;a++){const[r,o]=d(this,Uo)[a];if(r!==t)break;if(r===t&&o===e){d(this,Uo).splice(a,1);return}}for(let a=i-1;a>=0;a--){const[r,o]=d(this,Uo)[a];if(r!==t)break;if(r===t&&o===e){d(this,Uo).splice(a,1);return}}},vA=function(t){const[e,i,a]=t,r=[[e,i,a]],o=U(this,Ta,Cb).call(this,a);for(let u=0;u<o;u++){const[h,p]=d(this,Uo)[u];for(let m=0,y=r.length;m<y;m++){const[,A,w]=r[m];if(!(p<=A||w<=h)){if(A>=h){if(w>p)r[m][1]=p;else{if(y===1)return[];r.splice(m,1),m--,y--}continue}r[m][2]=h,w>p&&r.push([e,p,w])}}}return r};var R2,Em;class KT extends oe{constructor(e,i,a){super();I(this,R2);I(this,Em);T(this,Em,e),T(this,R2,i),this.lastPoint=a}toSVGPath(){const e=[];for(const i of d(this,Em)){let[a,r]=i;e.push(`M${a} ${r}`);for(let o=2;o<i.length;o+=2){const u=i[o],h=i[o+1];u===a?(e.push(`V${h}`),r=h):h===r&&(e.push(`H${u}`),a=u)}e.push("Z")}return e.join(" ")}serialize([e,i,a,r],o){const u=[],h=a-e,p=r-i;for(const m of d(this,Em)){const y=new Array(m.length);for(let A=0;A<m.length;A+=2)y[A]=e+m[A]*h,y[A+1]=r-m[A+1]*p;u.push(y)}return u}get box(){return d(this,R2)}get classNamesForOutlining(){return["highlightOutline"]}}R2=new WeakMap,Em=new WeakMap;class yA extends Zb{newFreeDrawOutline(t,e,i,a,r,o){return new QT(t,e,i,a,r,o)}}class QT extends C6{newOutliner(t,e,i,a,r,o=0){return new yA(t,e,i,a,r,o)}}var Lm,D2,gu,Jf,P2,Ga,O2,j2,tp,Zr,wr,js,Cm,mu,oa,Tm,Jr,F2,Ve,wA,Tb,D6,P6,O6,AA,rf,eo,wg,j6,Mb,e0,F6,I6,B6,z6,q6;const _i=class _i extends $i{constructor(e){super({...e,name:"highlightEditor"});I(this,Ve);I(this,Lm,null);I(this,D2,0);I(this,gu);I(this,Jf,null);I(this,P2,null);I(this,Ga,null);I(this,O2,null);I(this,j2,0);I(this,tp,null);I(this,Zr,null);I(this,wr,null);I(this,js,!1);I(this,Cm,null);I(this,mu);I(this,oa,null);I(this,Tm,"");I(this,Jr);I(this,F2,"");this.color=e.color||_i._defaultColor,T(this,Jr,e.thickness||_i._defaultThickness),T(this,mu,e.opacity||_i._defaultOpacity),T(this,gu,e.boxes||null),T(this,F2,e.methodOfCreation||""),T(this,Tm,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(T(this,js,!0),U(this,Ve,Tb).call(this,e),U(this,Ve,rf).call(this)):d(this,gu)&&(T(this,Lm,e.anchorNode),T(this,D2,e.anchorOffset),T(this,O2,e.focusNode),T(this,j2,e.focusOffset),U(this,Ve,wA).call(this),U(this,Ve,rf).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const e=_i.prototype;return ii(this,"_keyboardManager",new G2([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:d(this,js)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:d(this,Jr),methodOfCreation:d(this,F2)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,i){var a;$i.initialize(e,i),_i._defaultColor||(_i._defaultColor=((a=i.highlightColors)==null?void 0:a.values().next().value)||"#fff066")}static updateDefaultParams(e,i){switch(e){case ui.HIGHLIGHT_COLOR:_i._defaultColor=i;break;case ui.HIGHLIGHT_THICKNESS:_i._defaultThickness=i;break}}translateInPage(e,i){}get toolbarPosition(){return d(this,Cm)}updateParams(e,i){switch(e){case ui.HIGHLIGHT_COLOR:U(this,Ve,D6).call(this,i);break;case ui.HIGHLIGHT_THICKNESS:U(this,Ve,P6).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[ui.HIGHLIGHT_COLOR,_i._defaultColor],[ui.HIGHLIGHT_THICKNESS,_i._defaultThickness]]}get propertiesToUpdate(){return[[ui.HIGHLIGHT_COLOR,this.color||_i._defaultColor],[ui.HIGHLIGHT_THICKNESS,d(this,Jr)||_i._defaultThickness],[ui.HIGHLIGHT_FREE,d(this,js)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",T(this,P2,new $b({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(U(this,Ve,e0).call(this))}getBaseTranslation(){return[0,0]}getRect(e,i){return super.getRect(e,i,U(this,Ve,e0).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){U(this,Ve,AA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,Ve,rf).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let i=!1;this.parent&&!e?U(this,Ve,AA).call(this):e&&(U(this,Ve,rf).call(this,e),i=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),i&&this.select()}rotate(e){var r,o,u;const{drawLayer:i}=this.parent;let a;d(this,js)?(e=(e-this.rotation+360)%360,a=U(r=_i,eo,wg).call(r,d(this,Zr).box,e)):a=U(o=_i,eo,wg).call(o,[this.x,this.y,this.width,this.height],e),i.updateProperties(d(this,wr),{bbox:a,root:{"data-main-rotation":e}}),i.updateProperties(d(this,oa),{bbox:U(u=_i,eo,wg).call(u,d(this,Ga).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();d(this,Tm)&&(e.setAttribute("aria-label",d(this,Tm)),e.setAttribute("role","mark")),d(this,js)?e.classList.add("free"):this.div.addEventListener("keydown",U(this,Ve,j6).bind(this),{signal:this._uiManager._signal});const i=T(this,tp,document.createElement("div"));e.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=d(this,Jf);const[a,r]=this.parentDimensions;return this.setDims(this.width*a,this.height*r),o_(this,d(this,tp),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,oa),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||(e=this.parent)==null||e.drawLayer.updateProperties(d(this,oa),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:U(this,Ve,Mb).call(this,!0);break;case 1:case 3:U(this,Ve,Mb).call(this,!1);break}}select(){var e;super.select(),d(this,oa)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,oa),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),d(this,oa)&&((e=this.parent)==null||e.drawLayer.updateProperties(d(this,oa),{rootClass:{selected:!1}}),d(this,js)||U(this,Ve,Mb).call(this,!1))}get _mustFixPosition(){return!d(this,js)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(d(this,wr),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(d(this,oa),{rootClass:{hidden:!e}}))}static startHighlighting(e,i,{target:a,x:r,y:o}){const{x:u,y:h,width:p,height:m}=a.getBoundingClientRect(),y=new AbortController,A=e.combinedSignal(y),w=L=>{y.abort(),U(this,eo,z6).call(this,e,L)};window.addEventListener("blur",w,{signal:A}),window.addEventListener("pointerup",w,{signal:A}),window.addEventListener("pointerdown",Kn,{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",no,{signal:A}),a.addEventListener("pointermove",U(this,eo,B6).bind(this,e),{signal:A}),this._freeHighlight=new yA({x:r,y:o},[u,h,p,m],e.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(e,i,a){var N,M,E,R;let r=null;if(e instanceof g6){const{data:{quadPoints:P,rect:K,rotation:X,id:st,color:it,opacity:W,popupRef:lt,contentsObj:yt},parent:{page:{pageNumber:H}}}=e;r=e={annotationType:Ue.HIGHLIGHT,color:Array.from(it),opacity:W,quadPoints:P,boxes:null,pageIndex:H-1,rect:K.slice(0),rotation:X,annotationElementId:st,id:st,deleted:!1,popupRef:lt,comment:(yt==null?void 0:yt.str)||null}}else if(e instanceof ZA){const{data:{inkLists:P,rect:K,rotation:X,id:st,color:it,borderStyle:{rawWidth:W},popupRef:lt,contentsObj:yt},parent:{page:{pageNumber:H}}}=e;r=e={annotationType:Ue.HIGHLIGHT,color:Array.from(it),thickness:W,inkLists:P,boxes:null,pageIndex:H-1,rect:K.slice(0),rotation:X,annotationElementId:st,id:st,deleted:!1,popupRef:lt,comment:(yt==null?void 0:yt.str)||null}}const{color:o,quadPoints:u,inkLists:h,opacity:p}=e,m=await super.deserialize(e,i,a);m.color=Ae.makeHexColor(...o),T(m,mu,p||1),h&&T(m,Jr,e.thickness),m._initialData=r,e.comment&&m.setCommentData(e.comment);const[y,A]=m.pageDimensions,[w,L]=m.pageTranslation;if(u){const P=T(m,gu,[]);for(let K=0;K<u.length;K+=8)P.push({x:(u[K]-w)/y,y:1-(u[K+1]-L)/A,width:(u[K+2]-u[K])/y,height:(u[K+1]-u[K+5])/A});U(N=m,Ve,wA).call(N),U(M=m,Ve,rf).call(M),m.rotate(m.rotation)}else if(h){T(m,js,!0);const P=h[0],K={x:P[0]-w,y:A-(P[1]-L)},X=new yA(K,[0,0,y,A],1,d(m,Jr)/2,!0,.001);for(let W=0,lt=P.length;W<lt;W+=2)K.x=P[W]-w,K.y=A-(P[W+1]-L),X.add(K);const{id:st,clipPathId:it}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:m.color,"fill-opacity":m._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:X.toSVGPath()}},!0,!0);U(E=m,Ve,Tb).call(E,{highlightOutlines:X.getOutlines(),highlightId:st,clipPathId:it}),U(R=m,Ve,rf).call(R),m.rotate(m.parentRotation)}return m}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),a=$i._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r={annotationType:Ue.HIGHLIGHT,color:a,opacity:d(this,mu),thickness:d(this,Jr),quadPoints:U(this,Ve,F6).call(this),outlines:U(this,Ve,I6).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:U(this,Ve,e0).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(r),this.annotationElementId&&!U(this,Ve,q6).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){const i={rect:this.getRect(0,0)};return this.hasEditedComment&&(i.popup=this.comment),e.updateEdited(i),null}static canCreateNewEmptyEditor(){return!1}};Lm=new WeakMap,D2=new WeakMap,gu=new WeakMap,Jf=new WeakMap,P2=new WeakMap,Ga=new WeakMap,O2=new WeakMap,j2=new WeakMap,tp=new WeakMap,Zr=new WeakMap,wr=new WeakMap,js=new WeakMap,Cm=new WeakMap,mu=new WeakMap,oa=new WeakMap,Tm=new WeakMap,Jr=new WeakMap,F2=new WeakMap,Ve=new WeakSet,wA=function(){const e=new bA(d(this,gu),.001);T(this,Zr,e.getOutlines()),[this.x,this.y,this.width,this.height]=d(this,Zr).box;const i=new bA(d(this,gu),.0025,.001,this._uiManager.direction==="ltr");T(this,Ga,i.getOutlines());const{lastPoint:a}=d(this,Ga);T(this,Cm,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},Tb=function({highlightOutlines:e,highlightId:i,clipPathId:a}){var y,A;if(T(this,Zr,e),T(this,Ga,e.getNewOutline(d(this,Jr)/2+1.5,.0025)),i>=0)T(this,wr,i),T(this,Jf,a),this.parent.drawLayer.finalizeDraw(i,{bbox:e.box,path:{d:e.toSVGPath()}}),T(this,oa,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:d(this,Ga).box,path:{d:d(this,Ga).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(d(this,wr),{bbox:U(y=_i,eo,wg).call(y,d(this,Zr).box,(w-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(d(this,oa),{bbox:U(A=_i,eo,wg).call(A,d(this,Ga).box,w),path:{d:d(this,Ga).toSVGPath()}})}const[o,u,h,p]=e.box;switch(this.rotation){case 0:this.x=o,this.y=u,this.width=h,this.height=p;break;case 90:{const[w,L]=this.parentDimensions;this.x=u,this.y=1-o,this.width=h*L/w,this.height=p*w/L;break}case 180:this.x=1-o,this.y=1-u,this.width=h,this.height=p;break;case 270:{const[w,L]=this.parentDimensions;this.x=1-u,this.y=o,this.width=h*L/w,this.height=p*w/L;break}}const{lastPoint:m}=d(this,Ga);T(this,Cm,[(m[0]-o)/h,(m[1]-u)/p])},D6=function(e){const i=(o,u)=>{var h,p;this.color=o,T(this,mu,u),(h=this.parent)==null||h.drawLayer.updateProperties(d(this,wr),{root:{fill:o,"fill-opacity":u}}),(p=d(this,P2))==null||p.updateColor(o)},a=this.color,r=d(this,mu);this.addCommands({cmd:i.bind(this,e,_i._defaultOpacity),undo:i.bind(this,a,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ui.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},P6=function(e){const i=d(this,Jr),a=r=>{T(this,Jr,r),U(this,Ve,O6).call(this,r)};this.addCommands({cmd:a.bind(this,e),undo:a.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ui.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},O6=function(e){if(!d(this,js))return;U(this,Ve,Tb).call(this,{highlightOutlines:d(this,Zr).getNewOutline(e/2)}),this.fixAndSetPosition();const[i,a]=this.parentDimensions;this.setDims(this.width*i,this.height*a)},AA=function(){d(this,wr)===null||!this.parent||(this.parent.drawLayer.remove(d(this,wr)),T(this,wr,null),this.parent.drawLayer.remove(d(this,oa)),T(this,oa,null))},rf=function(e=this.parent){d(this,wr)===null&&({id:wa(this,wr)._,clipPathId:wa(this,Jf)._}=e.drawLayer.draw({bbox:d(this,Zr).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":d(this,mu)},rootClass:{highlight:!0,free:d(this,js)},path:{d:d(this,Zr).toSVGPath()}},!1,!0),T(this,oa,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:d(this,js)},bbox:d(this,Ga).box,path:{d:d(this,Ga).toSVGPath()}},d(this,js))),d(this,tp)&&(d(this,tp).style.clipPath=d(this,Jf)))},eo=new WeakSet,wg=function([e,i,a,r],o){switch(o){case 90:return[1-i-r,e,r,a];case 180:return[1-e-a,1-i-r,a,r];case 270:return[i,1-e-a,r,a]}return[e,i,a,r]},j6=function(e){_i._keyboardManager.exec(this,e)},Mb=function(e){if(!d(this,Lm))return;const i=window.getSelection();e?i.setPosition(d(this,Lm),d(this,D2)):i.setPosition(d(this,O2),d(this,j2))},e0=function(){return d(this,js)?this.rotation:0},F6=function(){if(d(this,js))return null;const[e,i]=this.pageDimensions,[a,r]=this.pageTranslation,o=d(this,gu),u=new Float32Array(o.length*8);let h=0;for(const{x:p,y:m,width:y,height:A}of o){const w=p*e+a,L=(1-m)*i+r;u[h]=u[h+4]=w,u[h+1]=u[h+3]=L,u[h+2]=u[h+6]=w+y*e,u[h+5]=u[h+7]=L-A*i,h+=8}return u},I6=function(e){return d(this,Zr).serialize(e,U(this,Ve,e0).call(this))},B6=function(e,i){this._freeHighlight.add(i)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},z6=function(e,i){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},q6=function(e){const{color:i}=this._initialData;return this.hasEditedComment||e.color.some((a,r)=>a!==i[r])},I(_i,eo),Wt(_i,"_defaultColor",null),Wt(_i,"_defaultOpacity",1),Wt(_i,"_defaultThickness",12),Wt(_i,"_type","highlight"),Wt(_i,"_editorType",Ue.HIGHLIGHT),Wt(_i,"_freeHighlightId",-1),Wt(_i,"_freeHighlight",null),Wt(_i,"_freeHighlightClipId","");let Jb=_i;var ep;class U6{constructor(){I(this,ep,Object.create(null))}updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,i]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,i)}updateSVGProperty(t,e){d(this,ep)[t]=e}toSVGProperties(){const t=d(this,ep);return T(this,ep,Object.create(null)),{root:t}}reset(){T(this,ep,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){qi("Not implemented")}}ep=new WeakMap;var Ar,Mm,ys,ip,np,Zh,Jh,td,sp,mi,xA,SA,_A,i0,H6,kb,n0,Ag;const le=class le extends $i{constructor(e){super(e);I(this,mi);I(this,Ar,null);I(this,Mm);Wt(this,"_colorPicker",null);Wt(this,"_drawId",null);T(this,Mm,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(U(this,mi,xA).call(this,e),U(this,mi,i0).call(this))}static _mergeSVGProperties(e,i){const a=new Set(Object.keys(e));for(const[r,o]of Object.entries(i))a.has(r)?Object.assign(e[r],o):e[r]=o;return e}static getDefaultDrawingOptions(e){qi("Not implemented")}static get typesMap(){qi("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,i){const a=this.typesMap.get(e);a&&this._defaultDrawingOptions.updateProperty(a,i),this._currentParent&&(d(le,ys).updateProperty(a,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,i){const a=this.constructor.typesMap.get(e);a&&this._updateProperty(e,a,i)}static get defaultPropertiesToUpdate(){const e=[],i=this._defaultDrawingOptions;for(const[a,r]of this.typesMap)e.push([a,i[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:i}=this;for(const[a,r]of this.constructor.typesMap)e.push([a,i[r]]);return e}_updateProperty(e,i,a){const r=this._drawingOptions,o=r[i],u=h=>{var m,y;r.updateProperty(i,h);const p=d(this,Ar).updateProperty(i,h);p&&U(this,mi,n0).call(this,p),(m=this.parent)==null||m.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&((y=this._colorPicker)==null||y.update(h))};this.addCommands({cmd:u.bind(this,a),undo:u.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties(d(this,Ar).getPathResizingSVGProperties(U(this,mi,kb).call(this)),{bbox:U(this,mi,Ag).call(this)}))}_onResized(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties(d(this,Ar).getPathResizedSVGProperties(U(this,mi,kb).call(this)),{bbox:U(this,mi,Ag).call(this)}))}_onTranslating(e,i){var a;(a=this.parent)==null||a.drawLayer.updateProperties(this._drawId,{bbox:U(this,mi,Ag).call(this)})}_onTranslated(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties(d(this,Ar).getPathTranslatedSVGProperties(U(this,mi,kb).call(this),this.parentDimensions),{bbox:U(this,mi,Ag).call(this)}))}_onStartDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;(e=this.parent)==null||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,d(this,Mm)&&(T(this,Mm,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){U(this,mi,_A).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(U(this,mi,i0).call(this),U(this,mi,n0).call(this,d(this,Ar).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var a;let i=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),U(this,mi,_A).call(this)):e&&(this._uiManager.addShouldRescale(this),U(this,mi,i0).call(this,e),i=!this.parent&&((a=this.div)==null?void 0:a.classList.contains("selectedEditor"))),super.setParent(e),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,le._mergeSVGProperties({bbox:U(this,mi,Ag).call(this)},d(this,Ar).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&U(this,mi,n0).call(this,d(this,Ar).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,i;this._isCopy&&(e=this.x,i=this.y);const a=super.render();a.classList.add("draw");const r=document.createElement("div");a.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[o,u]=this.parentDimensions;return this.setDims(this.width*o,this.height*u),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,i),a}static createDrawerInstance(e,i,a,r,o){qi("Not implemented")}static startDrawing(e,i,a,r){var M;const{target:o,offsetX:u,offsetY:h,pointerId:p,pointerType:m}=r;if(d(le,Jh)&&d(le,Jh)!==m)return;const{viewport:{rotation:y}}=e,{width:A,height:w}=o.getBoundingClientRect(),L=T(le,ip,new AbortController),N=e.combinedSignal(L);if(d(le,Zh)||T(le,Zh,p),d(le,Jh)??T(le,Jh,m),window.addEventListener("pointerup",E=>{var R;d(le,Zh)===E.pointerId?this._endDraw(E):(R=d(le,td))==null||R.delete(E.pointerId)},{signal:N}),window.addEventListener("pointercancel",E=>{var R;d(le,Zh)===E.pointerId?this._currentParent.endDrawingSession():(R=d(le,td))==null||R.delete(E.pointerId)},{signal:N}),window.addEventListener("pointerdown",E=>{d(le,Jh)===E.pointerType&&((d(le,td)||T(le,td,new Set)).add(E.pointerId),d(le,ys).isCancellable()&&(d(le,ys).removeLastElement(),d(le,ys).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:N}),window.addEventListener("contextmenu",no,{signal:N}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:N}),o.addEventListener("touchmove",E=>{E.timeStamp===d(le,sp)&&Kn(E)},{signal:N}),e.toggleDrawing(),(M=i._editorUndoBar)==null||M.hide(),d(le,ys)){e.drawLayer.updateProperties(this._currentDrawId,d(le,ys).startNew(u,h,A,w,y));return}i.updateUIForDefaultProperties(this),T(le,ys,this.createDrawerInstance(u,h,A,w,y)),T(le,np,this.getDefaultDrawingOptions()),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(d(le,np).toSVGProperties(),d(le,ys).defaultSVGProperties),!0,!1)}static _drawMove(e){var o;if(T(le,sp,-1),!d(le,ys))return;const{offsetX:i,offsetY:a,pointerId:r}=e;if(d(le,Zh)===r){if(((o=d(le,td))==null?void 0:o.size)>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,d(le,ys).add(i,a)),T(le,sp,e.timeStamp),Kn(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,T(le,ys,null),T(le,np,null),T(le,Jh,null),T(le,sp,NaN)),d(le,ip)&&(d(le,ip).abort(),T(le,ip,null),T(le,Zh,NaN),T(le,td,null))}static _endDraw(e){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(e==null?void 0:e.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,d(le,ys).end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const a=d(le,ys),r=this._currentDrawId,o=a.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,a.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(r,a.removeLastElement())},mustExec:!1,type:ui.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(ui.DRAW_STEP),!d(le,ys).isEmpty()){const{pageDimensions:[a,r],scale:o}=i,u=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:d(le,ys).getOutlines(a*o,r*o,o,this._INNER_MARGIN),drawingOptions:d(le,np),mustBeCommitted:!e});return this._cleanup(!0),u}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,i,a,r,o,u){qi("Not implemented")}static async deserialize(e,i,a){var y,A;const{rawDims:{pageWidth:r,pageHeight:o,pageX:u,pageY:h}}=i.viewport,p=this.deserializeDraw(u,h,r,o,this._INNER_MARGIN,e),m=await super.deserialize(e,i,a);return m.createDrawingOptions(e),U(y=m,mi,xA).call(y,{drawOutlines:p}),U(A=m,mi,i0).call(A),m.onScaleChanging(),m.rotate(),m}serializeDraw(e){const[i,a]=this.pageTranslation,[r,o]=this.pageDimensions;return d(this,Ar).serialize([i,a,r,o],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Ar=new WeakMap,Mm=new WeakMap,ys=new WeakMap,ip=new WeakMap,np=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,td=new WeakMap,sp=new WeakMap,mi=new WeakSet,xA=function({drawOutlines:e,drawId:i,drawingOptions:a}){T(this,Ar,e),this._drawingOptions||(this._drawingOptions=a),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,e.defaultProperties)):this._drawId=U(this,mi,SA).call(this,e,this.parent),U(this,mi,n0).call(this,e.box)},SA=function(e,i){const{id:a}=i.drawLayer.draw(le._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return a},_A=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},i0=function(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=U(this,mi,SA).call(this,d(this,Ar),e)}},H6=function([e,i,a,r]){const{parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[i,1-e,a*(u/o),r*(o/u)];case 180:return[1-e,1-i,a,r];case 270:return[1-i,e,a*(u/o),r*(o/u)];default:return[e,i,a,r]}},kb=function(){const{x:e,y:i,width:a,height:r,parentDimensions:[o,u],rotation:h}=this;switch(h){case 90:return[1-i,e,a*(o/u),r*(u/o)];case 180:return[1-e,1-i,a,r];case 270:return[i,1-e,a*(o/u),r*(u/o)];default:return[e,i,a,r]}},n0=function(e){if([this.x,this.y,this.width,this.height]=U(this,mi,H6).call(this,e),this.div){this.fixAndSetPosition();const[i,a]=this.parentDimensions;this.setDims(this.width*i,this.height*a)}this._onResized()},Ag=function(){const{x:e,y:i,width:a,height:r,rotation:o,parentRotation:u,parentDimensions:[h,p]}=this;switch((o*4+u)/90){case 1:return[1-i-r,e,r,a];case 2:return[1-e-a,1-i-r,a,r];case 3:return[i,1-e-a,r,a];case 4:return[e,i-a*(h/p),r*(p/h),a*(h/p)];case 5:return[1-i,e,a*(h/p),r*(p/h)];case 6:return[1-e-r*(p/h),1-i,r*(p/h),a*(h/p)];case 7:return[i-a*(h/p),1-e-r*(p/h),a*(h/p),r*(p/h)];case 8:return[e-a,i-r,a,r];case 9:return[1-i,e-a,r,a];case 10:return[1-e,1-i,a,r];case 11:return[i-r,1-e,r,a];case 12:return[e-r*(p/h),i,r*(p/h),a*(h/p)];case 13:return[1-i-a*(h/p),e-r*(p/h),a*(h/p),r*(p/h)];case 14:return[1-e,1-i-a*(h/p),r*(p/h),a*(h/p)];case 15:return[i,1-e,a*(h/p),r*(p/h)];default:return[e,i,a,r]}},Wt(le,"_currentDrawId",-1),Wt(le,"_currentParent",null),I(le,ys,null),I(le,ip,null),I(le,np,null),I(le,Zh,NaN),I(le,Jh,null),I(le,td,null),I(le,sp,NaN),Wt(le,"_INNER_MARGIN",3);let tv=le;var Wl,ws,As,ap,km,Sa,Fs,to,rp,op,lp,Rm,Rb;class ZT{constructor(t,e,i,a,r,o){I(this,Rm);I(this,Wl,new Float64Array(6));I(this,ws);I(this,As);I(this,ap);I(this,km);I(this,Sa);I(this,Fs,"");I(this,to,0);I(this,rp,new Y2);I(this,op);I(this,lp);T(this,op,i),T(this,lp,a),T(this,ap,r),T(this,km,o),[t,e]=U(this,Rm,Rb).call(this,t,e);const u=T(this,ws,[NaN,NaN,NaN,NaN,t,e]);T(this,Sa,[t,e]),T(this,As,[{line:u,points:d(this,Sa)}]),d(this,Wl).set(u,0)}updateProperty(t,e){t==="stroke-width"&&T(this,km,e)}isEmpty(){return!d(this,As)||d(this,As).length===0}isCancellable(){return d(this,Sa).length<=10}add(t,e){[t,e]=U(this,Rm,Rb).call(this,t,e);const[i,a,r,o]=d(this,Wl).subarray(2,6),u=t-r,h=e-o;return Math.hypot(d(this,op)*u,d(this,lp)*h)<=2?null:(d(this,Sa).push(t,e),isNaN(i)?(d(this,Wl).set([r,o,t,e],2),d(this,ws).push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(d(this,Wl)[0])&&d(this,ws).splice(6,6),d(this,Wl).set([i,a,r,o,t,e],0),d(this,ws).push(...oe.createBezierPoints(i,a,r,o,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const i=this.add(t,e);return i||(d(this,Sa).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,i,a,r){T(this,op,i),T(this,lp,a),T(this,ap,r),[t,e]=U(this,Rm,Rb).call(this,t,e);const o=T(this,ws,[NaN,NaN,NaN,NaN,t,e]);T(this,Sa,[t,e]);const u=d(this,As).at(-1);return u&&(u.line=new Float32Array(u.line),u.points=new Float32Array(u.points)),d(this,As).push({line:o,points:d(this,Sa)}),d(this,Wl).set(o,0),T(this,to,0),this.toSVGPath(),null}getLastElement(){return d(this,As).at(-1)}setLastElement(t){return d(this,As)?(d(this,As).push(t),T(this,ws,t.line),T(this,Sa,t.points),T(this,to,0),{path:{d:this.toSVGPath()}}):d(this,rp).setLastElement(t)}removeLastElement(){if(!d(this,As))return d(this,rp).removeLastElement();d(this,As).pop(),T(this,Fs,"");for(let t=0,e=d(this,As).length;t<e;t++){const{line:i,points:a}=d(this,As)[t];T(this,ws,i),T(this,Sa,a),T(this,to,0),this.toSVGPath()}return{path:{d:d(this,Fs)}}}toSVGPath(){const t=oe.svgRound(d(this,ws)[4]),e=oe.svgRound(d(this,ws)[5]);if(d(this,Sa).length===2)return T(this,Fs,`${d(this,Fs)} M ${t} ${e} Z`),d(this,Fs);if(d(this,Sa).length<=6){const a=d(this,Fs).lastIndexOf("M");T(this,Fs,`${d(this,Fs).slice(0,a)} M ${t} ${e}`),T(this,to,6)}if(d(this,Sa).length===4){const a=oe.svgRound(d(this,ws)[10]),r=oe.svgRound(d(this,ws)[11]);return T(this,Fs,`${d(this,Fs)} L ${a} ${r}`),T(this,to,12),d(this,Fs)}const i=[];d(this,to)===0&&(i.push(`M ${t} ${e}`),T(this,to,6));for(let a=d(this,to),r=d(this,ws).length;a<r;a+=6){const[o,u,h,p,m,y]=d(this,ws).slice(a,a+6).map(oe.svgRound);i.push(`C${o} ${u} ${h} ${p} ${m} ${y}`)}return T(this,Fs,d(this,Fs)+i.join(" ")),T(this,to,d(this,ws).length),d(this,Fs)}getOutlines(t,e,i,a){const r=d(this,As).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),d(this,rp).build(d(this,As),t,e,i,d(this,ap),d(this,km),a),T(this,Wl,null),T(this,ws,null),T(this,As,null),T(this,Fs,null),d(this,rp)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Wl=new WeakMap,ws=new WeakMap,As=new WeakMap,ap=new WeakMap,km=new WeakMap,Sa=new WeakMap,Fs=new WeakMap,to=new WeakMap,rp=new WeakMap,op=new WeakMap,lp=new WeakMap,Rm=new WeakSet,Rb=function(t,e){return oe._normalizePoint(t,e,d(this,op),d(this,lp),d(this,ap))};var _a,I2,B2,xr,$l,Kl,Dm,Pm,cp,Bs,qc,G6,V6,Y6;class Y2 extends oe{constructor(){super(...arguments);I(this,Bs);I(this,_a);I(this,I2,0);I(this,B2);I(this,xr);I(this,$l);I(this,Kl);I(this,Dm);I(this,Pm);I(this,cp)}build(e,i,a,r,o,u,h){T(this,$l,i),T(this,Kl,a),T(this,Dm,r),T(this,Pm,o),T(this,cp,u),T(this,B2,h??0),T(this,xr,e),U(this,Bs,V6).call(this)}get thickness(){return d(this,cp)}setLastElement(e){return d(this,xr).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return d(this,xr).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:i}of d(this,xr)){if(e.push(`M${oe.svgRound(i[4])} ${oe.svgRound(i[5])}`),i.length===6){e.push("Z");continue}if(i.length===12&&isNaN(i[6])){e.push(`L${oe.svgRound(i[10])} ${oe.svgRound(i[11])}`);continue}for(let a=6,r=i.length;a<r;a+=6){const[o,u,h,p,m,y]=i.subarray(a,a+6).map(oe.svgRound);e.push(`C${o} ${u} ${h} ${p} ${m} ${y}`)}}return e.join("")}serialize([e,i,a,r],o){const u=[],h=[],[p,m,y,A]=U(this,Bs,G6).call(this);let w,L,N,M,E,R,P,K,X;switch(d(this,Pm)){case 0:X=oe._rescale,w=e,L=i+r,N=a,M=-r,E=e+p*a,R=i+(1-m-A)*r,P=e+(p+y)*a,K=i+(1-m)*r;break;case 90:X=oe._rescaleAndSwap,w=e,L=i,N=a,M=r,E=e+m*a,R=i+p*r,P=e+(m+A)*a,K=i+(p+y)*r;break;case 180:X=oe._rescale,w=e+a,L=i,N=-a,M=r,E=e+(1-p-y)*a,R=i+m*r,P=e+(1-p)*a,K=i+(m+A)*r;break;case 270:X=oe._rescaleAndSwap,w=e+a,L=i+r,N=-a,M=-r,E=e+(1-m-A)*a,R=i+(1-p-y)*r,P=e+(1-m)*a,K=i+(1-p)*r;break}for(const{line:st,points:it}of d(this,xr))u.push(X(st,w,L,N,M,o?new Array(st.length):null)),h.push(X(it,w,L,N,M,o?new Array(it.length):null));return{lines:u,points:h,rect:[E,R,P,K]}}static deserialize(e,i,a,r,o,{paths:{lines:u,points:h},rotation:p,thickness:m}){const y=[];let A,w,L,N,M;switch(p){case 0:M=oe._rescale,A=-e/a,w=i/r+1,L=1/a,N=-1/r;break;case 90:M=oe._rescaleAndSwap,A=-i/r,w=-e/a,L=1/r,N=1/a;break;case 180:M=oe._rescale,A=e/a+1,w=-i/r,L=-1/a,N=1/r;break;case 270:M=oe._rescaleAndSwap,A=i/r+1,w=e/a+1,L=-1/r,N=-1/a;break}if(!u){u=[];for(const R of h){const P=R.length;if(P===2){u.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1]]));continue}if(P===4){u.push(new Float32Array([NaN,NaN,NaN,NaN,R[0],R[1],NaN,NaN,NaN,NaN,R[2],R[3]]));continue}const K=new Float32Array(3*(P-2));u.push(K);let[X,st,it,W]=R.subarray(0,4);K.set([NaN,NaN,NaN,NaN,X,st],0);for(let lt=4;lt<P;lt+=2){const yt=R[lt],H=R[lt+1];K.set(oe.createBezierPoints(X,st,it,W,yt,H),(lt-2)*3),[X,st,it,W]=[it,W,yt,H]}}}for(let R=0,P=u.length;R<P;R++)y.push({line:M(u[R].map(K=>K??NaN),A,w,L,N),points:M(h[R].map(K=>K??NaN),A,w,L,N)});const E=new this.prototype.constructor;return E.build(y,a,r,1,p,m,o),E}get box(){return d(this,_a)}updateProperty(e,i){return e==="stroke-width"?U(this,Bs,Y6).call(this,i):null}updateParentDimensions([e,i],a){const[r,o]=U(this,Bs,qc).call(this);T(this,$l,e),T(this,Kl,i),T(this,Dm,a);const[u,h]=U(this,Bs,qc).call(this),p=u-r,m=h-o,y=d(this,_a);return y[0]-=p,y[1]-=m,y[2]+=2*p,y[3]+=2*m,y}updateRotation(e){return T(this,I2,e),{path:{transform:this.rotationTransform}}}get viewBox(){return d(this,_a).map(oe.svgRound).join(" ")}get defaultProperties(){const[e,i]=d(this,_a);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${oe.svgRound(e)} ${oe.svgRound(i)}`}}}get rotationTransform(){const[,,e,i]=d(this,_a);let a=0,r=0,o=0,u=0,h=0,p=0;switch(d(this,I2)){case 90:r=i/e,o=-e/i,h=e;break;case 180:a=-1,u=-1,h=e,p=i;break;case 270:r=-i/e,o=e/i,p=i;break;default:return""}return`matrix(${a} ${r} ${o} ${u} ${oe.svgRound(h)} ${oe.svgRound(p)})`}getPathResizingSVGProperties([e,i,a,r]){const[o,u]=U(this,Bs,qc).call(this),[h,p,m,y]=d(this,_a);if(Math.abs(m-o)<=oe.PRECISION||Math.abs(y-u)<=oe.PRECISION){const M=e+a/2-(h+m/2),E=i+r/2-(p+y/2);return{path:{"transform-origin":`${oe.svgRound(e)} ${oe.svgRound(i)}`,transform:`${this.rotationTransform} translate(${M} ${E})`}}}const A=(a-2*o)/(m-2*o),w=(r-2*u)/(y-2*u),L=m/a,N=y/r;return{path:{"transform-origin":`${oe.svgRound(h)} ${oe.svgRound(p)}`,transform:`${this.rotationTransform} scale(${L} ${N}) translate(${oe.svgRound(o)} ${oe.svgRound(u)}) scale(${A} ${w}) translate(${oe.svgRound(-o)} ${oe.svgRound(-u)})`}}}getPathResizedSVGProperties([e,i,a,r]){const[o,u]=U(this,Bs,qc).call(this),h=d(this,_a),[p,m,y,A]=h;if(h[0]=e,h[1]=i,h[2]=a,h[3]=r,Math.abs(y-o)<=oe.PRECISION||Math.abs(A-u)<=oe.PRECISION){const E=e+a/2-(p+y/2),R=i+r/2-(m+A/2);for(const{line:P,points:K}of d(this,xr))oe._translate(P,E,R,P),oe._translate(K,E,R,K);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${oe.svgRound(e)} ${oe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const w=(a-2*o)/(y-2*o),L=(r-2*u)/(A-2*u),N=-w*(p+o)+e+o,M=-L*(m+u)+i+u;if(w!==1||L!==1||N!==0||M!==0)for(const{line:E,points:R}of d(this,xr))oe._rescale(E,N,M,w,L,E),oe._rescale(R,N,M,w,L,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${oe.svgRound(e)} ${oe.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,i],a){const[r,o]=a,u=d(this,_a),h=e-u[0],p=i-u[1];if(d(this,$l)===r&&d(this,Kl)===o)for(const{line:m,points:y}of d(this,xr))oe._translate(m,h,p,m),oe._translate(y,h,p,y);else{const m=d(this,$l)/r,y=d(this,Kl)/o;T(this,$l,r),T(this,Kl,o);for(const{line:A,points:w}of d(this,xr))oe._rescale(A,h,p,m,y,A),oe._rescale(w,h,p,m,y,w);u[2]*=m,u[3]*=y}return u[0]=e,u[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${oe.svgRound(e)} ${oe.svgRound(i)}`}}}get defaultSVGProperties(){const e=d(this,_a);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${oe.svgRound(e[0])} ${oe.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}_a=new WeakMap,I2=new WeakMap,B2=new WeakMap,xr=new WeakMap,$l=new WeakMap,Kl=new WeakMap,Dm=new WeakMap,Pm=new WeakMap,cp=new WeakMap,Bs=new WeakSet,qc=function(e=d(this,cp)){const i=d(this,B2)+e/2*d(this,Dm);return d(this,Pm)%180===0?[i/d(this,$l),i/d(this,Kl)]:[i/d(this,Kl),i/d(this,$l)]},G6=function(){const[e,i,a,r]=d(this,_a),[o,u]=U(this,Bs,qc).call(this,0);return[e+o,i+u,a-2*o,r-2*u]},V6=function(){const e=T(this,_a,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of d(this,xr)){if(r.length<=12){for(let h=4,p=r.length;h<p;h+=6)Ae.pointBoundingBox(r[h],r[h+1],e);continue}let o=r[4],u=r[5];for(let h=6,p=r.length;h<p;h+=6){const[m,y,A,w,L,N]=r.subarray(h,h+6);Ae.bezierBoundingBox(o,u,m,y,A,w,L,N,e),o=L,u=N}}const[i,a]=U(this,Bs,qc).call(this);e[0]=La(e[0]-i,0,1),e[1]=La(e[1]-a,0,1),e[2]=La(e[2]+i,0,1),e[3]=La(e[3]+a,0,1),e[2]-=e[0],e[3]-=e[1]},Y6=function(e){const[i,a]=U(this,Bs,qc).call(this);T(this,cp,e);const[r,o]=U(this,Bs,qc).call(this),[u,h]=[r-i,o-a],p=d(this,_a);return p[0]-=u,p[1]-=h,p[2]+=2*u,p[3]+=2*h,p};class Tv extends U6{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:$i._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??(e=this["stroke-width"]),e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Tv(this._viewParameters);return t.updateAll(this),t}}var vv,X6;const Ng=class Ng extends tv{constructor(e){super({...e,name:"inkEditor"});I(this,vv);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,i){$i.initialize(e,i),this._defaultDrawingOptions=new Tv(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return ii(this,"typesMap",new Map([[ui.INK_THICKNESS,"stroke-width"],[ui.INK_COLOR,"stroke"],[ui.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,i,a,r,o){return new ZT(e,i,a,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,i,a,r,o,u){return Y2.deserialize(e,i,a,r,o,u)}static async deserialize(e,i,a){let r=null;if(e instanceof ZA){const{data:{inkLists:u,rect:h,rotation:p,id:m,color:y,opacity:A,borderStyle:{rawWidth:w},popupRef:L,contentsObj:N},parent:{page:{pageNumber:M}}}=e;r=e={annotationType:Ue.INK,color:Array.from(y),thickness:w,opacity:A,paths:{points:u},boxes:null,pageIndex:M-1,rect:h.slice(0),rotation:p,annotationElementId:m,id:m,deleted:!1,popupRef:L,comment:(N==null?void 0:N.str)||null}}const o=await super.deserialize(e,i,a);return o._initialData=r,e.comment&&o.setCommentData(e.comment),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Kb(this)),[["colorPicker",this._colorPicker]]}get colorType(){return ui.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:i,parent:a}=this;i.updateSVGProperty("stroke-width"),a.drawLayer.updateProperties(e,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:i,opacity:a}){this._drawingOptions=Ng.getDefaultDrawingOptions({stroke:Ae.makeHexColor(...e),"stroke-width":i,"stroke-opacity":a})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:a,rect:r}=this.serializeDraw(e),{_drawingOptions:{stroke:o,"stroke-opacity":u,"stroke-width":h}}=this,p={annotationType:Ue.INK,color:$i._colorManager.convert(o),opacity:u,thickness:h,paths:{lines:i,points:a},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(p),e?(p.isCopy=!0,p):this.annotationElementId&&!U(this,vv,X6).call(this,p)?null:(p.id=this.annotationElementId,p)}renderAnnotationElement(e){const{points:i,rect:a}=this.serializeDraw(!1),r={rect:a,thickness:this._drawingOptions["stroke-width"],points:i};return this.hasEditedComment&&(r.popup=this.comment),e.updateEdited(r),null}};vv=new WeakSet,X6=function(e){const{color:i,thickness:a,opacity:r,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((u,h)=>u!==i[h])||e.thickness!==a||e.opacity!==r||e.pageIndex!==o},Wt(Ng,"_type","ink"),Wt(Ng,"_editorType",Ue.INK),Wt(Ng,"_defaultDrawingOptions",null);let NA=Ng;class EA extends Y2{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const nb=8,z1=3;var up,Ei,LA,Ho,W6,$6,CA,Db,K6,Q6,Z6,TA,MA,J6;class xu{static extractContoursFromText(t,{fontFamily:e,fontStyle:i,fontWeight:a},r,o,u,h){let p=new OffscreenCanvas(1,1),m=p.getContext("2d",{alpha:!1});const y=200,A=m.font=`${i} ${a} ${y}px ${e}`,{actualBoundingBoxLeft:w,actualBoundingBoxRight:L,actualBoundingBoxAscent:N,actualBoundingBoxDescent:M,fontBoundingBoxAscent:E,fontBoundingBoxDescent:R,width:P}=m.measureText(t),K=1.5,X=Math.ceil(Math.max(Math.abs(w)+Math.abs(L)||0,P)*K),st=Math.ceil(Math.max(Math.abs(N)+Math.abs(M)||y,Math.abs(E)+Math.abs(R)||y)*K);p=new OffscreenCanvas(X,st),m=p.getContext("2d",{alpha:!0,willReadFrequently:!0}),m.font=A,m.filter="grayscale(1)",m.fillStyle="white",m.fillRect(0,0,X,st),m.fillStyle="black",m.fillText(t,X*(K-1)/2,st*(3-K)/2);const it=U(this,Ei,TA).call(this,m.getImageData(0,0,X,st).data),W=U(this,Ei,Z6).call(this,it),lt=U(this,Ei,MA).call(this,W),yt=U(this,Ei,CA).call(this,it,X,st,lt);return this.processDrawnLines({lines:{curves:yt,width:X,height:st},pageWidth:r,pageHeight:o,rotation:u,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,i,a,r){const[o,u,h]=U(this,Ei,J6).call(this,t),[p,m]=U(this,Ei,Q6).call(this,o,u,h,Math.hypot(u,h)*d(this,up).sigmaSFactor,d(this,up).sigmaR,d(this,up).kernelSize),y=U(this,Ei,MA).call(this,m),A=U(this,Ei,CA).call(this,p,u,h,y);return this.processDrawnLines({lines:{curves:A,width:u,height:h},pageWidth:e,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:i,rotation:a,innerMargin:r,mustSmooth:o,areContours:u}){a%180!==0&&([e,i]=[i,e]);const{curves:h,width:p,height:m}=t,y=t.thickness??0,A=[],w=Math.min(e/p,i/m),L=w/e,N=w/i,M=[];for(const{points:R}of h){const P=o?U(this,Ei,K6).call(this,R):R;if(!P)continue;M.push(P);const K=P.length,X=new Float32Array(K),st=new Float32Array(3*(K===2?2:K-2));if(A.push({line:st,points:X}),K===2){X[0]=P[0]*L,X[1]=P[1]*N,st.set([NaN,NaN,NaN,NaN,X[0],X[1]],0);continue}let[it,W,lt,yt]=P;it*=L,W*=N,lt*=L,yt*=N,X.set([it,W,lt,yt],0),st.set([NaN,NaN,NaN,NaN,it,W],0);for(let H=4;H<K;H+=2){const J=X[H]=P[H]*L,ut=X[H+1]=P[H+1]*N;st.set(oe.createBezierPoints(it,W,lt,yt,J,ut),(H-2)*3),[it,W,lt,yt]=[lt,yt,J,ut]}}if(A.length===0)return null;const E=u?new EA:new Y2;return E.build(A,e,i,1,a,u?0:y,r),{outline:E,newCurves:M,areContours:u,thickness:y,width:p,height:m}}static async compressSignature({outlines:t,areContours:e,thickness:i,width:a,height:r}){let o=1/0,u=-1/0,h=0;for(const P of t){h+=P.length;for(let K=2,X=P.length;K<X;K++){const st=P[K]-P[K-2];o=Math.min(o,st),u=Math.max(u,st)}}let p;o>=-128&&u<=127?p=Int8Array:o>=-32768&&u<=32767?p=Int16Array:p=Int32Array;const m=t.length,y=nb+z1*m,A=new Uint32Array(y);let w=0;A[w++]=y*Uint32Array.BYTES_PER_ELEMENT+(h-2*m)*p.BYTES_PER_ELEMENT,A[w++]=0,A[w++]=a,A[w++]=r,A[w++]=e?0:1,A[w++]=Math.max(0,Math.floor(i??0)),A[w++]=m,A[w++]=p.BYTES_PER_ELEMENT;for(const P of t)A[w++]=P.length-2,A[w++]=P[0],A[w++]=P[1];const L=new CompressionStream("deflate-raw"),N=L.writable.getWriter();await N.ready,N.write(A);const M=p.prototype.constructor;for(const P of t){const K=new M(P.length-2);for(let X=2,st=P.length;X<st;X++)K[X-2]=P[X]-P[X-2];N.write(K)}N.close();const E=await new Response(L.readable).arrayBuffer(),R=new Uint8Array(E);return t_(R)}static async decompressSignature(t){try{const e=AC(t),{readable:i,writable:a}=new DecompressionStream("deflate-raw"),r=a.getWriter();await r.ready,r.write(e).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let o=null,u=0;for await(const P of i)o||(o=new Uint8Array(new Uint32Array(P.buffer,0,4)[0])),o.set(P,u),u+=P.length;const h=new Uint32Array(o.buffer,0,o.length>>2),p=h[1];if(p!==0)throw new Error(`Invalid version: ${p}`);const m=h[2],y=h[3],A=h[4]===0,w=h[5],L=h[6],N=h[7],M=[],E=(nb+z1*L)*Uint32Array.BYTES_PER_ELEMENT;let R;switch(N){case Int8Array.BYTES_PER_ELEMENT:R=new Int8Array(o.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:R=new Int16Array(o.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:R=new Int32Array(o.buffer,E);break}u=0;for(let P=0;P<L;P++){const K=h[z1*P+nb],X=new Float32Array(K+2);M.push(X);for(let st=0;st<z1-1;st++)X[st]=h[z1*P+nb+st+1];for(let st=0;st<K;st++)X[st+2]=X[st]+R[u++]}return{areContours:A,thickness:w,outlines:M,width:m,height:y}}catch(e){return He(`decompressSignature: ${e}`),null}}}up=new WeakMap,Ei=new WeakSet,LA=function(t,e,i,a){return i-=t,a-=e,i===0?a>0?0:4:i===1?a+6:2-a},Ho=new WeakMap,W6=function(t,e,i,a,r,o,u){const h=U(this,Ei,LA).call(this,i,a,r,o);for(let p=0;p<8;p++){const m=(-p+h-u+16)%8,y=d(this,Ho)[2*m],A=d(this,Ho)[2*m+1];if(t[(i+y)*e+(a+A)]!==0)return m}return-1},$6=function(t,e,i,a,r,o,u){const h=U(this,Ei,LA).call(this,i,a,r,o);for(let p=0;p<8;p++){const m=(p+h+u+16)%8,y=d(this,Ho)[2*m],A=d(this,Ho)[2*m+1];if(t[(i+y)*e+(a+A)]!==0)return m}return-1},CA=function(t,e,i,a){const r=t.length,o=new Int32Array(r);for(let m=0;m<r;m++)o[m]=t[m]<=a?1:0;for(let m=1;m<i-1;m++)o[m*e]=o[m*e+e-1]=0;for(let m=0;m<e;m++)o[m]=o[e*i-1-m]=0;let u=1,h;const p=[];for(let m=1;m<i-1;m++){h=1;for(let y=1;y<e-1;y++){const A=m*e+y,w=o[A];if(w===0)continue;let L=m,N=y;if(w===1&&o[A-1]===0)u+=1,N-=1;else if(w>=1&&o[A+1]===0)u+=1,N+=1,w>1&&(h=w);else{w!==1&&(h=Math.abs(w));continue}const M=[y,m],E=N===y+1,R={isHole:E,points:M,id:u,parent:0};p.push(R);let P;for(const H of p)if(H.id===h){P=H;break}P?P.isHole?R.parent=E?P.parent:h:R.parent=E?h:P.parent:R.parent=E?h:0;const K=U(this,Ei,W6).call(this,o,e,m,y,L,N,0);if(K===-1){o[A]=-u,o[A]!==1&&(h=Math.abs(o[A]));continue}let X=d(this,Ho)[2*K],st=d(this,Ho)[2*K+1];const it=m+X,W=y+st;L=it,N=W;let lt=m,yt=y;for(;;){const H=U(this,Ei,$6).call(this,o,e,lt,yt,L,N,1);X=d(this,Ho)[2*H],st=d(this,Ho)[2*H+1];const J=lt+X,ut=yt+st;M.push(ut,J);const rt=lt*e+yt;if(o[rt+1]===0?o[rt]=-u:o[rt]===1&&(o[rt]=u),J===m&&ut===y&&lt===it&&yt===W){o[A]!==1&&(h=Math.abs(o[A]));break}else L=lt,N=yt,lt=J,yt=ut}}}return p},Db=function(t,e,i,a){if(i-e<=4){for(let it=e;it<i-2;it+=2)a.push(t[it],t[it+1]);return}const r=t[e],o=t[e+1],u=t[i-4]-r,h=t[i-3]-o,p=Math.hypot(u,h),m=u/p,y=h/p,A=m*o-y*r,w=h/u,L=1/p,N=Math.atan(w),M=Math.cos(N),E=Math.sin(N),R=L*(Math.abs(M)+Math.abs(E)),P=L*(1-R+R**2),K=Math.max(Math.atan(Math.abs(E+M)*P),Math.atan(Math.abs(E-M)*P));let X=0,st=e;for(let it=e+2;it<i-2;it+=2){const W=Math.abs(A-m*t[it+1]+y*t[it]);W>X&&(st=it,X=W)}X>(p*K)**2?(U(this,Ei,Db).call(this,t,e,st+2,a),U(this,Ei,Db).call(this,t,st,i,a)):a.push(r,o)},K6=function(t){const e=[],i=t.length;return U(this,Ei,Db).call(this,t,0,i,e),e.push(t[i-2],t[i-1]),e.length<=4?null:e},Q6=function(t,e,i,a,r,o){const u=new Float32Array(o**2),h=-2*a**2,p=o>>1;for(let N=0;N<o;N++){const M=(N-p)**2;for(let E=0;E<o;E++)u[N*o+E]=Math.exp((M+(E-p)**2)/h)}const m=new Float32Array(256),y=-2*r**2;for(let N=0;N<256;N++)m[N]=Math.exp(N**2/y);const A=t.length,w=new Uint8Array(A),L=new Uint32Array(256);for(let N=0;N<i;N++)for(let M=0;M<e;M++){const E=N*e+M,R=t[E];let P=0,K=0;for(let st=0;st<o;st++){const it=N+st-p;if(!(it<0||it>=i))for(let W=0;W<o;W++){const lt=M+W-p;if(lt<0||lt>=e)continue;const yt=t[it*e+lt],H=u[st*o+W]*m[Math.abs(yt-R)];P+=yt*H,K+=H}}const X=w[E]=Math.round(P/K);L[X]++}return[w,L]},Z6=function(t){const e=new Uint32Array(256);for(const i of t)e[i]++;return e},TA=function(t){const e=t.length,i=new Uint8ClampedArray(e>>2);let a=-1/0,r=1/0;for(let u=0,h=i.length;u<h;u++){const p=i[u]=t[u<<2];a=Math.max(a,p),r=Math.min(r,p)}const o=255/(a-r);for(let u=0,h=i.length;u<h;u++)i[u]=(i[u]-r)*o;return i},MA=function(t){let e,i=-1/0,a=-1/0;const r=t.findIndex(h=>h!==0);let o=r,u=r;for(e=r;e<256;e++){const h=t[e];h>i&&(e-o>a&&(a=e-o,u=e-1),i=h,o=e)}for(e=u-1;e>=0&&!(t[e]>t[e+1]);e--);return e},J6=function(t){const e=t,{width:i,height:a}=t,{maxDim:r}=d(this,up);let o=i,u=a;if(i>r||a>r){let A=i,w=a,L=Math.log2(Math.max(i,a)/r);const N=Math.floor(L);L=L===N?N-1:N;for(let E=0;E<L;E++){o=Math.ceil(A/2),u=Math.ceil(w/2);const R=new OffscreenCanvas(o,u);R.getContext("2d").drawImage(t,0,0,A,w,0,0,o,u),A=o,w=u,t!==e&&t.close(),t=R.transferToImageBitmap()}const M=Math.min(r/o,r/u);o=Math.round(o*M),u=Math.round(u*M)}const p=new OffscreenCanvas(o,u).getContext("2d",{willReadFrequently:!0});p.fillStyle="white",p.fillRect(0,0,o,u),p.filter="grayscale(1)",p.drawImage(t,0,0,t.width,t.height,0,0,o,u);const m=p.getImageData(0,0,o,u).data;return[U(this,Ei,TA).call(this,m),o,u]},I(xu,Ei),I(xu,up,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),I(xu,Ho,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class JA extends U6{constructor(){super(),super.updateProperties({fill:$i._defaultLineColor,"stroke-width":0})}clone(){const t=new JA;return t.updateAll(this),t}}class tx extends Tv{constructor(t){super(t),super.updateProperties({stroke:$i._defaultLineColor,"stroke-width":1})}clone(){const t=new tx(this._viewParameters);return t.updateAll(this),t}}var ed,Ql,id,hp;const cr=class cr extends tv{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"});I(this,ed,!1);I(this,Ql,null);I(this,id,null);I(this,hp,null);this._willKeepAspectRatio=!0,T(this,id,e.signatureData||null),T(this,Ql,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,i){$i.initialize(e,i),this._defaultDrawingOptions=new JA,this._defaultDrawnSignatureOptions=new tx(i.viewParameters)}static getDefaultDrawingOptions(e){const i=this._defaultDrawingOptions.clone();return i.updateProperties(e),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return ii(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!d(this,Ql)}}static computeTelemetryFinalData(e){const i=e.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,i;const{_isCopy:a}=this;if(a&&(this._isCopy=!1,e=this.x,i=this.y),super.render(),this._drawId===null)if(d(this,id)){const{lines:r,mustSmooth:o,areContours:u,description:h,uuid:p,heightInPage:m}=d(this,id),{rawDims:{pageWidth:y,pageHeight:A},rotation:w}=this.parent.viewport,L=xu.processDrawnLines({lines:r,pageWidth:y,pageHeight:A,rotation:w,innerMargin:cr._INNER_MARGIN,mustSmooth:o,areContours:u});this.addSignature(L,m,h,p)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:d(this,Ql)||""}));return a&&(this._isCopy=!0,this._moveAfterPaste(e,i)),this.div}setUuid(e){T(this,hp,e),this.addEditToolbar()}getUuid(){return d(this,hp)}get description(){return d(this,Ql)}set description(e){T(this,Ql,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:i,thickness:a,width:r,height:o}=d(this,id),u=Math.max(r,o),h=xu.processDrawnLines({lines:{curves:e.map(p=>({points:p})),thickness:a,width:r,height:o},pageWidth:u,pageHeight:u,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:h.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,i,a,r){const{x:o,y:u}=this,{outline:h}=T(this,id,e);T(this,ed,h instanceof EA),this.description=a;let p;d(this,ed)?p=cr.getDefaultDrawingOptions():(p=cr._defaultDrawnSignatureOptions.clone(),p.updateProperties({"stroke-width":h.thickness})),this._addOutlines({drawOutlines:h,drawingOptions:p});const[m,y]=this.parentDimensions,[,A]=this.pageDimensions;let w=i/A;w=w>=1?.5:w,this.width*=w/this.height,this.width>=1&&(w*=.9/this.width,this.width=.9),this.height=w,this.setDims(m*this.width,y*this.height),this.x=o,this.y=u,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!a}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:i,pageHeight:a},rotation:r}=this.parent.viewport;return xu.process(e,i,a,r,cr._INNER_MARGIN)}getFromText(e,i){const{rawDims:{pageWidth:a,pageHeight:r},rotation:o}=this.parent.viewport;return xu.extractContoursFromText(e,i,a,r,o,cr._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:i,pageHeight:a},rotation:r}=this.parent.viewport;return xu.processDrawnLines({lines:e,pageWidth:i,pageHeight:a,rotation:r,innerMargin:cr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:i}){e?this._drawingOptions=cr.getDefaultDrawingOptions():(this._drawingOptions=cr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:i,points:a,rect:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":o}}=this,u={annotationType:Ue.SIGNATURE,isSignature:!0,areContours:d(this,ed),color:[0,0,0],thickness:d(this,ed)?0:o,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(u),e?(u.paths={lines:i,points:a},u.uuid=d(this,hp),u.isCopy=!0):u.lines=i,d(this,Ql)&&(u.accessibilityData={type:"Figure",alt:d(this,Ql)}),u}static deserializeDraw(e,i,a,r,o,u){return u.areContours?EA.deserialize(e,i,a,r,o,u):Y2.deserialize(e,i,a,r,o,u)}static async deserialize(e,i,a){var o;const r=await super.deserialize(e,i,a);return T(r,ed,e.areContours),r.description=((o=e.accessibilityData)==null?void 0:o.alt)||"",T(r,hp,e.uuid),r}};ed=new WeakMap,Ql=new WeakMap,id=new WeakMap,hp=new WeakMap,Wt(cr,"_type","signature"),Wt(cr,"_editorType",Ue.SIGNATURE),Wt(cr,"_defaultDrawingOptions",null);let kA=cr;var un,xs,nd,bu,sd,Om,vu,dp,Zl,Sr,jm,bi,s0,a0,Pb,Ob,jb,DA,Fb,tN;class RA extends $i{constructor(e){super({...e,name:"stampEditor"});I(this,bi);I(this,un,null);I(this,xs,null);I(this,nd,null);I(this,bu,null);I(this,sd,null);I(this,Om,"");I(this,vu,null);I(this,dp,!1);I(this,Zl,null);I(this,Sr,!1);I(this,jm,!1);T(this,bu,e.bitmapUrl),T(this,sd,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,i){$i.initialize(e,i)}static isHandlingMimeForPasting(e){return Nw.includes(e)}static paste(e,i){i.pasteEditor({mode:Ue.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!((e=this.altTextData)!=null&&e.altText)}}static computeTelemetryFinalData(e){const i=e.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(e=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:a}=this._uiManager;if(!a)throw new Error("No ML.");if(!await a.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:u}=e||this.copyCanvas(null,null,!0).imageData,h=await a.guess({name:"altText",request:{data:r,width:o,height:u,channels:r.length/(o*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const p=h.output;return await this.setGuessedAltText(p),i&&!this.hasAltTextData()&&(this.altTextData={alt:p,decorative:!1}),p}remove(){var e;d(this,xs)&&(T(this,un,null),this._uiManager.imageManager.deleteId(d(this,xs)),(e=d(this,vu))==null||e.remove(),T(this,vu,null),d(this,Zl)&&(clearTimeout(d(this,Zl)),T(this,Zl,null))),super.remove()}rebuild(){if(!this.parent){d(this,xs)&&U(this,bi,Pb).call(this);return}super.rebuild(),this.div!==null&&(d(this,xs)&&d(this,vu)===null&&U(this,bi,Pb).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(d(this,nd)||d(this,un)||d(this,bu)||d(this,sd)||d(this,xs)||d(this,dp))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,i;return this._isCopy&&(e=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),d(this,dp)||(d(this,un)?U(this,bi,Ob).call(this):U(this,bi,Pb).call(this)),this._isCopy&&this._moveAfterPaste(e,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,i){const{id:a,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,i);i.remove(),a&&this._uiManager.imageManager.isValidId(a)&&(T(this,xs,a),r&&T(this,un,r),T(this,dp,!1),U(this,bi,Ob).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;d(this,Zl)!==null&&clearTimeout(d(this,Zl)),T(this,Zl,setTimeout(()=>{T(this,Zl,null),U(this,bi,DA).call(this)},200))}copyCanvas(e,i,a=!1){var w;e||(e=224);const{width:r,height:o}=d(this,un),u=new nc;let h=d(this,un),p=r,m=o,y=null;if(i){if(r>i||o>i){const W=Math.min(i/r,i/o);p=Math.floor(r*W),m=Math.floor(o*W)}y=document.createElement("canvas");const L=y.width=Math.ceil(p*u.sx),N=y.height=Math.ceil(m*u.sy);d(this,Sr)||(h=U(this,bi,jb).call(this,L,N));const M=y.getContext("2d");M.filter=this._uiManager.hcmFilter;let E="white",R="#cfcfd8";this._uiManager.hcmFilter!=="none"?R="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(E="#8f8f9d",R="#42414d");const P=15,K=P*u.sx,X=P*u.sy,st=new OffscreenCanvas(K*2,X*2),it=st.getContext("2d");it.fillStyle=E,it.fillRect(0,0,K*2,X*2),it.fillStyle=R,it.fillRect(0,0,K,X),it.fillRect(K,X,K,X),M.fillStyle=M.createPattern(st,"repeat"),M.fillRect(0,0,L,N),M.drawImage(h,0,0,h.width,h.height,0,0,L,N)}let A=null;if(a){let L,N;if(u.symmetric&&h.width<e&&h.height<e)L=h.width,N=h.height;else if(h=d(this,un),r>e||o>e){const R=Math.min(e/r,e/o);L=Math.floor(r*R),N=Math.floor(o*R),d(this,Sr)||(h=U(this,bi,jb).call(this,L,N))}const E=new OffscreenCanvas(L,N).getContext("2d",{willReadFrequently:!0});E.drawImage(h,0,0,h.width,h.height,0,0,L,N),A={width:L,height:N,data:E.getImageData(0,0,L,N).data}}return{canvas:y,width:p,height:m,imageData:A}}static async deserialize(e,i,a){var M;let r=null,o=!1;if(e instanceof m6){const{data:{rect:E,rotation:R,id:P,structParent:K,popupRef:X,contentsObj:st},container:it,parent:{page:{pageNumber:W}},canvas:lt}=e;let yt,H;lt?(delete e.canvas,{id:yt,bitmap:H}=a.imageManager.getFromCanvas(it.id,lt),lt.remove()):(o=!0,e._hasNoCanvas=!0);const J=((M=await i._structTree.getAriaAttributes(`${VA}${P}`))==null?void 0:M.get("aria-label"))||"";r=e={annotationType:Ue.STAMP,bitmapId:yt,bitmap:H,pageIndex:W-1,rect:E.slice(0),rotation:R,annotationElementId:P,id:P,deleted:!1,accessibilityData:{decorative:!1,altText:J},isSvg:!1,structParent:K,popupRef:X,comment:(st==null?void 0:st.str)||null}}const u=await super.deserialize(e,i,a),{rect:h,bitmap:p,bitmapUrl:m,bitmapId:y,isSvg:A,accessibilityData:w}=e;o?(a.addMissingCanvas(e.id,u),T(u,dp,!0)):y&&a.imageManager.isValidId(y)?(T(u,xs,y),p&&T(u,un,p)):T(u,bu,m),T(u,Sr,A);const[L,N]=u.pageDimensions;return u.width=(h[2]-h[0])/L,u.height=(h[3]-h[1])/N,w&&(u.altTextData=w),u._initialData=r,e.comment&&u.setCommentData(e.comment),T(u,jm,!!r),u}serialize(e=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const a={annotationType:Ue.STAMP,bitmapId:d(this,xs),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:d(this,Sr),structTreeParentId:this._structTreeParentId};if(this.addComment(a),e)return a.bitmapUrl=U(this,bi,Fb).call(this,!0),a.accessibilityData=this.serializeAltText(!0),a.isCopy=!0,a;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(a.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const h=U(this,bi,tN).call(this,a);if(h.isSame)return null;h.isSameAltText?delete a.accessibilityData:a.accessibilityData.structParent=this._initialData.structParent??-1}if(a.id=this.annotationElementId,i===null)return a;i.stamps||(i.stamps=new Map);const u=d(this,Sr)?(a.rect[2]-a.rect[0])*(a.rect[3]-a.rect[1]):null;if(!i.stamps.has(d(this,xs)))i.stamps.set(d(this,xs),{area:u,serialized:a}),a.bitmap=U(this,bi,Fb).call(this,!1);else if(d(this,Sr)){const h=i.stamps.get(d(this,xs));u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=U(this,bi,Fb).call(this,!1))}return a}renderAnnotationElement(e){const i={rect:this.getRect(0,0)};return this.hasEditedComment&&(i.popup=this.comment),e.updateEdited(i),null}}un=new WeakMap,xs=new WeakMap,nd=new WeakMap,bu=new WeakMap,sd=new WeakMap,Om=new WeakMap,vu=new WeakMap,dp=new WeakMap,Zl=new WeakMap,Sr=new WeakMap,jm=new WeakMap,bi=new WeakSet,s0=function(e,i=!1){if(!e){this.remove();return}T(this,un,e.bitmap),i||(T(this,xs,e.id),T(this,Sr,e.isSvg)),e.file&&T(this,Om,e.file.name),U(this,bi,Ob).call(this)},a0=function(){if(T(this,nd,null),this._uiManager.enableWaiting(!1),!!d(this,vu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,un)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&d(this,un)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Pb=function(){if(d(this,xs)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(d(this,xs)).then(a=>U(this,bi,s0).call(this,a,!0)).finally(()=>U(this,bi,a0).call(this));return}if(d(this,bu)){const a=d(this,bu);T(this,bu,null),this._uiManager.enableWaiting(!0),T(this,nd,this._uiManager.imageManager.getFromUrl(a).then(r=>U(this,bi,s0).call(this,r)).finally(()=>U(this,bi,a0).call(this)));return}if(d(this,sd)){const a=d(this,sd);T(this,sd,null),this._uiManager.enableWaiting(!0),T(this,nd,this._uiManager.imageManager.getFromFile(a).then(r=>U(this,bi,s0).call(this,r)).finally(()=>U(this,bi,a0).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Nw.join(",");const i=this._uiManager._signal;T(this,nd,new Promise(a=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),U(this,bi,s0).call(this,r)}a()},{signal:i}),e.addEventListener("cancel",()=>{this.remove(),a()},{signal:i})}).finally(()=>U(this,bi,a0).call(this))),e.click()},Ob=function(){var y;const{div:e}=this;let{width:i,height:a}=d(this,un);const[r,o]=this.pageDimensions,u=.75;if(this.width)i=this.width*r,a=this.height*o;else if(i>u*r||a>u*o){const A=Math.min(u*r/i,u*o/a);i*=A,a*=A}const[h,p]=this.parentDimensions;this.setDims(i*h/r,a*p/o),this._uiManager.enableWaiting(!1);const m=T(this,vu,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),this.width=i/r,this.height=a/o,(y=this._initialOptions)!=null&&y.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),U(this,bi,DA).call(this),d(this,jm)||(this.parent.addUndoableEditor(this),T(this,jm,!0)),this._reportTelemetry({action:"inserted_image"}),d(this,Om)&&this.div.setAttribute("aria-description",d(this,Om)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},jb=function(e,i){const{width:a,height:r}=d(this,un);let o=a,u=r,h=d(this,un);for(;o>2*e||u>2*i;){const p=o,m=u;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),u>2*i&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const y=new OffscreenCanvas(o,u);y.getContext("2d").drawImage(h,0,0,p,m,0,0,o,u),h=y.transferToImageBitmap()}return h},DA=function(){const[e,i]=this.parentDimensions,{width:a,height:r}=this,o=new nc,u=Math.ceil(a*e*o.sx),h=Math.ceil(r*i*o.sy),p=d(this,vu);if(!p||p.width===u&&p.height===h)return;p.width=u,p.height=h;const m=d(this,Sr)?d(this,un):U(this,bi,jb).call(this,u,h),y=p.getContext("2d");y.filter=this._uiManager.hcmFilter,y.drawImage(m,0,0,m.width,m.height,0,0,u,h)},Fb=function(e){if(e){if(d(this,Sr)){const r=this._uiManager.imageManager.getSvgUrl(d(this,xs));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=d(this,un),i.getContext("2d").drawImage(d(this,un),0,0),i.toDataURL()}if(d(this,Sr)){const[i,a]=this.pageDimensions,r=Math.round(this.width*i*pd.PDF_TO_CSS_UNITS),o=Math.round(this.height*a*pd.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(r,o);return u.getContext("2d").drawImage(d(this,un),0,0,d(this,un).width,d(this,un).height,0,0,r,o),u.transferToImageBitmap()}return structuredClone(d(this,un))},tN=function(e){var u;const{pageIndex:i,accessibilityData:{altText:a}}=this._initialData,r=e.pageIndex===i,o=(((u=e.accessibilityData)==null?void 0:u.alt)||"")===a;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},Wt(RA,"_type","stamp"),Wt(RA,"_editorType",Ue.STAMP);var fp,Fm,Jl,ad,yu,_r,rd,Im,pp,Go,wu,Ss,Au,od,Bm,be,ld,hn,eN,Dl,OA,jA,Ib;const Do=class Do{constructor({uiManager:t,pageIndex:e,div:i,structTreeLayer:a,accessibilityManager:r,annotationLayer:o,drawLayer:u,textLayer:h,viewport:p,l10n:m}){I(this,hn);I(this,fp);I(this,Fm,!1);I(this,Jl,null);I(this,ad,null);I(this,yu,null);I(this,_r,new Map);I(this,rd,!1);I(this,Im,!1);I(this,pp,!1);I(this,Go,null);I(this,wu,null);I(this,Ss,null);I(this,Au,null);I(this,od,null);I(this,Bm,-1);I(this,be);const y=[...d(Do,ld).values()];if(!Do._initialized){Do._initialized=!0;for(const A of y)A.initialize(m,t)}t.registerEditorTypes(y),T(this,be,t),this.pageIndex=e,this.div=i,T(this,fp,r),T(this,Jl,o),this.viewport=p,T(this,Ss,h),this.drawLayer=u,this._structTree=a,d(this,be).addLayer(this)}get isEmpty(){return d(this,_r).size===0}get isInvisible(){return this.isEmpty&&d(this,be).getMode()===Ue.NONE}updateToolbar(t){d(this,be).updateToolbar(t)}updateMode(t=d(this,be).getMode()){switch(U(this,hn,Ib).call(this),t){case Ue.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ue.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ue.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const i of d(Do,ld).values())e.toggle(`${i._type}Editing`,t===i._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=d(this,Ss))==null?void 0:e.div)}setEditingState(t){d(this,be).setEditingState(t)}addCommands(t){d(this,be).addCommands(t)}cleanUndoStack(t){d(this,be).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=d(this,Jl))==null||e.div.classList.toggle("disabled",!t)}async enable(){var i;T(this,pp,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(i=d(this,od))==null||i.abort(),T(this,od,null);const t=new Set;for(const a of d(this,_r).values())a.enableEditing(),a.show(!0),a.annotationElementId&&(d(this,be).removeChangedExistingAnnotation(a),t.add(a.annotationElementId));if(!d(this,Jl)){T(this,pp,!1);return}const e=d(this,Jl).getEditableAnnotations();for(const a of e){if(a.hide(),d(this,be).isDeletedAnnotationElement(a.data.id)||t.has(a.data.id))continue;const r=await this.deserialize(a);r&&(this.addOrRebuild(r),r.enableEditing())}T(this,pp,!1)}disable(){var a;if(T(this,Im,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),d(this,Ss)&&!d(this,od)){T(this,od,new AbortController);const r=d(this,be).combinedSignal(d(this,od));d(this,Ss).div.addEventListener("pointerdown",o=>{const{clientX:h,clientY:p,timeStamp:m}=o,y=d(this,Bm);if(m-y>500){T(this,Bm,m);return}T(this,Bm,-1);const{classList:A}=this.div;A.toggle("getElements",!0);const w=document.elementsFromPoint(h,p);if(A.toggle("getElements",!1),!this.div.contains(w[0]))return;let L;const N=new RegExp(`^${$4}[0-9]+$`);for(const E of w)if(N.test(E.id)){L=E.id;break}if(!L)return;const M=d(this,_r).get(L);(M==null?void 0:M.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),M.dblclick())},{signal:r,capture:!0})}const t=new Map,e=new Map;for(const r of d(this,_r).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(a=this.getEditableAnnotation(r.annotationElementId))==null||a.show(),r.remove()}if(d(this,Jl)){const r=d(this,Jl).getEditableAnnotations();for(const o of r){const{id:u}=o.data;if(d(this,be).isDeletedAnnotationElement(u)){o.updateEdited({deleted:!0});continue}let h=e.get(u);if(h){h.resetAnnotationElement(o),h.show(!1),o.show();continue}h=t.get(u),h&&(d(this,be).addChangedExistingAnnotation(h),h.renderAnnotationElement(o)&&h.show(!1)),o.show()}}U(this,hn,Ib).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of d(Do,ld).values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),T(this,Im,!1)}getEditableAnnotation(t){var e;return((e=d(this,Jl))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){d(this,be).getActive()!==t&&d(this,be).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=d(this,Ss))!=null&&t.div&&!d(this,Au)){T(this,Au,new AbortController);const e=d(this,be).combinedSignal(d(this,Au));d(this,Ss).div.addEventListener("pointerdown",U(this,hn,eN).bind(this),{signal:e}),d(this,Ss).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=d(this,Ss))!=null&&t.div&&d(this,Au)&&(d(this,Au).abort(),T(this,Au,null),d(this,Ss).div.classList.remove("highlighting"))}enableClick(){if(d(this,ad))return;T(this,ad,new AbortController);const t=d(this,be).combinedSignal(d(this,ad));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){var t;(t=d(this,ad))==null||t.abort(),T(this,ad,null)}attach(t){d(this,_r).set(t.id,t);const{annotationElementId:e}=t;e&&d(this,be).isDeletedAnnotationElement(e)&&d(this,be).removeDeletedAnnotationElement(t)}detach(t){var e;d(this,_r).delete(t.id),(e=d(this,fp))==null||e.removePointerInTextLayer(t.contentDiv),!d(this,Im)&&t.annotationElementId&&d(this,be).addDeletedAnnotationElement(t)}remove(t){this.detach(t),d(this,be).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(d(this,be).addDeletedAnnotationElement(t.annotationElementId),$i.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),d(this,be).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!d(this,pp)),d(this,be).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var i;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!d(this,yu)&&(t._focusEventsAllowed=!1,T(this,yu,setTimeout(()=>{T(this,yu,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:d(this,be)._signal}),e.focus())},0))),t._structTreeParentId=(i=d(this,fp))==null?void 0:i.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:e,undo:i,mustExec:!1})}getNextId(){return d(this,be).getId()}combinedSignal(t){return d(this,be).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=d(this,hn,Dl))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await d(this,be).updateMode(t.mode);const{offsetX:i,offsetY:a}=U(this,hn,jA).call(this),r=this.getNextId(),o=U(this,hn,OA).call(this,{parent:this,id:r,x:i,y:a,uiManager:d(this,be),isCentered:!0,...e});o&&this.add(o)}async deserialize(t){var e;return await((e=d(Do,ld).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,d(this,be)))||null}createAndAddNewEditor(t,e,i={}){const a=this.getNextId(),r=U(this,hn,OA).call(this,{parent:this,id:a,x:t.offsetX,y:t.offsetY,uiManager:d(this,be),isCentered:e,...i});return r&&this.add(r),r}addNewEditor(t={}){this.createAndAddNewEditor(U(this,hn,jA).call(this),!0,t)}setSelected(t){d(this,be).setSelected(t)}toggleSelected(t){d(this,be).toggleSelected(t)}unselect(t){d(this,be).unselect(t)}pointerup(t){var a;const{isMac:e}=qs.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!d(this,rd)||(T(this,rd,!1),(a=d(this,hn,Dl))!=null&&a.isDrawer&&d(this,hn,Dl).supportMultipleDrawings))return;if(!d(this,Fm)){T(this,Fm,!0);return}const i=d(this,be).getMode();if(i===Ue.STAMP||i===Ue.SIGNATURE){d(this,be).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var a;if(d(this,be).getMode()===Ue.HIGHLIGHT&&this.enableTextSelection(),d(this,rd)){T(this,rd,!1);return}const{isMac:e}=qs.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(T(this,rd,!0),(a=d(this,hn,Dl))!=null&&a.isDrawer){this.startDrawingSession(t);return}const i=d(this,be).getActive();T(this,Fm,!i||i.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),d(this,Go)){d(this,hn,Dl).startDrawing(this,d(this,be),!1,t);return}d(this,be).setCurrentDrawingSession(this),T(this,Go,new AbortController);const e=d(this,be).combinedSignal(d(this,Go));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(T(this,wu,null),this.commitOrRemove())},{signal:e}),d(this,hn,Dl).startDrawing(this,d(this,be),!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&T(this,wu,e);return}d(this,wu)&&setTimeout(()=>{var e;(e=d(this,wu))==null||e.focus(),T(this,wu,null)},0)}endDrawingSession(t=!1){return d(this,Go)?(d(this,be).setCurrentDrawingSession(null),d(this,Go).abort(),T(this,Go,null),T(this,wu,null),d(this,hn,Dl).endDrawing(t)):null}findNewParent(t,e,i){const a=d(this,be).findParent(e,i);return a===null||a===this?!1:(a.changeParent(t),!0)}commitOrRemove(){return d(this,Go)?(this.endDrawingSession(),!0):!1}onScaleChanging(){d(this,Go)&&d(this,hn,Dl).onScaleChangingWhenDrawing(this)}destroy(){var t,e;this.commitOrRemove(),((t=d(this,be).getActive())==null?void 0:t.parent)===this&&(d(this,be).commitOrRemove(),d(this,be).setActiveEditor(null)),d(this,yu)&&(clearTimeout(d(this,yu)),T(this,yu,null));for(const i of d(this,_r).values())(e=d(this,fp))==null||e.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,d(this,_r).clear(),d(this,be).removeLayer(this)}render({viewport:t}){this.viewport=t,bp(this.div,t);for(const e of d(this,be).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){d(this,be).commitOrRemove(),U(this,hn,Ib).call(this);const e=this.viewport.rotation,i=t.rotation;if(this.viewport=t,bp(this.div,{rotation:i}),e!==i)for(const a of d(this,_r).values())a.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return d(this,be).viewParameters.realScale}};fp=new WeakMap,Fm=new WeakMap,Jl=new WeakMap,ad=new WeakMap,yu=new WeakMap,_r=new WeakMap,rd=new WeakMap,Im=new WeakMap,pp=new WeakMap,Go=new WeakMap,wu=new WeakMap,Ss=new WeakMap,Au=new WeakMap,od=new WeakMap,Bm=new WeakMap,be=new WeakMap,ld=new WeakMap,hn=new WeakSet,eN=function(t){d(this,be).unselectAll();const{target:e}=t;if(e===d(this,Ss).div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&d(this,Ss).div.contains(e)){const{isMac:i}=qs.platform;if(t.button!==0||t.ctrlKey&&i)return;d(this,be).showAllEditors("highlight",!0,!0),d(this,Ss).div.classList.add("free"),this.toggleDrawing(),Jb.startHighlighting(this,d(this,be).direction==="ltr",{target:d(this,Ss).div,x:t.x,y:t.y}),d(this,Ss).div.addEventListener("pointerup",()=>{d(this,Ss).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:d(this,be)._signal}),t.preventDefault()}},Dl=function(){return d(Do,ld).get(d(this,be).getMode())},OA=function(t){const e=d(this,hn,Dl);return e?new e.prototype.constructor(t):null},jA=function(){const{x:t,y:e,width:i,height:a}=this.div.getBoundingClientRect(),r=Math.max(0,t),o=Math.max(0,e),u=Math.min(window.innerWidth,t+i),h=Math.min(window.innerHeight,e+a),p=(r+u)/2-t,m=(o+h)/2-e,[y,A]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:y,offsetY:A}},Ib=function(){for(const t of d(this,_r).values())t.isEmpty()&&t.remove()},Wt(Do,"_initialized",!1),I(Do,ld,new Map([gA,NA,RA,Jb,kA].map(t=>[t._editorType,t])));let PA=Do;var Vo,Na,gp,z2,yv,iN,sc,IA,nN,BA;const ss=class ss{constructor({pageIndex:t}){I(this,sc);I(this,Vo,null);I(this,Na,new Map);I(this,gp,new Map);this.pageIndex=t}setParent(t){if(!d(this,Vo)){T(this,Vo,t);return}if(d(this,Vo)!==t){if(d(this,Na).size>0)for(const e of d(this,Na).values())e.remove(),t.append(e);T(this,Vo,t)}}static get _svgFactory(){return ii(this,"_svgFactory",new Qb)}draw(t,e=!1,i=!1){const a=wa(ss,z2)._++,r=U(this,sc,IA).call(this),o=ss._svgFactory.createElement("defs");r.append(o);const u=ss._svgFactory.createElement("path");o.append(u);const h=`path_p${this.pageIndex}_${a}`;u.setAttribute("id",h),u.setAttribute("vector-effect","non-scaling-stroke"),e&&d(this,gp).set(a,u);const p=i?U(this,sc,nN).call(this,o,h):null,m=ss._svgFactory.createElement("use");return r.append(m),m.setAttribute("href",`#${h}`),this.updateProperties(r,t),d(this,Na).set(a,r),{id:a,clipPathId:`url(#${p})`}}drawOutline(t,e){const i=wa(ss,z2)._++,a=U(this,sc,IA).call(this),r=ss._svgFactory.createElement("defs");a.append(r);const o=ss._svgFactory.createElement("path");r.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const y=ss._svgFactory.createElement("mask");r.append(y),h=`mask_p${this.pageIndex}_${i}`,y.setAttribute("id",h),y.setAttribute("maskUnits","objectBoundingBox");const A=ss._svgFactory.createElement("rect");y.append(A),A.setAttribute("width","1"),A.setAttribute("height","1"),A.setAttribute("fill","white");const w=ss._svgFactory.createElement("use");y.append(w),w.setAttribute("href",`#${u}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const p=ss._svgFactory.createElement("use");a.append(p),p.setAttribute("href",`#${u}`),h&&p.setAttribute("mask",`url(#${h})`);const m=p.cloneNode();return a.append(m),p.classList.add("mainOutline"),m.classList.add("secondaryOutline"),this.updateProperties(a,t),d(this,Na).set(i,a),i}finalizeDraw(t,e){d(this,gp).delete(t),this.updateProperties(t,e)}updateProperties(t,e){var h;if(!e)return;const{root:i,bbox:a,rootClass:r,path:o}=e,u=typeof t=="number"?d(this,Na).get(t):t;if(u){if(i&&U(this,sc,BA).call(this,u,i),a&&U(h=ss,yv,iN).call(h,u,a),r){const{classList:p}=u;for(const[m,y]of Object.entries(r))p.toggle(m,y)}if(o){const m=u.firstChild.firstChild;U(this,sc,BA).call(this,m,o)}}}updateParent(t,e){if(e===this)return;const i=d(this,Na).get(t);i&&(d(e,Vo).append(i),d(this,Na).delete(t),d(e,Na).set(t,i))}remove(t){d(this,gp).delete(t),d(this,Vo)!==null&&(d(this,Na).get(t).remove(),d(this,Na).delete(t))}destroy(){T(this,Vo,null);for(const t of d(this,Na).values())t.remove();d(this,Na).clear(),d(this,gp).clear()}};Vo=new WeakMap,Na=new WeakMap,gp=new WeakMap,z2=new WeakMap,yv=new WeakSet,iN=function(t,[e,i,a,r]){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*e}%`,o.width=`${100*a}%`,o.height=`${100*r}%`},sc=new WeakSet,IA=function(){const t=ss._svgFactory.create(1,1,!0);return d(this,Vo).append(t),t.setAttribute("aria-hidden",!0),t},nN=function(t,e){const i=ss._svgFactory.createElement("clipPath");t.append(i);const a=`clip_${e}`;i.setAttribute("id",a),i.setAttribute("clipPathUnits","objectBoundingBox");const r=ss._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),a},BA=function(t,e){for(const[i,a]of Object.entries(e))a===null?t.removeAttribute(i):t.setAttribute(i,a)},I(ss,yv),I(ss,z2,0);let FA=ss;globalThis._pdfjsTestingUtils={HighlightOutliner:bA};globalThis.pdfjsLib={AbortException:fd,AnnotationEditorLayer:PA,AnnotationEditorParamsType:ui,AnnotationEditorType:Ue,AnnotationEditorUIManager:vp,AnnotationLayer:dA,AnnotationMode:wh,AnnotationType:$n,build:MT,ColorPicker:$b,createValidAbsoluteUrl:K4,DOMSVGFactory:Qb,DrawLayer:FA,FeatureTest:qs,fetchData:U2,getDocument:t6,getFilenameFromUrl:xC,getPdfFilenameFromUrl:SC,getRGB:Lv,getUuid:J4,getXfaPageViewport:NC,GlobalWorkerOptions:tc,ImageKind:lb,InvalidPDFException:Sw,isDataScheme:Ev,isPdfFile:XA,isValidExplicitDest:jC,MathClamp:La,noContextMenu:no,normalizeUnicode:yC,OPS:Gb,OutputScale:nc,PasswordResponses:uC,PDFDataRangeTransport:e6,PDFDateString:Yb,PDFWorker:h0,PermissionFlag:cC,PixelsPerInch:pd,RenderingCancelledException:YA,ResponseException:Vb,setLayerDimensions:bp,shadow:ii,SignatureExtractor:xu,stopEvent:Kn,SupportedImageMimeTypes:Nw,TextLayer:c0,TouchManager:Wb,updateUrlHash:Q4,Util:Ae,VerbosityLevel:Sv,version:TT,XfaLayer:a6};tc.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";const JT=()=>{var rt,_t;const[c,t]=De.useState([]),[e,i]=De.useState("image-to-pdf"),[a,r]=De.useState(!1),[o,u]=De.useState(!1),[h,p]=De.useState(!1),[m,y]=De.useState(null),A=De.useRef(null),w=De.useCallback(B=>{const z=Array.from(B.target.files);let Q=[];e==="image-to-pdf"?Q=z.filter(O=>O.type.startsWith("image/")):Q=z.filter(O=>O.type==="application/pdf");const pt=Q.map(O=>({id:Date.now()+Math.random(),file:O,name:O.name,size:O.size,type:O.type,preview:O.type.startsWith("image/")?URL.createObjectURL(O):null,status:"pending",progress:0,processed:null,processedPreview:null}));t(O=>[...O,...pt])},[e]),L=De.useCallback(B=>{B.preventDefault(),r(!1);const z=Array.from(B.dataTransfer.files);let Q=[];e==="image-to-pdf"?Q=z.filter(O=>O.type.startsWith("image/")):Q=z.filter(O=>O.type==="application/pdf");const pt=Q.map(O=>({id:Date.now()+Math.random(),file:O,name:O.name,size:O.size,type:O.type,preview:O.type.startsWith("image/")?URL.createObjectURL(O):null,status:"pending",progress:0,processed:null,processedPreview:null}));t(O=>[...O,...pt])},[e]),N=De.useCallback(B=>{B.preventDefault(),r(!0)},[]),M=De.useCallback(B=>{B.preventDefault(),r(!1)},[]),E=B=>{if(B===0)return"0 Bytes";const z=1024,Q=["Bytes","KB","MB","GB"],pt=Math.floor(Math.log(B)/Math.log(z));return parseFloat((B/Math.pow(z,pt)).toFixed(2))+" "+Q[pt]},R=async B=>{const z=new Ce;let Q=!0;for(const pt of B){const O=new Image;await new Promise(Kt=>{O.onload=Kt,O.src=pt.preview}),Q||z.addPage(),Q=!1;const ft=document.createElement("canvas"),k=ft.getContext("2d");ft.width=O.width,ft.height=O.height,k.drawImage(O,0,0);const q=ft.toDataURL("image/jpeg",.95),et=z.internal.pageSize.getWidth(),at=z.internal.pageSize.getHeight(),ct=O.width,gt=O.height,St=Math.min(et/ct,at/gt),Tt=ct*St,Yt=gt*St,Gt=(et-Tt)/2,$t=(at-Yt)/2;z.addImage(q,"JPEG",Gt,$t,Tt,Yt)}return z.output("blob")},P=async B=>{const z=await B.file.arrayBuffer(),Q=await t6(z).promise,pt=[];for(let O=1;O<=Q.numPages;O++){const ft=await Q.getPage(O),q=ft.getViewport({scale:2}),et=document.createElement("canvas"),at=et.getContext("2d");et.height=q.height,et.width=q.width,await ft.render({canvasContext:at,viewport:q}).promise;const ct=await new Promise(gt=>{et.toBlob(gt,"image/png")});pt.push({blob:ct,name:`${B.name.replace(".pdf","")}_page_${O}.png`,preview:URL.createObjectURL(ct)})}return pt},K=async()=>{u(!0);try{if(e==="image-to-pdf"){const B=c.filter(z=>z.type.startsWith("image/"));if(B.length>0){const z=await R(B),Q=new File([z],"converted.pdf",{type:"application/pdf"});t(pt=>pt.map(O=>({...O,processed:Q,status:"completed",progress:100})))}}else if(e==="pdf-to-image"){for(const B of c)if(B.type==="application/pdf"){t(Q=>Q.map(pt=>pt.id===B.id?{...pt,status:"processing",progress:50}:pt));const z=await P(B);t(Q=>Q.map(pt=>pt.id===B.id?{...pt,processed:z,status:"completed",progress:100}:pt))}}else e==="merge-pdf"&&t(B=>B.map(z=>({...z,status:"completed",progress:100})))}catch(B){console.error("Processing error:",B),t(z=>z.map(Q=>({...Q,status:"error",progress:0})))}u(!1)},X=B=>{if(e==="image-to-pdf"&&B.processed){const z=document.createElement("a");z.href=URL.createObjectURL(B.processed),z.download=B.processed.name,document.body.appendChild(z),z.click(),document.body.removeChild(z)}else e==="pdf-to-image"&&B.processed&&B.processed.forEach((z,Q)=>{setTimeout(()=>{const pt=document.createElement("a");pt.href=z.preview,pt.download=z.name,document.body.appendChild(pt),pt.click(),document.body.removeChild(pt)},Q*100)})},st=()=>{c.forEach((B,z)=>{B.processed&&setTimeout(()=>X(B),z*200)})},it=B=>{t(z=>z.filter(Q=>Q.id!==B))},W=()=>{t([])},lt=B=>{y(B),p(!0)},yt=[{id:"image-to-pdf",label:"Image to PDF",icon:r0,description:"Convert multiple images into a single PDF document"},{id:"pdf-to-image",label:"PDF to Image",icon:cd,description:"Extract pages from PDF files as high-quality images"},{id:"merge-pdf",label:"Merge PDF",icon:WE,description:"Combine multiple PDF files into one document"},{id:"split-pdf",label:"Split PDF",icon:oL,description:"Split PDF into separate pages or ranges"},{id:"compress-pdf",label:"Compress PDF",icon:ME,description:"Reduce PDF file size while maintaining quality"},{id:"protect-pdf",label:"Protect PDF",icon:YE,description:"Add password protection to PDF files"},{id:"unlock-pdf",label:"Unlock PDF",icon:GE,description:"Remove password protection from PDF files"},{id:"rotate-pdf",label:"Rotate PDF",icon:f4,description:"Rotate PDF pages to correct orientation"},{id:"extract-pages",label:"Extract Pages",icon:JE,description:"Extract specific pages from PDF documents"}],H=()=>e==="image-to-pdf"?"image/*":"application/pdf",ut=e==="image-to-pdf"?{title:"Upload Images",description:"Drag and drop your images here, or click to browse"}:{title:"Upload PDF Files",description:"Drag and drop your PDF files here, or click to browse"};return Y.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[Y.jsxs("div",{className:"text-center space-y-2",children:[Y.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center justify-center gap-2",children:[Y.jsx(cd,{className:"w-8 h-8 text-red-600"}),"Professional PDF Processor"]}),Y.jsx("p",{className:"text-gray-600",children:"Comprehensive PDF processing tools for all your document needs."})]}),c.length>0&&Y.jsxs("div",{className:"flex justify-between items-center",children:[Y.jsxs("div",{className:"text-sm text-gray-600",children:[c.length," file",c.length!==1?"s":""," uploaded"]}),Y.jsxs("div",{className:"flex gap-2",children:[Y.jsx(os,{onClick:K,disabled:o,className:"bg-red-600 hover:bg-red-700",children:o?Y.jsxs(Y.Fragment,{children:[Y.jsx(zb,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"Process Files"}),Y.jsxs(os,{onClick:st,variant:"outline",disabled:!c.some(B=>B.processed),children:[Y.jsx(Bb,{className:"w-4 h-4 mr-2"}),"Download All"]}),Y.jsxs(os,{onClick:W,variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:[Y.jsx(qb,{className:"w-4 h-4 mr-2"}),"Clear All"]})]})]}),Y.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[Y.jsx("div",{className:"border-b border-gray-200",children:Y.jsx("nav",{className:"flex space-x-1 px-6 overflow-x-auto",children:yt.map(B=>{const z=B.icon;return Y.jsxs("button",{onClick:()=>{i(B.id),t([])},className:`py-4 px-3 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors whitespace-nowrap ${e===B.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[Y.jsx(z,{className:"w-4 h-4"}),B.label]},B.id)})})}),Y.jsxs("div",{className:"p-6",children:[Y.jsxs("div",{className:"mb-6",children:[Y.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:(rt=yt.find(B=>B.id===e))==null?void 0:rt.label}),Y.jsx("p",{className:"text-gray-600",children:(_t=yt.find(B=>B.id===e))==null?void 0:_t.description})]}),Y.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${a?"border-red-400 bg-red-50":"border-gray-300 hover:border-red-400"}`,onDrop:L,onDragOver:N,onDragLeave:M,children:[Y.jsx(p4,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:ut.title}),Y.jsx("p",{className:"text-gray-500 mb-4",children:ut.description}),Y.jsx("input",{ref:A,type:"file",multiple:e!=="image-to-pdf"||!0,accept:H(),onChange:w,className:"hidden",id:"pdf-file-upload"}),Y.jsx("label",{htmlFor:"pdf-file-upload",children:Y.jsx(os,{className:"cursor-pointer bg-red-600 hover:bg-red-700",children:"Choose Files"})})]})]})]}),c.length>0&&Y.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[Y.jsx("div",{className:"flex justify-between items-center mb-4",children:Y.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Uploaded Files (",c.length,")"]})}),Y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(B=>Y.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[Y.jsxs("div",{className:"aspect-video bg-gray-100 rounded-lg mb-3 overflow-hidden relative",children:[B.preview?Y.jsx("img",{src:B.preview,alt:B.name,className:"w-full h-full object-cover"}):Y.jsx("div",{className:"w-full h-full flex items-center justify-center",children:Y.jsx(cd,{className:"w-12 h-12 text-gray-400"})}),B.status==="processing"&&Y.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:Y.jsx(zb,{className:"w-8 h-8 text-white animate-spin"})}),B.status==="completed"&&Y.jsx("div",{className:"absolute top-2 right-2",children:Y.jsx(h4,{className:"w-6 h-6 text-green-500 bg-white rounded-full p-1"})})]}),Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("h4",{className:"font-medium text-gray-800 truncate",title:B.name,children:B.name}),Y.jsxs("div",{className:"text-sm text-gray-600",children:[Y.jsxs("div",{children:["Size: ",E(B.size)]}),Y.jsxs("div",{children:["Type: ",B.type]}),B.processed&&e==="pdf-to-image"&&Y.jsxs("div",{className:"text-green-600 font-medium",children:[B.processed.length," images extracted"]})]}),Y.jsxs("div",{className:"flex space-x-2",children:[B.preview&&Y.jsxs(os,{onClick:()=>lt(B),size:"sm",variant:"outline",className:"flex-1",children:[Y.jsx(d4,{className:"w-4 h-4 mr-1"}),"Preview"]}),B.processed&&Y.jsxs(os,{onClick:()=>X(B),size:"sm",className:"flex-1 bg-red-600 hover:bg-red-700",children:[Y.jsx(Bb,{className:"w-4 h-4 mr-1"}),"Download"]}),Y.jsx(os,{onClick:()=>it(B.id),size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",children:Y.jsx(qb,{className:"w-4 h-4"})})]})]})]},B.id))})]}),h&&m&&Y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:Y.jsxs("div",{className:"bg-white rounded-xl max-w-4xl max-h-full overflow-auto",children:[Y.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[Y.jsx("h3",{className:"text-lg font-semibold",children:m.name}),Y.jsx(os,{onClick:()=>p(!1),variant:"outline",size:"sm",children:Y.jsx(g4,{className:"w-4 h-4"})})]}),Y.jsxs("div",{className:"p-4",children:[m.preview?Y.jsx("img",{src:m.preview,alt:"Preview",className:"w-full rounded-lg border border-gray-200"}):Y.jsx("div",{className:"w-full h-64 bg-gray-100 rounded-lg flex items-center justify-center",children:Y.jsx(cd,{className:"w-16 h-16 text-gray-400"})}),Y.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Size: ",E(m.size)]})]})]})})]})};function t7(){const[c,t]=De.useState("home"),e=()=>{switch(c){case"image-compressor":return Y.jsx(c8,{});case"pdf-processor":return Y.jsx(JT,{});case"home":default:return Y.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-12",children:[Y.jsxs("div",{className:"text-center space-y-6",children:[Y.jsxs("h1",{className:"text-5xl font-bold text-gray-800 leading-tight",children:["Professional Image & PDF",Y.jsx("span",{className:"block text-blue-600",children:"Processing Tools"})]}),Y.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Compress images, convert PDFs, merge documents, and more. All processing happens in your browser for complete privacy and security."}),Y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[Y.jsxs(os,{onClick:()=>t("image-compressor"),size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-lg px-8 py-4",children:[Y.jsx(r0,{className:"w-5 h-5 mr-2"}),"Start Compressing Images"]}),Y.jsxs(os,{onClick:()=>t("pdf-processor"),size:"lg",variant:"outline",className:"text-lg px-8 py-4 border-2",children:[Y.jsx(cd,{className:"w-5 h-5 mr-2"}),"Process PDF Files"]})]})]}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[Y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[Y.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:Y.jsx(r0,{className:"w-6 h-6 text-blue-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Image Compression"}),Y.jsx("p",{className:"text-gray-600 mb-4",children:"Reduce image file sizes while maintaining quality. Supports JPEG, PNG, WebP, and more formats."}),Y.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[Y.jsx("li",{children:" Adjustable quality settings"}),Y.jsx("li",{children:" Batch processing"}),Y.jsx("li",{children:" Multiple format support"}),Y.jsx("li",{children:" Real-time preview"})]})]}),Y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[Y.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mb-4",children:Y.jsx(cd,{className:"w-6 h-6 text-red-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"PDF Processing"}),Y.jsx("p",{className:"text-gray-600 mb-4",children:"Convert images to PDF, extract images from PDFs, merge multiple documents, and more."}),Y.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[Y.jsx("li",{children:" Image to PDF conversion"}),Y.jsx("li",{children:" PDF to image extraction"}),Y.jsx("li",{children:" Merge multiple PDFs"}),Y.jsx("li",{children:" High-quality output"})]})]}),Y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[Y.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:Y.jsx(nL,{className:"w-6 h-6 text-green-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Privacy First"}),Y.jsx("p",{className:"text-gray-600 mb-4",children:"All processing happens locally in your browser. Your files never leave your device."}),Y.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[Y.jsx("li",{children:" No file uploads to servers"}),Y.jsx("li",{children:" Complete data privacy"}),Y.jsx("li",{children:" GDPR compliant"}),Y.jsx("li",{children:" Secure processing"})]})]}),Y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[Y.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:Y.jsx(pL,{className:"w-6 h-6 text-purple-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Fast & Efficient"}),Y.jsx("p",{className:"text-gray-600 mb-4",children:"Optimized algorithms ensure fast processing even for large files and batch operations."}),Y.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[Y.jsx("li",{children:" Lightning-fast processing"}),Y.jsx("li",{children:" Batch operations"}),Y.jsx("li",{children:" Memory optimized"}),Y.jsx("li",{children:" No file size limits"})]})]}),Y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[Y.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:Y.jsx(qE,{className:"w-6 h-6 text-orange-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Easy to Use"}),Y.jsx("p",{className:"text-gray-600 mb-4",children:"Intuitive interface with drag-and-drop support. No technical knowledge required."}),Y.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[Y.jsx("li",{children:" Drag & drop interface"}),Y.jsx("li",{children:" Real-time feedback"}),Y.jsx("li",{children:" Mobile responsive"}),Y.jsx("li",{children:" One-click downloads"})]})]}),Y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:[Y.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4",children:Y.jsx(cd,{className:"w-6 h-6 text-indigo-600"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Professional Quality"}),Y.jsx("p",{className:"text-gray-600 mb-4",children:"Enterprise-grade tools that deliver professional results for all your document needs."}),Y.jsxs("ul",{className:"text-sm text-gray-500 space-y-1",children:[Y.jsx("li",{children:" High-quality output"}),Y.jsx("li",{children:" Professional algorithms"}),Y.jsx("li",{children:" Format preservation"}),Y.jsx("li",{children:" Metadata handling"})]})]})]}),Y.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8",children:[Y.jsx("h2",{className:"text-3xl font-bold text-gray-800 text-center mb-8",children:"How It Works"}),Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:Y.jsx("span",{className:"text-2xl font-bold text-white",children:"1"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Upload Files"}),Y.jsx("p",{className:"text-gray-600",children:"Drag and drop your images or PDF files, or click to browse and select files from your device."})]}),Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:Y.jsx("span",{className:"text-2xl font-bold text-white",children:"2"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Process"}),Y.jsx("p",{className:"text-gray-600",children:"Choose your settings and click process. All operations happen locally in your browser for privacy."})]}),Y.jsxs("div",{className:"text-center",children:[Y.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:Y.jsx("span",{className:"text-2xl font-bold text-white",children:"3"})}),Y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Download"}),Y.jsx("p",{className:"text-gray-600",children:"Download your processed files individually or all at once. Files are ready in seconds."})]})]})]}),Y.jsx("div",{className:"bg-blue-600 rounded-2xl p-8 text-white",children:Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 text-center",children:[Y.jsxs("div",{children:[Y.jsx("div",{className:"text-3xl font-bold mb-2",children:"100%"}),Y.jsx("div",{className:"text-blue-100",children:"Privacy Protected"})]}),Y.jsxs("div",{children:[Y.jsx("div",{className:"text-3xl font-bold mb-2",children:""}),Y.jsx("div",{className:"text-blue-100",children:"File Size Limit"})]}),Y.jsxs("div",{children:[Y.jsx("div",{className:"text-3xl font-bold mb-2",children:"10+"}),Y.jsx("div",{className:"text-blue-100",children:"File Formats"})]}),Y.jsxs("div",{children:[Y.jsx("div",{className:"text-3xl font-bold mb-2",children:"0"}),Y.jsx("div",{className:"text-blue-100",children:"Completely Free"})]})]})})]})}};return Y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[Y.jsx("header",{className:"bg-white shadow-lg border-b border-gray-200 sticky top-0 z-50",children:Y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:Y.jsxs("div",{className:"flex justify-between items-center py-4",children:[Y.jsxs("div",{className:"flex items-center",children:[Y.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Professional Tools"}),Y.jsx("span",{className:"ml-3 text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:"Image & PDF Processing"})]}),Y.jsxs("nav",{className:"flex items-center space-x-1 bg-gray-100 rounded-xl p-1",children:[Y.jsxs("button",{onClick:()=>t("home"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 ${c==="home"?"bg-white text-blue-600 shadow-md":"text-gray-600 hover:text-gray-800"}`,children:[Y.jsx(IE,{className:"w-4 h-4"}),"Home"]}),Y.jsxs("button",{onClick:()=>t("image-compressor"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 ${c==="image-compressor"?"bg-white text-blue-600 shadow-md":"text-gray-600 hover:text-gray-800"}`,children:[Y.jsx(r0,{className:"w-4 h-4"}),"Image Tools"]}),Y.jsxs("button",{onClick:()=>t("pdf-processor"),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 ${c==="pdf-processor"?"bg-white text-blue-600 shadow-md":"text-gray-600 hover:text-gray-800"}`,children:[Y.jsx(cd,{className:"w-4 h-4"}),"PDF Tools"]})]})]})})}),Y.jsx("main",{className:"py-8",children:e()}),Y.jsx("footer",{className:"bg-gray-800 text-white py-12 mt-16",children:Y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[Y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[Y.jsxs("div",{className:"col-span-1 md:col-span-2",children:[Y.jsx("h3",{className:"text-xl font-bold mb-4",children:"Professional Image & PDF Tools"}),Y.jsx("p",{className:"text-gray-300 mb-4",children:"Free, secure, and powerful tools for all your image compression and PDF processing needs. All processing happens locally in your browser for complete privacy."}),Y.jsxs("div",{className:"flex space-x-4",children:[Y.jsx("div",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:"Privacy First"}),Y.jsx("div",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:"100% Free"}),Y.jsx("div",{className:"bg-gray-700 px-3 py-1 rounded-full text-sm",children:"No Limits"})]})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Image Tools"}),Y.jsxs("ul",{className:"space-y-2 text-gray-300",children:[Y.jsx("li",{children:"Image Compression"}),Y.jsx("li",{children:"Format Conversion"}),Y.jsx("li",{children:"Batch Processing"}),Y.jsx("li",{children:"Quality Control"})]})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-lg font-semibold mb-4",children:"PDF Tools"}),Y.jsxs("ul",{className:"space-y-2 text-gray-300",children:[Y.jsx("li",{children:"Image to PDF"}),Y.jsx("li",{children:"PDF to Image"}),Y.jsx("li",{children:"Merge PDFs"}),Y.jsx("li",{children:"Split PDFs"})]})]})]}),Y.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center",children:Y.jsxs("p",{className:"text-gray-400",children:[" 2024 Professional Image & PDF Tools. All rights reserved.",Y.jsx("span",{className:"block mt-2",children:"Secure  Fast  Privacy-First  Completely Free"})]})})]})})]})}bE.createRoot(document.getElementById("root")).render(Y.jsx(De.StrictMode,{children:Y.jsx(t7,{})}));export{Di as _};
